{"question": "How to perform curve fitting using scipy's curve_fit?", "code": "from scipy.optimize import curve_fit\nimport numpy as np\nimport matplotlib.pyplot as plt\n\ndef f(x,a,b,c): return a*np.exp(-b*x)+c\nx=np.linspace(0,5,50)\ny=f(x,2.5,1.3,0.5)+0.2*np.random.randn(len(x))\np,_=curve_fit(f,x,y,p0=[2,1,0])\nprint(f\"a={p[0]:.3f}, b={p[1]:.3f}, c={p[2]:.3f}\")\nplt.scatter(x,y,alpha=0.6)\nplt.plot(x,f(x,*p),'r')\nplt.show()", "difficulty": "hard", "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP001"}
{"question": "Visualize the planes in 3D using Matplotlib", "code": "import numpy as np\nimport matplotlib.pyplot as plt\nfrom mpl_toolkits.mplot3d import Axes3D\n\nfig = plt.figure()\nax = fig.add_subplot(111, projection='3d')\n\n# Create a grid of points\nx = np.linspace(-5, 5, 20)\ny = np.linspace(-5, 5, 20)\nX, Y = np.meshgrid(x, y)\n\n# Plane 1: z = x + y\nZ1 = X + Y\nax.plot_surface(X, Y, Z1, alpha=0.5, color='blue')\n\n# Plane 2: z = 5 - x + 0.5*y\nZ2 = 5 - X + 0.5*Y\nax.plot_surface(X, Y, Z2, alpha=0.5, color='red')\n\nax.set_xlabel('X')\nax.set_ylabel('Y')\nax.set_zlabel('Z')\nplt.show()", "difficulty": "easy", "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP002"}
{"question": "Plot a simple 3D line in Matplotlib", "code": "import numpy as np\nimport matplotlib.pyplot as plt\nfrom mpl_toolkits.mplot3d import Axes3D\n\nfig = plt.figure()\nax = fig.add_subplot(111, projection='3d')\n\n# Line coordinates\nz = np.linspace(0, 10, 100)\nx = z * np.sin(z)\ny = z * np.cos(z)\n\nax.plot(x, y, z, label='3D Line', color='green')\nax.set_xlabel('X')\nax.set_ylabel('Y')\nax.set_zlabel('Z')\nax.legend()\nplt.show()", "difficulty": "easy", "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP003"}
{"question": "How to implement efficient groupby-apply with custom statistics?", "code": "import pandas as pd\nimport numpy as np\n\ndf=pd.DataFrame({'Group':['A']*30+['B']*30,'Value':np.random.randn(60)})\nres=df.groupby('Group')['Value'].agg(['mean','std','min','max'])\nprint(res)", "difficulty": "medium", "core_category": "DATA_TRANSFORMATION", "id": "SNP002"}
{"question": "How to compare each element of a 2D array with a 1D array using broadcasting?", "code": "import numpy as np\nA=np.array([[1,2,3],[4,5,6],[7,8,9]])\nb=np.array([3,5,7])\nprint(A>b)", "difficulty": "easy", "core_category": "ARRAY_OPERATIONS", "id": "SNP003"}
{"question": "How to create subplots with different sizes using gridspec?", "code": "import matplotlib.pyplot as plt\nimport matplotlib.gridspec as gs\nimport numpy as np\nfig=plt.figure(figsize=(8,5))\ng=gs.GridSpec(2,2,width_ratios=[1,2],height_ratios=[2,1])\nax1=fig.add_subplot(g[0,0]); ax1.plot(np.random.rand(10))\nax2=fig.add_subplot(g[0,1]); ax2.plot(np.random.rand(10))\nax3=fig.add_subplot(g[1,:]); ax3.plot(np.random.rand(10))\nplt.tight_layout(); plt.show()", "difficulty": "medium", "core_category": "VISUALIZATION_BASICS", "id": "SNP004"}
{"question": "How to read JSON file?", "code": "import json\nwith open('data.json','r') as f:\n    data=json.load(f)\nprint(data)", "difficulty": "easy", "core_category": "DATA_PREPROCESSING", "id": "SNP005"}
{"question": "How to save figure?", "code": "import matplotlib.pyplot as plt\nplt.plot([1,2,3],[4,5,6])\nplt.savefig('figure.png',dpi=300,bbox_inches='tight')\nplt.close()", "difficulty": "easy", "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP006"}
{"question": "Impute missing values using column-wise statistics without loops.", "code": "import pandas as pd\nimport numpy as np\ndf=pd.DataFrame({'A':[1,np.nan,3],'B':[4,5,np.nan]})\ndf=df.fillna(df.mean())\nprint(df)", "difficulty": "medium", "core_category": "DATA_PREPROCESSING", "id": "SNP007"}
{"question": "How to minimize a function of two variables using scipy?", "code": "from scipy.optimize import minimize\nimport numpy as np\nf=lambda x:(x[0]-1)**2+(x[1]-2)**2\nres=minimize(f,[0,0])\nprint(res.x)", "difficulty": "medium", "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP008"}
{"question": "How to create interactive plot with plotly?", "code": "import plotly.express as px\nimport pandas as pd\ndf=pd.DataFrame({'x':[1,2,3],'y':[4,5,6]})\nfig=px.line(df,x='x',y='y')\nfig.show()", "difficulty": "easy", "core_category": "VISUALIZATION_BASICS", "id": "SNP009"}
{"question": "How to resample time series data?", "code": "import pandas as pd\nidx=pd.date_range('2023-01-01',periods=10,freq='D')\ndf=pd.DataFrame({'v':range(10)},index=idx)\nprint(df.resample('3D').mean())", "difficulty": "medium", "core_category": "DATA_TRANSFORMATION", "id": "SNP010"}
{"question": "How to sample random elements from an array with specified probabilities?", "code": "import numpy as np\nchoices = ['A', 'B', 'C', 'D']\nprobabilities = [0.1, 0.2, 0.3, 0.4]\n# Sample 10 times with given probabilities\nsamples = np.random.choice(choices, size=10, p=probabilities)\nprint(samples)", "difficulty": "medium", "tags": ["numpy", "random", "sampling"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP011"}
{"question": "How to create a stacked bar chart?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\ncategories = ['Q1', 'Q2', 'Q3', 'Q4']\nproduct_A = [20, 35, 30, 25]\nproduct_B = [15, 25, 20, 30]\nproduct_C = [10, 15, 25, 20]\nplt.bar(categories, product_A, label='Product A', color='skyblue')\nplt.bar(categories, product_B, bottom=product_A, label='Product B', color='lightgreen')\nplt.bar(categories, product_C, bottom=np.array(product_A)+np.array(product_B), label='Product C', color='salmon')\nplt.title('Stacked Bar Chart - Quarterly Sales')\nplt.ylabel('Sales Units')\nplt.legend()\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "stacked bar", "plot"], "core_category": "VISUALIZATION_BASICS", "id": "SNP012"}
{"question": "How to split a violin plot to compare two categories within each group?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n# Create dataset\ndf = pd.DataFrame({\n    'Group': ['A']*50 + ['B']*50 + ['A']*50 + ['B']*50,\n    'Value': np.concatenate([\n        np.random.normal(10, 2, 50),\n        np.random.normal(12, 2, 50),\n        np.random.normal(8, 1.5, 50),\n        np.random.normal(14, 2.5, 50)\n    ]),\n    'Category': ['X']*100 + ['Y']*100\n})\nsns.violinplot(x='Group', y='Value', hue='Category', data=df, split=True, palette='pastel')\nplt.title('Split Violin Plot by Category')\nplt.legend(title='Category')\nplt.show()", "difficulty": "hard", "tags": ["seaborn", "violinplot", "split", "hue"], "core_category": "VISUALIZATION_BASICS", "id": "SNP013"}
{"question": "How to extract year, month, and day from a datetime column?", "code": "import pandas as pd\ndf = pd.DataFrame({\n    'date': pd.to_datetime(['2023-01-15', '2023-05-22', '2023-11-30'])\n})\ndf['year'] = df['date'].dt.year\ndf['month'] = df['date'].dt.month\ndf['day'] = df['date'].dt.day\nprint(df)", "difficulty": "easy", "tags": ["pandas", "datetime", "extract"], "core_category": "DATA_PREPROCESSING", "id": "SNP014"}
{"question": "How to write a DataFrame to an Excel file?", "code": "import pandas as pd\ndf = pd.DataFrame({'Name': ['Alice', 'Bob'], 'Age': [25, 30], 'Score': [85, 92]})\n# Write to Excel (requires openpyxl or xlsxwriter installed)\n# df.to_excel('output.xlsx', index=False)\n# For this example, we'll just show the code\nprint(\"Code: df.to_excel('output.xlsx', index=False)\")\nprint(\"DataFrame to be saved:\")\nprint(df)", "difficulty": "easy", "tags": ["pandas", "excel", "export"], "core_category": "DATA_PREPROCESSING", "id": "SNP015"}
{"question": "How to perform label encoding for a categorical column?", "code": "import pandas as pd\n# Create DataFrame\ndf = pd.DataFrame({'Size': ['Small', 'Medium', 'Large', 'Medium', 'Small']})\nprint(\"Original:\")\nprint(df)\n# Map categories to codes\nsize_mapping = {'Small': 0, 'Medium': 1, 'Large': 2}\ndf['Size_encoded'] = df['Size'].map(size_mapping)\nprint(\"\\nAfter label encoding:\")\nprint(df)", "difficulty": "easy", "tags": ["pandas", "label encoding", "mapping"], "core_category": "DATA_TRANSFORMATION", "id": "SNP016"}
{"question": "How to multiply a 2D array by a 1D array row-wise using broadcasting?", "code": "import numpy as np\n# 2D array (3x4)\nmatrix = np.array([[1, 2, 3, 4],\n                   [5, 6, 7, 8],\n                   [9, 10, 11, 12]])\n# 1D array (length 4)\nrow_multiplier = np.array([1, 2, 3, 4])\n# Multiply each row by the row_multiplier\nresult = matrix * row_multiplier  # Broadcasting\nprint(result)", "difficulty": "medium", "tags": ["numpy", "broadcasting", "multiplication"], "core_category": "ARRAY_OPERATIONS", "id": "SNP017"}
{"question": "How to create a 2x2 grid of subplots with shared axes?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\nx = np.linspace(0, 2*np.pi, 100)\nfig, axs = plt.subplots(2, 2, figsize=(10, 8), sharex=True, sharey=True)\naxs[0,0].plot(x, np.sin(x), color='blue')\naxs[0,0].set_title('sin(x)')\naxs[0,0].grid(True)\naxs[0,1].plot(x, np.cos(x), color='red')\naxs[0,1].set_title('cos(x)')\naxs[0,1].grid(True)\naxs[1,0].plot(x, np.tan(x), color='green')\naxs[1,0].set_title('tan(x)')\naxs[1,0].set_ylim(-5,5)\naxs[1,0].grid(True)\naxs[1,1].plot(x, np.exp(-x) * np.sin(x), color='purple')\naxs[1,1].set_title('exp(-x)*sin(x)')\naxs[1,1].grid(True)\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "subplots", "grid", "shared axes"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP018"}
{"question": "How to create a jointplot with regression line and kde?", "code": "import seaborn as sns\nimport numpy as np\n# Create correlated data\nnp.random.seed(0)\nx = np.random.randn(150)\ny = 2*x + np.random.randn(150) * 0.5\ng = sns.jointplot(x=x, y=y, kind='reg', color='teal', height=6)\ng.fig.suptitle('Joint Plot with Regression')\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "jointplot", "regression", "kde"], "core_category": "VISUALIZATION_BASICS", "id": "SNP019"}
{"question": "How to compute the Fourier transform of a signal using scipy?", "code": "from scipy.fft import fft, fftfreq\nimport numpy as np\nimport matplotlib.pyplot as plt\n# Generate a signal: sum of two sine waves\nt = np.linspace(0, 1, 500, endpoint=False)  # 1 second sampled at 500Hz\nsignal = 5*np.sin(2*np.pi*10*t) + 2*np.sin(2*np.pi*50*t)  # 10Hz + 50Hz\n# Compute FFT\nyf = fft(signal)\nxf = fftfreq(len(t), 1/500)  # Frequency bins\n# Plot\nplt.figure(figsize=(10,4))\nplt.subplot(1,2,1)\nplt.plot(t, signal)\nplt.title('Original Signal')\nplt.xlabel('Time (s)')\nplt.subplot(1,2,2)\nplt.plot(xf[:len(xf)//2], 2.0/len(t) * np.abs(yf[:len(yf)//2]))  # Positive frequencies\nplt.title('Magnitude Spectrum')\nplt.xlabel('Frequency (Hz)')\nplt.grid(True)\nplt.tight_layout()\nplt.show()", "difficulty": "hard", "tags": ["scipy", "fft", "fourier", "signal processing"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP020"}
{"question": "How to create interaction features between two numeric columns?", "code": "import pandas as pd\ndf = pd.DataFrame({\n    'Feature1': [1, 2, 3, 4, 5],\n    'Feature2': [10, 20, 30, 40, 50]\n})\ndf['Interaction'] = df['Feature1'] * df['Feature2']\ndf['Ratio'] = df['Feature1'] / df['Feature2']\nprint(df)", "difficulty": "easy", "tags": ["pandas", "feature engineering", "interaction"], "core_category": "DATA_TRANSFORMATION", "id": "SNP021"}
{"question": "How to compute the Pearson correlation coefficient between two arrays?", "code": "import numpy as np\nfrom scipy import stats\nx = np.array([1, 2, 3, 4, 5])\ny = np.array([2, 4, 6, 8, 10])\ncorr, p_value = stats.pearsonr(x, y)\nprint(f\"Pearson correlation: {corr:.4f}\")\nprint(f\"P-value: {p_value:.4f}\")", "difficulty": "easy", "tags": ["scipy", "correlation", "pearson"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP022"}
{"question": "How to create a heatmap without annotations but with a colorbar?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport numpy as np\n# Generate random matrix\ndata = np.random.rand(8, 6)\nsns.heatmap(data, cmap='YlOrRd', cbar_kws={'label': 'Intensity'})\nplt.title('Heatmap without Annotations')\nplt.tight_layout()\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "heatmap", "colorbar"], "core_category": "VISUALIZATION_BASICS", "id": "SNP023"}
{"question": "How to add text annotations to multiple points in a scatter plot?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n# Sample data\nnp.random.seed(42)\nx = np.random.rand(5) * 10\ny = np.random.rand(5) * 10\nlabels = ['Point A', 'Point B', 'Point C', 'Point D', 'Point E']\nplt.scatter(x, y, s=100, color='red', alpha=0.7)\n# Add annotations\nfor i, label in enumerate(labels):\n    plt.annotate(label, (x[i], y[i]), xytext=(5, 5), textcoords='offset points', fontsize=9)\nplt.title('Scatter Plot with Annotations')\nplt.xlabel('X')\nplt.ylabel('Y')\nplt.grid(True, alpha=0.3)\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "annotation", "scatter"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP024"}
{"question": "How to create a pairplot without the diagonal plots?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n# Sample data\ndf = pd.DataFrame(np.random.randn(100, 4), columns=['A', 'B', 'C', 'D'])\n# Use 'reg' or 'scatter' for off-diagonal, and None for diagonal\ng = sns.PairGrid(df)\ng.map_offdiag(plt.scatter, alpha=0.6)\n# Leave diagonal empty\ng.map_diag(plt.hist, alpha=0.7, edgecolor='black')\nplt.suptitle('PairPlot with Empty Diagonal')\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "pairplot", "custom"], "core_category": "VISUALIZATION_BASICS", "id": "SNP025"}
{"question": "How to add a legend with custom labels to a matplotlib plot?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\nx = np.linspace(0, 10, 100)\ny1 = np.sin(x)\ny2 = np.cos(x)\nline1, = plt.plot(x, y1, color='blue', linestyle='-', label='Model A')\nline2, = plt.plot(x, y2, color='red', linestyle='--', label='Model B')\nplt.legend(title='Models', loc='upper right', fontsize=10, frameon=True, shadow=True)\nplt.title('Plot with Custom Legend')\nplt.xlabel('X')\nplt.ylabel('Y')\nplt.grid(True, alpha=0.3)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "legend", "styling"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP026"}
{"question": "How to create a scatter plot with a regression line using seaborn?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n# Create sample data\ndf = pd.DataFrame({\n    'X': np.random.randn(100) * 2 + 5,\n    'Y': 2.5 * (np.random.randn(100) * 2 + 5) + np.random.randn(100) * 3\n})\nsns.regplot(x='X', y='Y', data=df, scatter_kws={'alpha':0.6, 's':40}, line_kws={'color':'red', 'linewidth':2})\nplt.title('Scatter Plot with Linear Regression')\nplt.grid(True, alpha=0.3)\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "regplot", "regression"], "core_category": "VISUALIZATION_BASICS", "id": "SNP027"}
{"question": "How to select specific columns from a DataFrame?", "code": "import pandas as pd\ndf = pd.DataFrame({\n    'Name': ['Alice', 'Bob', 'Charlie'],\n    'Age': [25, 30, 35],\n    'Score': [85, 92, 78],\n    'City': ['NY', 'LA', 'CHI']\n})\n# Select two columns\nselected = df[['Name', 'Score']]\nprint(selected)", "difficulty": "easy", "tags": ["pandas", "selection", "columns"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP028"}
{"question": "How to create a 2D array of random numbers between 0 and 1?", "code": "import numpy as np\narr = np.random.rand(4, 5)  # 4 rows, 5 columns\nprint(arr)", "difficulty": "easy", "tags": ["numpy", "random", "2d array"], "core_category": "ARRAY_OPERATIONS", "id": "SNP029"}
{"question": "How to change line width and add markers to a line plot?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\nx = np.arange(0, 5, 0.2)\ny = x ** 2\nplt.plot(x, y, linewidth=3, marker='D', markersize=8, markerfacecolor='yellow', markeredgecolor='black', markeredgewidth=1)\nplt.title('Quadratic Function with Thick Line')\nplt.xlabel('X')\nplt.ylabel('Y = X^2')\nplt.grid(True)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "line", "styling"], "core_category": "VISUALIZATION_BASICS", "id": "SNP030"}
{"question": "How to create a bar plot with error bars using seaborn?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n# Create data with mean and std\ndf = pd.DataFrame({\n    'Condition': ['A', 'B', 'C', 'D'],\n    'Mean': [10, 15, 12, 18],\n    'Std': [1.2, 2.1, 1.5, 2.5]\n})\nplt.figure(figsize=(8,5))\nsns.barplot(x='Condition', y='Mean', data=df, color='lightblue', edgecolor='black')\n# Add error bars manually\nplt.errorbar(x=df.index, y=df['Mean'], yerr=df['Std'], fmt='none', c='black', capsize=5)\nplt.title('Bar Plot with Error Bars')\nplt.ylabel('Value')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "barplot", "error bars"], "core_category": "VISUALIZATION_BASICS", "id": "SNP031"}
{"question": "How to compute the mode of an array using scipy?", "code": "from scipy import stats\nimport numpy as np\ndata = np.array([1, 2, 2, 3, 3, 3, 4, 4, 5])\nmode_result = stats.mode(data)\nprint(f\"Mode: {mode_result.mode[0]}\")\nprint(f\"Count: {mode_result.count[0]}\")", "difficulty": "easy", "tags": ["scipy", "mode", "statistics"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP032"}
{"question": "How to filter rows based on a condition?", "code": "import pandas as pd\ndf = pd.DataFrame({\n    'Name': ['Alice', 'Bob', 'Charlie', 'David'],\n    'Score': [85, 45, 92, 60]\n})\n# Filter rows where Score >= 60\nfiltered = df[df['Score'] >= 60]\nprint(filtered)", "difficulty": "easy", "tags": ["pandas", "filter", "boolean indexing"], "core_category": "DATA_PREPROCESSING", "id": "SNP033"}
{"question": "How to reshape a 1D array into a 2D array?", "code": "import numpy as np\narr_1d = np.arange(12)  # [0,1,2,...,11]\narr_2d = arr_1d.reshape(3, 4)  # 3 rows, 4 columns\nprint(\"Original 1D shape:\", arr_1d.shape)\nprint(\"Reshaped 2D shape:\", arr_2d.shape)\nprint(arr_2d)", "difficulty": "easy", "tags": ["numpy", "reshape", "array"], "core_category": "ARRAY_OPERATIONS", "id": "SNP034"}
{"question": "How to create a 3D scatter plot using matplotlib?", "code": "import matplotlib.pyplot as plt\nfrom mpl_toolkits.mplot3d import Axes3D\nimport numpy as np\n# Generate random 3D data\nnp.random.seed(0)\nn = 50\nx = np.random.randn(n)\ny = np.random.randn(n)\nz = np.random.randn(n)\ncolors = np.random.rand(n)\nsizes = 100 * np.random.rand(n)\nfig = plt.figure(figsize=(8,6))\nax = fig.add_subplot(111, projection='3d')\nscatter = ax.scatter(x, y, z, c=colors, s=sizes, alpha=0.7, cmap='viridis')\nplt.colorbar(scatter, label='Color value')\nax.set_xlabel('X')\nax.set_ylabel('Y')\nax.set_zlabel('Z')\nax.set_title('3D Scatter Plot')\nplt.show()", "difficulty": "hard", "tags": ["matplotlib", "3d", "scatter"], "core_category": "VISUALIZATION_BASICS", "id": "SNP035"}
{"question": "How to create a countplot with bars colored by hue?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\ndata = pd.DataFrame({\n    'Category': ['A', 'B', 'A', 'C', 'B', 'A', 'C', 'B', 'C', 'A'],\n    'Type': ['X', 'X', 'Y', 'Y', 'X', 'Y', 'X', 'Y', 'Y', 'X']\n})\nsns.countplot(x='Category', hue='Type', data=data, palette='Set3')\nplt.title('Countplot with Hue')\nplt.legend(title='Type')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "countplot", "hue"], "core_category": "VISUALIZATION_BASICS", "id": "SNP036"}
{"question": "How to apply a custom aggregation function to grouped data?", "code": "import pandas as pd\nimport numpy as np\ndf = pd.DataFrame({\n    'Group': ['A', 'A', 'B', 'B', 'A', 'B'],\n    'Values': [10, 20, 30, 40, 15, 25]\n})\ndef range_func(x):\n    return x.max() - x.min()\nresult = df.groupby('Group')['Values'].agg(['mean', 'std', range_func])\nprint(result)", "difficulty": "medium", "tags": ["pandas", "groupby", "custom function"], "core_category": "DATA_TRANSFORMATION", "id": "SNP037"}
{"question": "How to forward fill missing values (propagate last valid observation)?", "code": "import pandas as pd\nimport numpy as np\ndf = pd.DataFrame({\n    'A': [1, np.nan, np.nan, 4, 5],\n    'B': [10, 20, np.nan, np.nan, 50]\n})\nprint(\"Before forward fill:\\n\", df)\ndf_filled = df.fillna(method='ffill')\nprint(\"\\nAfter forward fill:\\n\", df_filled)", "difficulty": "easy", "tags": ["pandas", "fillna", "forward fill"], "core_category": "DATA_PREPROCESSING", "id": "SNP038"}
{"question": "How to compute element-wise trigonometric functions on an array?", "code": "import numpy as np\nangles = np.array([0, np.pi/4, np.pi/2, 3*np.pi/4, np.pi])\nsin_values = np.sin(angles)\ncos_values = np.cos(angles)\nprint(\"Angles:\", angles)\nprint(\"Sine:\", sin_values)\nprint(\"Cosine:\", cos_values)", "difficulty": "easy", "tags": ["numpy", "trigonometry", "vectorization"], "core_category": "ARRAY_OPERATIONS", "id": "SNP039"}
{"question": "How to overlay multiple histograms on the same plot?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n# Generate two datasets\ndata1 = np.random.normal(0, 1, 1000)\ndata2 = np.random.normal(2, 1.5, 800)\nplt.hist(data1, bins=30, alpha=0.5, label='Group 1', color='blue', edgecolor='black')\nplt.hist(data2, bins=30, alpha=0.5, label='Group 2', color='red', edgecolor='black')\nplt.title('Overlaid Histograms')\nplt.xlabel('Value')\nplt.ylabel('Frequency')\nplt.legend()\nplt.grid(True, alpha=0.3)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "histogram", "overlay"], "core_category": "VISUALIZATION_BASICS", "id": "SNP040"}
{"question": "How to create a notched boxplot with matplotlib?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n# Generate data\ndata = [np.random.normal(0, 1, 100),\n        np.random.normal(2, 1.5, 100),\n        np.random.normal(-1, 0.8, 100)]\nlabels = ['Sample 1', 'Sample 2', 'Sample 3']\nplt.boxplot(data, labels=labels, notch=True, patch_artist=True,\n            boxprops=dict(facecolor='lightgreen', alpha=0.7))\nplt.title('Notched Boxplots')\nplt.ylabel('Value')\nplt.grid(True, alpha=0.3)\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "boxplot", "notched"], "core_category": "VISUALIZATION_BASICS", "id": "SNP041"}
{"question": "How to perform 2D interpolation on a grid using scipy?", "code": "from scipy import interpolate\nimport numpy as np\nimport matplotlib.pyplot as plt\n# Known grid points\nx = np.linspace(0, 5, 10)\ny = np.linspace(0, 5, 10)\nX, Y = np.meshgrid(x, y)\nZ = np.sin(X) + np.cos(Y)  # Known values\n# Create interpolation function\nf = interpolate.interp2d(x, y, Z, kind='cubic')\n# New finer grid\nx_new = np.linspace(0, 5, 30)\ny_new = np.linspace(0, 5, 30)\nZ_new = f(x_new, y_new)\n# Plot (optional)\nplt.figure(figsize=(10,4))\nplt.subplot(1,2,1)\nplt.contourf(X, Y, Z)\nplt.title('Original')\nplt.colorbar()\nplt.subplot(1,2,2)\nplt.contourf(x_new, y_new, Z_new)\nplt.title('Interpolated')\nplt.colorbar()\nplt.tight_layout()\nplt.show()", "difficulty": "hard", "tags": ["scipy", "interpolation", "2d"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP042"}
{"question": "How to perform a left join between two DataFrames?", "code": "import pandas as pd\ndf1 = pd.DataFrame({'ID': [1, 2, 3, 4], 'Name': ['A', 'B', 'C', 'D']})\ndf2 = pd.DataFrame({'ID': [1, 2, 5], 'Score': [90, 85, 95]})\n# Left join (keep all rows from df1)\nresult = pd.merge(df1, df2, on='ID', how='left')\nprint(result)", "difficulty": "easy", "tags": ["pandas", "merge", "left join"], "core_category": "DATA_TRANSFORMATION", "id": "SNP043"}
{"question": "How to shuffle an array in place?", "code": "import numpy as np\narr = np.arange(10)\nprint(\"Original:\", arr)\nnp.random.shuffle(arr)\nprint(\"Shuffled:\", arr)", "difficulty": "easy", "tags": ["numpy", "random", "shuffle"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP044"}
{"question": "How to create a grouped bar chart (multiple bars per category)?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\nlabels = ['Group 1', 'Group 2', 'Group 3']\nmen_means = [20, 35, 30]\nwomen_means = [25, 32, 34]\nx = np.arange(len(labels))\nwidth = 0.35\nfig, ax = plt.subplots()\nrects1 = ax.bar(x - width/2, men_means, width, label='Men', color='skyblue', edgecolor='black')\nrects2 = ax.bar(x + width/2, women_means, width, label='Women', color='lightcoral', edgecolor='black')\nax.set_xlabel('Groups')\nax.set_ylabel('Scores')\nax.set_title('Grouped Bar Chart')\nax.set_xticks(x)\nax.set_xticklabels(labels)\nax.legend()\n# Add value labels on top of bars\ndef autolabel(rects):\n    for rect in rects:\n        height = rect.get_height()\n        ax.annotate(f'{height}',\n                    xy=(rect.get_x() + rect.get_width() / 2, height),\n                    xytext=(0, 3), textcoords=\"offset points\",\n                    ha='center', va='bottom', fontsize=9)\nautolabel(rects1)\nautolabel(rects2)\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "bar", "grouped"], "core_category": "VISUALIZATION_BASICS", "id": "SNP045"}
{"question": "How to adjust the bandwidth of a seaborn violin plot?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\ndata = pd.DataFrame({\n    'Category': ['A']*100 + ['B']*100,\n    'Value': np.concatenate([np.random.normal(0, 1, 100), np.random.normal(2, 2, 100)])\n})\nfig, (ax1, ax2) = plt.subplots(1, 2, figsize=(10,4))\n# Default bandwidth\nsns.violinplot(x='Category', y='Value', data=data, ax=ax1)\nax1.set_title('Default Bandwidth')\n# Custom bandwidth (smaller -> more detail)\nsns.violinplot(x='Category', y='Value', data=data, bw=0.2, ax=ax2)\nax2.set_title('Bandwidth = 0.2')\nplt.tight_layout()\nplt.show()", "difficulty": "hard", "tags": ["seaborn", "violinplot", "bandwidth"], "core_category": "VISUALIZATION_BASICS", "id": "SNP046"}
{"question": "How to filter DataFrame rows based on a date range?", "code": "import pandas as pd\ndf = pd.DataFrame({\n    'date': pd.to_datetime(['2023-01-15', '2023-02-20', '2023-03-10', '2023-04-05']),\n    'value': [100, 200, 150, 300]\n})\nstart_date = '2023-02-01'\nend_date = '2023-03-31'\nfiltered = df[(df['date'] >= start_date) & (df['date'] <= end_date)]\nprint(filtered)", "difficulty": "easy", "tags": ["pandas", "datetime", "filter", "range"], "core_category": "DATA_PREPROCESSING", "id": "SNP047"}
{"question": "How to read a CSV file with a different delimiter?", "code": "import pandas as pd\nimport io\n# Simulating a tab-separated file\ntsv_data = \"Name\\tAge\\tScore\\nAlice\\t25\\t85\\nBob\\t30\\t92\"\ndf = pd.read_csv(io.StringIO(tsv_data), delimiter='\\t')\nprint(df)", "difficulty": "easy", "tags": ["pandas", "csv", "delimiter", "tsv"], "core_category": "DATA_PREPROCESSING", "id": "SNP048"}
{"question": "How to perform frequency encoding on a categorical column?", "code": "import pandas as pd\ndf = pd.DataFrame({\n    'City': ['NY', 'LA', 'NY', 'CHI', 'LA', 'NY', 'CHI', 'LA']\n})\n# Compute frequency\nfreq = df['City'].value_counts(normalize=True)\nprint(\"Frequencies:\")\nprint(freq)\n# Map frequencies back\ndf['City_FreqEncoded'] = df['City'].map(freq)\nprint(\"\\nDataFrame with frequency encoding:\")\nprint(df)", "difficulty": "medium", "tags": ["pandas", "frequency encoding", "categorical"], "core_category": "DATA_TRANSFORMATION", "id": "SNP049"}
{"question": "How to subtract a 1D array from each column of a 2D array?", "code": "import numpy as np\n# 2D array (4x3)\nmatrix = np.array([[1, 2, 3],\n                   [4, 5, 6],\n                   [7, 8, 9],\n                   [10, 11, 12]])\n# 1D array (length 4)\ncol_subtractor = np.array([1, 2, 3, 4])\n# Subtract col_subtractor from each column (reshape for broadcasting)\nresult = matrix - col_subtractor[:, np.newaxis]  # col_subtractor becomes (4,1)\nprint(result)", "difficulty": "medium", "tags": ["numpy", "broadcasting", "subtraction"], "core_category": "ARRAY_OPERATIONS", "id": "SNP050"}
{"question": "How to create a jointplot with hex bins for dense data?", "code": "import seaborn as sns\nimport numpy as np\n# Generate dense correlated data\nnp.random.seed(0)\nx = np.random.randn(1000)\ny = x + np.random.randn(1000) * 0.5\ng = sns.jointplot(x=x, y=y, kind='hex', color='purple', height=6)\ng.fig.suptitle('Jointplot with Hex Bins')\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "jointplot", "hexbin"], "core_category": "VISUALIZATION_BASICS", "id": "SNP051"}
{"question": "How to design and apply a Butterworth low-pass filter using scipy?", "code": "from scipy import signal\nimport numpy as np\nimport matplotlib.pyplot as plt\n# Generate a signal with two frequencies\nfs = 500  # Sampling frequency\nT = 1.0   # Duration\nt = np.linspace(0, T, int(fs*T), endpoint=False)\nsig = 2*np.sin(2*np.pi*5*t) + 1.5*np.sin(2*np.pi*50*t)  # 5Hz + 50Hz\n# Design Butterworth low-pass filter (cutoff at 20Hz)\nnyquist = 0.5 * fs\ncutoff = 20  # Hz\nnormal_cutoff = cutoff / nyquist\nb, a = signal.butter(4, normal_cutoff, btype='low')\n# Apply filter\nfiltered_sig = signal.filtfilt(b, a, sig)\n# Plot\nplt.figure(figsize=(10,4))\nplt.plot(t, sig, alpha=0.7, label='Original (5Hz + 50Hz)')\nplt.plot(t, filtered_sig, 'r', linewidth=2, label='Filtered (Low-pass <20Hz)')\nplt.xlabel('Time [s]')\nplt.ylabel('Amplitude')\nplt.title('Butterworth Low-pass Filter')\nplt.legend()\nplt.grid(True, alpha=0.3)\nplt.tight_layout()\nplt.show()", "difficulty": "hard", "tags": ["scipy", "signal processing", "filter", "butterworth"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP052"}
{"question": "How to create polynomial features from a numeric column?", "code": "import pandas as pd\nimport numpy as np\ndf = pd.DataFrame({'X': [1, 2, 3, 4, 5]})\ndf['X_squared'] = df['X'] ** 2\ndf['X_cubed'] = df['X'] ** 3\ndf['X_sqrt'] = np.sqrt(df['X'])\nprint(df)", "difficulty": "easy", "tags": ["pandas", "polynomial", "feature engineering"], "core_category": "DATA_TRANSFORMATION", "id": "SNP053"}
{"question": "How to compute the chi-squared test for independence between two categorical variables?", "code": "from scipy.stats import chi2_contingency\nimport numpy as np\n# Create contingency table\nobserved = np.array([[30, 10], [15, 25]])  # 2x2 table\nchi2, p, dof, expected = chi2_contingency(observed)\nprint(f\"Chi-squared statistic: {chi2:.4f}\")\nprint(f\"P-value: {p:.4f}\")\nprint(f\"Degrees of freedom: {dof}\")\nprint(f\"Expected frequencies:\\n{expected}\")", "difficulty": "medium", "tags": ["scipy", "chi-squared", "statistics"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP054"}
{"question": "How to create a triangular correlation heatmap?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport pandas as pd\n# Generate correlation matrix\nnp.random.seed(0)\ndata = np.random.randn(100, 5)\ndf = pd.DataFrame(data, columns=['A', 'B', 'C', 'D', 'E'])\ncorr = df.corr()\n# Create mask for upper triangle\nmask = np.triu(np.ones_like(corr, dtype=bool))\nplt.figure(figsize=(8,6))\nsns.heatmap(corr, mask=mask, annot=True, cmap='RdBu_r', center=0, square=True, linewidths=0.5)\nplt.title('Triangular Correlation Heatmap')\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "heatmap", "triangular", "correlation"], "core_category": "VISUALIZATION_BASICS", "id": "SNP055"}
{"question": "How to add a text box with statistics to a plot?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n# Generate data\ndata = np.random.normal(100, 15, 200)\nfig, ax = plt.subplots(figsize=(8,5))\nax.hist(data, bins=20, edgecolor='black', alpha=0.7)\nax.set_title('Distribution with Statistics')\nax.set_xlabel('Value')\nax.set_ylabel('Frequency')\n# Calculate statistics\nstats_text = f\"Mean: {np.mean(data):.2f}\\nStd: {np.std(data):.2f}\\nMin: {np.min(data):.2f}\\nMax: {np.max(data):.2f}\"\n# Place text box in upper left\nprops = dict(boxstyle='round', facecolor='wheat', alpha=0.8)\nax.text(0.05, 0.95, stats_text, transform=ax.transAxes, fontsize=10,\n        verticalalignment='top', bbox=props)\nplt.grid(True, alpha=0.3)\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "annotation", "text box"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP056"}
{"question": "How to create a pairplot with correlation coefficients on the upper triangle?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n# Sample data\ndf = pd.DataFrame(np.random.randn(100, 4), columns=['Var1', 'Var2', 'Var3', 'Var4'])\n# Create PairGrid\ng = sns.PairGrid(df)\ng.map_diag(sns.histplot, kde=True)\ng.map_lower(sns.scatterplot, alpha=0.6)\n# Add correlation coefficients to upper triangle\nfrom scipy.stats import pearsonr\nfor i in range(4):\n    for j in range(4):\n        if i < j:\n            corr = pearsonr(df.iloc[:, i], df.iloc[:, j])[0]\n            g.axes[i, j].text(0.5, 0.5, f'\u03c1={corr:.2f}', \n                              transform=g.axes[i, j].transAxes,\n                              ha='center', va='center', fontsize=10,\n                              bbox=dict(boxstyle='round', facecolor='white', alpha=0.8))\n            g.axes[i, j].set_visible(True)\n        elif i > j:\n            continue\n        else:\n            continue\nplt.suptitle('Pairplot with Correlation Coefficients', y=1.02)\nplt.tight_layout()\nplt.show()", "difficulty": "hard", "tags": ["seaborn", "pairplot", "correlation", "custom"], "core_category": "VISUALIZATION_BASICS", "id": "SNP057"}
{"question": "How to find the roots of a scalar function using scipy?", "code": "from scipy.optimize import root_scalar\nimport numpy as np\ndef f(x):\n    return x**3 - 2*x - 5  # Function whose root we want\n# Find root using Brent's method\nresult = root_scalar(f, bracket=[2, 3])  # Root should be between 2 and 3\nprint(f\"Root found at x = {result.root:.6f}\")\nprint(f\"Function value at root: {f(result.root):.6e}\")\nprint(f\"Number of iterations: {result.iterations}\")", "difficulty": "medium", "tags": ["scipy", "optimization", "root finding"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP058"}
{"question": "How to use a custom color palette in a seaborn plot?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n# Define custom palette\ncustom_palette = ['#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FFEAA7']\nsns.set_palette(custom_palette)\n# Create data\ndf = pd.DataFrame({\n    'Category': ['A', 'B', 'C', 'D', 'E'],\n    'Value': [25, 32, 18, 40, 28]\n})\nplt.figure(figsize=(8,5))\nsns.barplot(x='Category', y='Value', data=df)\nplt.title('Bar Plot with Custom Color Palette')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "palette", "styling"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP059"}
{"question": "How to create a scatter plot matrix (pairplot) for selected columns?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n# Create DataFrame with 6 columns\nnp.random.seed(42)\ndf = pd.DataFrame(np.random.randn(100, 6), columns=['A', 'B', 'C', 'D', 'E', 'F'])\n# Select only 3 columns for pairplot\nsns.pairplot(df[['A', 'B', 'C']], diag_kind='hist', plot_kws={'alpha': 0.6})\nplt.suptitle('Scatter Plot Matrix for Columns A, B, C', y=1.02)\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "pairplot", "scatter matrix"], "core_category": "VISUALIZATION_BASICS", "id": "SNP060"}
{"question": "How to sort a DataFrame by a column's values?", "code": "import pandas as pd\ndf = pd.DataFrame({\n    'Name': ['Alice', 'Bob', 'Charlie', 'David'],\n    'Age': [25, 30, 22, 35],\n    'Score': [85, 92, 78, 88]\n})\n# Sort by Age in ascending order\ndf_sorted = df.sort_values('Age')\nprint(df_sorted)", "difficulty": "easy", "tags": ["pandas", "sort", "dataframe"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP061"}
{"question": "How to create an array with evenly spaced numbers over an interval?", "code": "import numpy as np\n# Create array from 0 to 10 with step 0.5\narr = np.arange(0, 10.5, 0.5)\nprint(arr)", "difficulty": "easy", "tags": ["numpy", "arange", "linspace"], "core_category": "ARRAY_OPERATIONS", "id": "SNP062"}
{"question": "How to plot with logarithmic scale on the y-axis?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\nx = np.linspace(1, 10, 100)\ny = np.exp(x)\nplt.semilogy(x, y, linewidth=2)  # Log scale on y-axis\nplt.title('Exponential Growth (Log Y Scale)')\nplt.xlabel('X')\nplt.ylabel('Y (log scale)')\nplt.grid(True, which='both', alpha=0.3)\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "log scale", "semilogy"], "core_category": "VISUALIZATION_BASICS", "id": "SNP063"}
{"question": "How to create a bar plot with a horizontal line indicating a threshold?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\ndata = pd.DataFrame({\n    'Month': ['Jan', 'Feb', 'Mar', 'Apr', 'May'],\n    'Sales': [120, 150, 130, 170, 140]\n})\nthreshold = 145\nsns.barplot(x='Month', y='Sales', data=data, palette='Blues_r')\nplt.axhline(y=threshold, color='red', linestyle='--', linewidth=2, label=f'Target: {threshold}')\nplt.title('Monthly Sales with Target Line')\nplt.legend()\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "barplot", "threshold", "hline"], "core_category": "VISUALIZATION_BASICS", "id": "SNP064"}
{"question": "How to compute the skewness and kurtosis of a distribution using scipy?", "code": "from scipy.stats import skew, kurtosis\nimport numpy as np\ndata = np.random.normal(0, 1, 1000)  # Normal distribution\nprint(f\"Skewness: {skew(data):.4f}\")\nprint(f\"Kurtosis: {kurtosis(data):.4f}\")\nprint(f\"Excess kurtosis (normal=0): {kurtosis(data):.4f}\")", "difficulty": "medium", "tags": ["scipy", "skewness", "kurtosis", "statistics"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP065"}
{"question": "How to change the data type of a column?", "code": "import pandas as pd\ndf = pd.DataFrame({\n    'A': ['1', '2', '3', '4'],\n    'B': ['5.5', '6.7', '8.9', '10.1']\n})\nprint(\"Original dtypes:\")\nprint(df.dtypes)\ndf['A'] = df['A'].astype(int)\ndf['B'] = df['B'].astype(float)\nprint(\"\\nAfter conversion:\")\nprint(df.dtypes)\nprint(df)", "difficulty": "easy", "tags": ["pandas", "dtype", "conversion"], "core_category": "DATA_PREPROCESSING", "id": "SNP066"}
{"question": "How to find the indices of elements that satisfy a condition?", "code": "import numpy as np\narr = np.array([1, 5, 2, 8, 3, 10, 4])\n# Find indices where arr > 5\nindices = np.where(arr > 5)[0]\nprint(\"Array:\", arr)\nprint(\"Indices where arr > 5:\", indices)\nprint(\"Values at those indices:\", arr[indices])", "difficulty": "easy", "tags": ["numpy", "where", "indexing"], "core_category": "ARRAY_OPERATIONS", "id": "SNP067"}
{"question": "How to add a colorbar to a scatter plot based on a third variable?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\nnp.random.seed(0)\nn = 100\nx = np.random.randn(n)\ny = np.random.randn(n)\nz = x**2 + y**2  # Third variable\nscatter = plt.scatter(x, y, c=z, cmap='viridis', s=50, alpha=0.7, edgecolor='black')\nplt.colorbar(scatter, label='Z = X^2 + Y^2')\nplt.title('Scatter Plot with Colorbar')\nplt.xlabel('X')\nplt.ylabel('Y')\nplt.grid(True, alpha=0.3)\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "scatter", "colorbar", "colormap"], "core_category": "VISUALIZATION_BASICS", "id": "SNP068"}
{"question": "How to create a horizontal countplot?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\ndata = pd.DataFrame({\n    'Fruit': ['Apple', 'Banana', 'Apple', 'Cherry', 'Banana', 'Apple', 'Cherry', 'Banana', 'Apple']\n})\nsns.countplot(y='Fruit', data=data, order=data['Fruit'].value_counts().index)\nplt.title('Horizontal Countplot')\nplt.xlabel('Count')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "countplot", "horizontal"], "core_category": "VISUALIZATION_BASICS", "id": "SNP069"}
{"question": "How to use pivot_table to summarize data?", "code": "import pandas as pd\nimport numpy as np\n# Sales data\ndf = pd.DataFrame({\n    'Region': ['North', 'North', 'South', 'South', 'North', 'South'],\n    'Product': ['A', 'B', 'A', 'B', 'A', 'B'],\n    'Sales': [100, 150, 200, 120, 180, 90]\n})\npivot = pd.pivot_table(df, values='Sales', index='Region', columns='Product', aggfunc=np.mean)\nprint(pivot)", "difficulty": "medium", "tags": ["pandas", "pivot_table", "aggregation"], "core_category": "DATA_TRANSFORMATION", "id": "SNP070"}
{"question": "How to fill missing values with the median of each column?", "code": "import pandas as pd\nimport numpy as np\ndf = pd.DataFrame({\n    'A': [1, np.nan, 3, 6, np.nan],\n    'B': [np.nan, 2, 4, np.nan, 10],\n    'C': [5, 6, np.nan, 8, 9]\n})\nprint(\"Before:\\n\", df)\ndf_filled = df.fillna(df.median())\nprint(\"\\nAfter filling with column median:\\n\", df_filled)", "difficulty": "easy", "tags": ["pandas", "fillna", "median"], "core_category": "DATA_PREPROCESSING", "id": "SNP071"}
{"question": "How to compute the Euclidean distance between two sets of points using vectorization?", "code": "import numpy as np\n# Two sets of 3D points\npoints_a = np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9]])\npoints_b = np.array([[2, 3, 4], [5, 6, 7]])\n# Compute pairwise distances (3x2 matrix)\ndistances = np.sqrt(((points_a[:, np.newaxis, :] - points_b[np.newaxis, :, :]) ** 2).sum(axis=2))\nprint(\"Points A shape:\", points_a.shape)\nprint(\"Points B shape:\", points_b.shape)\nprint(\"Pairwise distances shape:\", distances.shape)\nprint(distances)", "difficulty": "hard", "tags": ["numpy", "euclidean distance", "vectorization"], "core_category": "ARRAY_OPERATIONS", "id": "SNP072"}
{"question": "How to create a density histogram (normalized to probability density)?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\ndata = np.random.normal(0, 1, 1000)\nplt.hist(data, bins=30, density=True, edgecolor='black', alpha=0.7, color='lightgreen')\nplt.title('Density Histogram (Normalized)')\nplt.xlabel('Value')\nplt.ylabel('Probability Density')\nplt.grid(True, alpha=0.3)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "histogram", "density"], "core_category": "VISUALIZATION_BASICS", "id": "SNP073"}
{"question": "How to create a boxplot showing individual data points with seaborn?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\ndf = pd.DataFrame({\n    'Group': ['A']*20 + ['B']*20 + ['C']*20,\n    'Value': np.concatenate([\n        np.random.normal(10, 2, 20),\n        np.random.normal(15, 3, 20),\n        np.random.normal(12, 2.5, 20)\n    ])\n})\nsns.boxplot(x='Group', y='Value', data=df, color='lightblue', width=0.5)\nsns.stripplot(x='Group', y='Value', data=df, color='black', alpha=0.5, jitter=True)\nplt.title('Boxplot with Individual Points')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "boxplot", "stripplot"], "core_category": "VISUALIZATION_BASICS", "id": "SNP074"}
{"question": "How to perform piecewise linear interpolation on irregular data?", "code": "from scipy import interpolate\nimport numpy as np\nimport matplotlib.pyplot as plt\n# Irregularly spaced data\nx = np.array([0, 1, 2.5, 4, 6, 7])\ny = np.array([0, 1, 2.5, 2, 1.5, 0.5])\n# Create interpolation function\nf_linear = interpolate.interp1d(x, y, kind='linear', bounds_error=False, fill_value='extrapolate')\n# Evaluate on finer grid\nx_new = np.linspace(-0.5, 8, 100)\ny_new = f_linear(x_new)\nplt.plot(x, y, 'o', label='Original data')\nplt.plot(x_new, y_new, '-', label='Piecewise linear interpolation')\nplt.legend()\nplt.title('Piecewise Linear Interpolation')\nplt.grid(True, alpha=0.3)\nplt.show()", "difficulty": "medium", "tags": ["scipy", "interpolation", "piecewise"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP075"}
{"question": "How to join DataFrames using multiple key columns?", "code": "import pandas as pd\ndf1 = pd.DataFrame({\n    'ID': [1, 1, 2, 3],\n    'Year': [2020, 2021, 2020, 2021],\n    'Value1': [100, 150, 200, 250]\n})\ndf2 = pd.DataFrame({\n    'ID': [1, 1, 2, 4],\n    'Year': [2020, 2021, 2020, 2021],\n    'Value2': [50, 60, 70, 80]\n})\n# Merge on both ID and Year\nresult = pd.merge(df1, df2, on=['ID', 'Year'], how='inner')\nprint(result)", "difficulty": "medium", "tags": ["pandas", "merge", "multiple keys"], "core_category": "DATA_TRANSFORMATION", "id": "SNP076"}
{"question": "How to generate random numbers from a normal distribution?", "code": "import numpy as np\n# Generate 10 random numbers from N(mean=100, std=15)\nnormal_data = np.random.normal(loc=100, scale=15, size=10)\nprint(normal_data)", "difficulty": "easy", "tags": ["numpy", "random", "normal distribution"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP077"}
{"question": "How to create a bar plot with error bars using matplotlib?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\ncategories = ['A', 'B', 'C', 'D']\nmeans = [10, 15, 7, 12]\nerrors = [1.2, 2.1, 0.8, 1.5]\nplt.bar(categories, means, yerr=errors, capsize=5, color='skyblue', edgecolor='black', alpha=0.8)\nplt.title('Bar Plot with Error Bars')\nplt.ylabel('Value \u00b1 Error')\nplt.grid(True, alpha=0.3, axis='y')\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "bar", "error bars"], "core_category": "VISUALIZATION_BASICS", "id": "SNP078"}
{"question": "How to create side-by-side violin plots for multiple groups?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n# Create dataset with two grouping variables\ndf = pd.DataFrame({\n    'Group': ['A']*30 + ['B']*30 + ['A']*30 + ['B']*30,\n    'Value': np.concatenate([\n        np.random.normal(10, 2, 30),\n        np.random.normal(12, 3, 30),\n        np.random.normal(8, 1.5, 30),\n        np.random.normal(14, 2.5, 30)\n    ]),\n    'Category': ['X']*60 + ['Y']*60\n})\nsns.violinplot(x='Group', y='Value', hue='Category', data=df, split=False, palette='muted')\nplt.title('Side-by-Side Violin Plots')\nplt.legend(title='Category')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "violinplot", "hue"], "core_category": "VISUALIZATION_BASICS", "id": "SNP079"}
{"question": "How to calculate the difference between two dates in days?", "code": "import pandas as pd\ndf = pd.DataFrame({\n    'Start': pd.to_datetime(['2023-01-01', '2023-02-15', '2023-03-10']),\n    'End': pd.to_datetime(['2023-01-10', '2023-02-20', '2023-03-20'])\n})\ndf['Days_Difference'] = (df['End'] - df['Start']).dt.days\nprint(df)", "difficulty": "easy", "tags": ["pandas", "datetime", "difference"], "core_category": "DATA_PREPROCESSING", "id": "SNP080"}
{"question": "How to read only specific columns from a CSV file?", "code": "import pandas as pd\nimport io\ncsv_data = \"Name,Age,Score,City\\nAlice,25,85,NY\\nBob,30,92,LA\\nCharlie,35,78,CHI\"\n# Read only Name and Score columns\ndf = pd.read_csv(io.StringIO(csv_data), usecols=['Name', 'Score'])\nprint(df)", "difficulty": "easy", "tags": ["pandas", "csv", "usecols"], "core_category": "DATA_PREPROCESSING", "id": "SNP081"}
{"question": "How to convert a numeric column to categorical using quantile-based bins?", "code": "import pandas as pd\nimport numpy as np\n# Create numeric data\ndf = pd.DataFrame({\n    'Income': np.random.randint(20000, 100000, 20)\n})\n# Create 3 quantile-based categories\ndf['Income_Category'] = pd.qcut(df['Income'], q=3, labels=['Low', 'Medium', 'High'])\nprint(df.sort_values('Income'))", "difficulty": "medium", "tags": ["pandas", "qcut", "quantile", "categorical"], "core_category": "DATA_TRANSFORMATION", "id": "SNP082"}
{"question": "How to create a figure with multiple plots of different types?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\nfig = plt.figure(figsize=(12, 8))\n# Line plot\nax1 = plt.subplot(2, 2, 1)\nx = np.linspace(0, 10, 100)\nax1.plot(x, np.sin(x), 'b-')\nax1.set_title('Sine Wave')\nax1.grid(True)\n# Scatter plot\nax2 = plt.subplot(2, 2, 2)\nx_scatter = np.random.rand(50)\ny_scatter = x_scatter + np.random.randn(50)*0.1\nax2.scatter(x_scatter, y_scatter, alpha=0.6, color='green')\nax2.set_title('Scatter Plot')\nax2.grid(True)\n# Histogram\nax3 = plt.subplot(2, 2, 3)\ndata = np.random.randn(1000)\nax3.hist(data, bins=30, edgecolor='black', alpha=0.7, color='orange')\nax3.set_title('Histogram')\nax3.grid(True)\n# Bar plot\nax4 = plt.subplot(2, 2, 4)\ncategories = ['A', 'B', 'C', 'D']\nvalues = [25, 40, 30, 35]\nax4.bar(categories, values, color='purple', alpha=0.7)\nax4.set_title('Bar Plot')\nax4.grid(True, axis='y')\nplt.suptitle('Multiple Plot Types', fontsize=14)\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "subplots", "multiple types"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP083"}
{"question": "How to create a jointplot with kde density estimates on the margins?", "code": "import seaborn as sns\nimport numpy as np\nnp.random.seed(42)\nx = np.random.randn(300)\ny = 0.5*x + np.random.randn(300)*0.8\ng = sns.jointplot(x=x, y=y, kind='kde', fill=True, cmap='Blues', height=6)\ng.fig.suptitle('Jointplot with KDE')\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "jointplot", "kde"], "core_category": "VISUALIZATION_BASICS", "id": "SNP084"}
{"question": "How to compute the power spectral density of a signal using scipy?", "code": "from scipy import signal\nimport numpy as np\nimport matplotlib.pyplot as plt\n# Generate signal with known frequencies\nfs = 1000  # Sampling frequency\nT = 2      # Duration\nt = np.linspace(0, T, int(fs*T), endpoint=False)\n# Signal: 50Hz sine wave + 120Hz sine wave + noise\nsig = 2*np.sin(2*np.pi*50*t) + 1*np.sin(2*np.pi*120*t) + 0.5*np.random.randn(len(t))\n# Compute PSD using Welch's method\nfreqs, psd = signal.welch(sig, fs, nperseg=1024)\nplt.figure(figsize=(10,4))\nplt.semilogy(freqs, psd)\nplt.title('Power Spectral Density (Welch\\'s method)')\nplt.xlabel('Frequency [Hz]')\nplt.ylabel('Power/Frequency [dB/Hz]')\nplt.grid(True, alpha=0.3)\nplt.tight_layout()\nplt.show()", "difficulty": "hard", "tags": ["scipy", "signal processing", "psd", "welch"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP085"}
{"question": "How to create lag features for time series data?", "code": "import pandas as pd\n# Time series data\ndf = pd.DataFrame({\n    'Date': pd.date_range('2023-01-01', periods=10, freq='D'),\n    'Value': [10, 12, 15, 13, 18, 20, 17, 19, 22, 25]\n})\ndf['Value_Lag1'] = df['Value'].shift(1)\ndf['Value_Lag2'] = df['Value'].shift(2)\ndf['Value_Diff'] = df['Value'] - df['Value_Lag1']\nprint(df)", "difficulty": "medium", "tags": ["pandas", "lag", "time series", "feature engineering"], "core_category": "DATA_TRANSFORMATION", "id": "SNP086"}
{"question": "How to compute confidence intervals for the mean using scipy?", "code": "import numpy as np\nfrom scipy import stats\ndata = np.random.normal(loc=100, scale=15, size=50)\nconfidence_level = 0.95\n# Calculate confidence interval\nmean = np.mean(data)\nsem = stats.sem(data)  # Standard error of the mean\nci = stats.t.interval(confidence_level, len(data)-1, loc=mean, scale=sem)\nprint(f\"Mean: {mean:.2f}\")\nprint(f\"95% Confidence Interval: ({ci[0]:.2f}, {ci[1]:.2f})\")\nprint(f\"Interval width: {ci[1]-ci[0]:.2f}\")", "difficulty": "medium", "tags": ["scipy", "confidence interval", "statistics"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP087"}
{"question": "How to create a heatmap with custom row and column labels?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport numpy as np\n# Generate random data\ndata = np.random.rand(5, 6)\n# Custom labels\nrow_labels = ['Row_A', 'Row_B', 'Row_C', 'Row_D', 'Row_E']\ncol_labels = ['Col_1', 'Col_2', 'Col_3', 'Col_4', 'Col_5', 'Col_6']\nplt.figure(figsize=(8,6))\nsns.heatmap(data, xticklabels=col_labels, yticklabels=row_labels, \n            annot=True, fmt='.2f', cmap='coolwarm', cbar_kws={'label': 'Value'})\nplt.title('Heatmap with Custom Labels')\nplt.tight_layout()\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "heatmap", "labels"], "core_category": "VISUALIZATION_BASICS", "id": "SNP088"}
{"question": "How to add arrows with custom styles to a plot?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\nx = np.linspace(0, 10, 100)\ny = np.sin(x)\nplt.plot(x, y, 'b-', alpha=0.7)\nplt.title('Plot with Custom Arrows')\nplt.grid(True, alpha=0.3)\n# Add several arrows with different styles\nplt.arrow(2, 0, 0, 0.8, head_width=0.3, head_length=0.1, fc='red', ec='red', linestyle='--')\nplt.arrow(5, -0.5, 0.5, 0.5, head_width=0.2, head_length=0.1, fc='green', ec='green', alpha=0.7)\nplt.arrow(8, 0.2, -0.8, -0.4, head_width=0.15, head_length=0.08, fc='blue', ec='blue', linewidth=2)\n# Add text labels\nplt.text(2, 0.9, 'Arrow 1', fontsize=9, ha='center')\nplt.text(5.6, -0.1, 'Arrow 2', fontsize=9)\nplt.text(7.5, -0.3, 'Arrow 3', fontsize=9)\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "arrow", "annotation"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP089"}
{"question": "How to create a pairplot with regression lines on the upper triangle?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\nnp.random.seed(0)\ndf = pd.DataFrame(np.random.randn(100, 4), columns=['A', 'B', 'C', 'D'])\n# Add some correlation\ndf['B'] = df['A'] * 0.7 + np.random.randn(100) * 0.3\n# Use PairGrid for custom layout\ng = sns.PairGrid(df)\ng.map_diag(sns.histplot, kde=True)\ng.map_lower(sns.scatterplot, alpha=0.6)\ng.map_upper(sns.regplot, scatter_kws={'alpha':0.3}, line_kws={'color':'red'})\nplt.suptitle('Pairplot with Regression on Upper Triangle', y=1.02)\nplt.tight_layout()\nplt.show()", "difficulty": "hard", "tags": ["seaborn", "pairplot", "regression"], "core_category": "VISUALIZATION_BASICS", "id": "SNP090"}
{"question": "How to apply a seaborn style to all matplotlib plots?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport numpy as np\n# Set seaborn style\nsns.set_style(\"whitegrid\")\n# Create plot with the applied style\nx = np.linspace(0, 10, 100)\ny = np.sin(x)\nplt.figure(figsize=(8,5))\nplt.plot(x, y, linewidth=2)\nplt.title('Plot with Seaborn Whitegrid Style')\nplt.xlabel('X')\nplt.ylabel('Y')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "matplotlib", "styling", "set_style"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP091"}
{"question": "How to create a bubble plot with seaborn (scatter plot with variable size)?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n# Create dataset with size variable\nnp.random.seed(0)\ndf = pd.DataFrame({\n    'X': np.random.randn(50),\n    'Y': np.random.randn(50) * 0.5 + 2,\n    'Size': np.random.randint(10, 200, 50),\n    'Category': np.random.choice(['A', 'B', 'C'], 50)\n})\nplt.figure(figsize=(8,6))\nsns.scatterplot(data=df, x='X', y='Y', size='Size', hue='Category', \n                sizes=(20, 200), alpha=0.7, palette='Set2')\nplt.title('Bubble Plot (Scatter with Variable Size)')\nplt.legend(bbox_to_anchor=(1.05, 1), loc='upper left')\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "scatterplot", "bubble", "size"], "core_category": "VISUALIZATION_BASICS", "id": "SNP092"}
{"question": "How to select rows based on multiple conditions?", "code": "import pandas as pd\ndf = pd.DataFrame({\n    'Name': ['Alice', 'Bob', 'Charlie', 'David', 'Eve'],\n    'Age': [25, 30, 35, 28, 32],\n    'Score': [85, 92, 78, 88, 95]\n})\n# Select rows where Age > 28 AND Score > 90\nselected = df[(df['Age'] > 28) & (df['Score'] > 90)]\nprint(selected)", "difficulty": "easy", "tags": ["pandas", "filter", "boolean indexing"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP093"}
{"question": "How to create a boolean mask array based on a condition?", "code": "import numpy as np\narr = np.array([1, 5, 2, 8, 3, 10, 4])\n# Create boolean mask where arr > 5\nmask = arr > 5\nprint(\"Array:\", arr)\nprint(\"Mask (arr > 5):\", mask)\nprint(\"Values where mask is True:\", arr[mask])", "difficulty": "easy", "tags": ["numpy", "boolean", "mask"], "core_category": "ARRAY_OPERATIONS", "id": "SNP094"}
{"question": "How to plot a step function?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\nx = np.arange(0, 10, 1)\ny = np.array([1, 3, 2, 5, 4, 7, 6, 8, 9, 5])\nplt.step(x, y, where='mid', linewidth=2, color='green', marker='o')\nplt.title('Step Plot (Mid)')\nplt.xlabel('X')\nplt.ylabel('Y')\nplt.grid(True, alpha=0.3)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "step", "plot"], "core_category": "VISUALIZATION_BASICS", "id": "SNP095"}
{"question": "How to rotate x-axis labels in a seaborn bar plot?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\n# Create data with long category names\ndata = pd.DataFrame({\n    'LongCategoryName': ['Category Alpha', 'Category Beta', 'Category Gamma', 'Category Delta'],\n    'Value': [25, 40, 30, 35]\n})\nplt.figure(figsize=(8,5))\nax = sns.barplot(x='LongCategoryName', y='Value', data=data)\nplt.title('Bar Plot with Rotated X Labels')\nplt.xticks(rotation=45, ha='right')\nplt.tight_layout()\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "barplot", "rotation", "xticks"], "core_category": "VISUALIZATION_BASICS", "id": "SNP096"}
{"question": "How to perform the Mann-Whitney U test (non-parametric t-test) using scipy?", "code": "from scipy.stats import mannwhitneyu\nimport numpy as np\n# Generate two sample groups\ngroup1 = np.random.exponential(scale=2.0, size=30)\ngroup2 = np.random.exponential(scale=3.0, size=35)\n# Perform Mann-Whitney U test\nstatistic, p_value = mannwhitneyu(group1, group2, alternative='two-sided')\nprint(f\"Mann-Whitney U statistic: {statistic:.4f}\")\nprint(f\"P-value: {p_value:.4f}\")", "difficulty": "medium", "tags": ["scipy", "mann-whitney", "non-parametric", "statistics"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP097"}
{"question": "How to remove columns with all missing values?", "code": "import pandas as pd\nimport numpy as np\ndf = pd.DataFrame({\n    'A': [1, 2, 3],\n    'B': [np.nan, np.nan, np.nan],\n    'C': [4, np.nan, 6],\n    'D': [np.nan, np.nan, np.nan]\n})\nprint(\"Original DataFrame:\")\nprint(df)\n# Drop columns where all values are NaN\ndf_cleaned = df.dropna(axis=1, how='all')\nprint(\"\\nAfter dropping all-NaN columns:\")\nprint(df_cleaned)", "difficulty": "easy", "tags": ["pandas", "dropna", "missing values"], "core_category": "DATA_PREPROCESSING", "id": "SNP098"}
{"question": "How to compute the inverse of a matrix?", "code": "import numpy as np\n# Create a 3x3 matrix\nmatrix = np.array([[4, 7, 2],\n                   [3, 5, 1],\n                   [2, 4, 6]])\n# Compute inverse\nmatrix_inv = np.linalg.inv(matrix)\nprint(\"Original matrix:\")\nprint(matrix)\nprint(\"\\nInverse matrix:\")\nprint(matrix_inv)\n# Verify by multiplying matrix with its inverse\nidentity_check = np.dot(matrix, matrix_inv)\nprint(\"\\nMatrix * Inverse (should be near identity):\")\nprint(np.round(identity_check, 10))", "difficulty": "medium", "tags": ["numpy", "linear algebra", "inverse", "matrix"], "core_category": "ARRAY_OPERATIONS", "id": "SNP099"}
{"question": "How to create a scatter plot with different markers for different groups?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n# Generate data for three groups\nnp.random.seed(0)\ngroup1_x = np.random.randn(20) + 1\ngroup1_y = np.random.randn(20) + 1\ngroup2_x = np.random.randn(20) + 3\ngroup2_y = np.random.randn(20) + 3\ngroup3_x = np.random.randn(20) + 2\ngroup3_y = np.random.randn(20) + 2\nplt.scatter(group1_x, group1_y, marker='o', s=50, label='Group A', alpha=0.7)\nplt.scatter(group2_x, group2_y, marker='s', s=50, label='Group B', alpha=0.7)\nplt.scatter(group3_x, group3_y, marker='^', s=50, label='Group C', alpha=0.7)\nplt.title('Scatter Plot with Different Markers')\nplt.xlabel('X')\nplt.ylabel('Y')\nplt.legend()\nplt.grid(True, alpha=0.3)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "scatter", "markers"], "core_category": "VISUALIZATION_BASICS", "id": "SNP100"}
{"question": "How to create a countplot with percentages instead of counts?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\ndata = pd.DataFrame({\n    'Category': ['A', 'B', 'A', 'C', 'B', 'A', 'C', 'B', 'C', 'A', 'B', 'C']\n})\nax = sns.countplot(x='Category', data=data)\ntotal = len(data)\nfor p in ax.patches:\n    percentage = f'{100 * p.get_height() / total:.1f}%'\n    x = p.get_x() + p.get_width() / 2\n    y = p.get_height() + 0.05\n    ax.annotate(percentage, (x, y), ha='center', va='bottom')\nplt.title('Countplot with Percentages')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "countplot", "percentage", "annotation"], "core_category": "VISUALIZATION_BASICS", "id": "SNP101"}
{"question": "How to apply different aggregation functions to different columns in groupby?", "code": "import pandas as pd\n# Sales data\ndf = pd.DataFrame({\n    'Region': ['North', 'North', 'South', 'South', 'North', 'South'],\n    'Product': ['A', 'B', 'A', 'B', 'A', 'B'],\n    'Sales': [100, 150, 200, 120, 180, 90],\n    'Profit': [20, 30, 40, 25, 35, 15]\n})\n# Different aggregations for different columns\nagg_dict = {\n    'Sales': ['sum', 'mean'],\n    'Profit': ['sum', 'max']\n}\nresult = df.groupby(['Region', 'Product']).agg(agg_dict)\nprint(result)", "difficulty": "medium", "tags": ["pandas", "groupby", "aggregation", "multiple functions"], "core_category": "DATA_TRANSFORMATION", "id": "SNP102"}
{"question": "How to interpolate missing values linearly?", "code": "import pandas as pd\nimport numpy as np\ndf = pd.DataFrame({\n    'Value': [1, np.nan, np.nan, 4, 5, np.nan, 7]\n})\nprint(\"Before interpolation:\\n\", df)\ndf_interpolated = df.interpolate(method='linear')\nprint(\"\\nAfter linear interpolation:\\n\", df_interpolated)", "difficulty": "easy", "tags": ["pandas", "interpolate", "missing values"], "core_category": "DATA_PREPROCESSING", "id": "SNP103"}
{"question": "How to compute element-wise maximum between two arrays?", "code": "import numpy as np\na = np.array([1, 5, 3, 8, 2])\nb = np.array([2, 4, 6, 3, 1])\n# Element-wise maximum\nmax_arr = np.maximum(a, b)\nprint(f\"Array a: {a}\")\nprint(f\"Array b: {b}\")\nprint(f\"Element-wise maximum: {max_arr}\")", "difficulty": "easy", "tags": ["numpy", "maximum", "vectorization"], "core_category": "ARRAY_OPERATIONS", "id": "SNP104"}
{"question": "How to create a histogram with a fitted normal distribution?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\nfrom scipy.stats import norm\n# Generate normally distributed data\ndata = np.random.normal(loc=100, scale=15, size=1000)\n# Plot histogram\nplt.hist(data, bins=30, density=True, alpha=0.7, edgecolor='black', color='lightblue')\n# Fit normal distribution\nmu, std = norm.fit(data)\nxmin, xmax = plt.xlim()\nx = np.linspace(xmin, xmax, 100)\np = norm.pdf(x, mu, std)\nplt.plot(x, p, 'r', linewidth=2, label=f'Fit: \u03bc={mu:.1f}, \u03c3={std:.1f}')\nplt.title('Histogram with Fitted Normal Distribution')\nplt.xlabel('Value')\nplt.ylabel('Density')\nplt.legend()\nplt.grid(True, alpha=0.3)\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "histogram", "normal distribution", "scipy"], "core_category": "VISUALIZATION_BASICS", "id": "SNP105"}
{"question": "How to create a horizontal boxplot?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n# Generate data for three groups\ngroup1 = np.random.normal(100, 15, 50)\ngroup2 = np.random.normal(120, 20, 50)\ngroup3 = np.random.normal(90, 10, 50)\ndata = [group1, group2, group3]\nlabels = ['Group 1', 'Group 2', 'Group 3']\nplt.boxplot(data, labels=labels, vert=False, patch_artist=True,\n            boxprops=dict(facecolor='lightgreen', alpha=0.7))\nplt.title('Horizontal Boxplots')\nplt.xlabel('Value')\nplt.grid(True, alpha=0.3)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "boxplot", "horizontal"], "core_category": "VISUALIZATION_BASICS", "id": "SNP106"}
{"question": "How to use radial basis function (RBF) interpolation in scipy?", "code": "from scipy.interpolate import Rbf\nimport numpy as np\nimport matplotlib.pyplot as plt\n# Known scattered 2D points\nx = np.random.rand(20) * 10\ny = np.random.rand(20) * 10\nz = np.sin(x) * np.cos(y)  # Known values\n# Create RBF interpolator\nrbf = Rbf(x, y, z, function='multiquadric')\n# Create grid for interpolation\nxi = np.linspace(0, 10, 30)\nyi = np.linspace(0, 10, 30)\nXI, YI = np.meshgrid(xi, yi)\nZI = rbf(XI, YI)\n# Plot\nplt.figure(figsize=(10, 4))\nplt.subplot(1, 2, 1)\nplt.scatter(x, y, c=z, s=50, edgecolor='black')\nplt.title('Original Points')\nplt.colorbar(label='z')\nplt.subplot(1, 2, 2)\nplt.contourf(XI, YI, ZI, levels=20, cmap='viridis')\nplt.scatter(x, y, c='red', s=20, edgecolor='black')\nplt.title('RBF Interpolation')\nplt.colorbar(label='z')\nplt.tight_layout()\nplt.show()", "difficulty": "hard", "tags": ["scipy", "interpolation", "rbf", "2d"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP107"}
{"question": "How to perform a cross join (cartesian product) between DataFrames?", "code": "import pandas as pd\ndf1 = pd.DataFrame({'A': [1, 2]})\ndf2 = pd.DataFrame({'B': ['X', 'Y', 'Z']})\n# Create cross join using merge with how='cross' (pandas 1.2+)\nresult = pd.merge(df1.assign(key=1), df2.assign(key=1), on='key').drop('key', axis=1)\nprint(\"Cross join (Cartesian product):\")\nprint(result)", "difficulty": "medium", "tags": ["pandas", "merge", "cross join", "cartesian product"], "core_category": "DATA_TRANSFORMATION", "id": "SNP108"}
{"question": "How to set a random seed for reproducible results?", "code": "import numpy as np\n# Set random seed for reproducibility\nnp.random.seed(42)\n# Now all random operations will be reproducible\nrand1 = np.random.rand(5)\nrand2 = np.random.randint(0, 100, 5)\nprint(\"First random array:\", rand1)\nprint(\"Second random array:\", rand2)", "difficulty": "easy", "tags": ["numpy", "random", "seed", "reproducibility"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP109"}
{"question": "How to create a diverging bar chart (positive and negative values)?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\ncategories = ['A', 'B', 'C', 'D', 'E', 'F']\nvalues = [15, -8, 22, -5, 10, -12]\ncolors = ['green' if v >= 0 else 'red' for v in values]\nplt.bar(categories, values, color=colors, edgecolor='black')\nplt.axhline(y=0, color='black', linewidth=0.8)\nplt.title('Diverging Bar Chart')\nplt.ylabel('Value')\nplt.grid(True, alpha=0.3, axis='y')\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "bar", "diverging", "positive negative"], "core_category": "VISUALIZATION_BASICS", "id": "SNP110"}
{"question": "How to create a half violin plot (using seaborn and matplotlib)?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n# Create sample data\ndata = pd.DataFrame({\n    'Group': ['A']*50 + ['B']*50,\n    'Value': np.concatenate([np.random.normal(0, 1, 50), np.random.normal(1, 1.5, 50)])\n})\nfig, axes = plt.subplots(1, 2, figsize=(10, 5))\n# Full violin plot\nsns.violinplot(x='Group', y='Value', data=data, ax=axes[0])\naxes[0].set_title('Full Violin Plot')\n# Half violin plot (using only left side)\nsns.violinplot(x='Group', y='Value', data=data, ax=axes[1])\naxes[1].set_title('Half Violin Plot (Customized)')\n# Manually adjust to show only left half\nfor violin in axes[1].collections:\n    violin.set_clip_path(plt.Rectangle((0, -3), 1.5, 6, transform=axes[1].transData))\nplt.tight_layout()\nplt.show()", "difficulty": "hard", "tags": ["seaborn", "violinplot", "custom", "half violin"], "core_category": "VISUALIZATION_BASICS", "id": "SNP111"}
{"question": "How to extract day of week from a datetime column?", "code": "import pandas as pd\ndf = pd.DataFrame({\n    'date': pd.to_datetime(['2023-01-01', '2023-01-02', '2023-01-03', '2023-01-04', '2023-01-05']),\n    'value': [100, 200, 150, 300, 250]\n})\ndf['day_of_week'] = df['date'].dt.day_name()\ndf['day_of_week_num'] = df['date'].dt.dayofweek  # Monday=0, Sunday=6\nprint(df)", "difficulty": "easy", "tags": ["pandas", "datetime", "day of week"], "core_category": "DATA_PREPROCESSING", "id": "SNP112"}
{"question": "How to perform target encoding (mean encoding) for a categorical variable?", "code": "import pandas as pd\nimport numpy as np\n# Create sample data\nnp.random.seed(42)\ndf = pd.DataFrame({\n    'City': ['NY']*20 + ['LA']*20 + ['CHI']*20,\n    'Target': np.concatenate([\n        np.random.normal(100, 10, 20),\n        np.random.normal(110, 15, 20),\n        np.random.normal(95, 12, 20)\n    ])\n})\n# Calculate mean target per city\nmean_encoding = df.groupby('City')['Target'].mean().to_dict()\nprint(\"Mean encoding mapping:\", mean_encoding)\n# Apply encoding\ndf['City_Encoded'] = df['City'].map(mean_encoding)\nprint(\"\\nFirst few rows:\")\nprint(df.head())", "difficulty": "medium", "tags": ["pandas", "target encoding", "mean encoding", "categorical"], "core_category": "DATA_TRANSFORMATION", "id": "SNP113"}
{"question": "How to normalize each row of a 2D array to have zero mean?", "code": "import numpy as np\n# Create 2D array\nmatrix = np.array([[1, 2, 3, 4],\n                   [10, 20, 30, 40],\n                   [5, 10, 15, 20]])\n# Normalize each row to have zero mean\nrow_means = matrix.mean(axis=1, keepdims=True)\nnormalized = matrix - row_means\nprint(\"Original matrix:\")\nprint(matrix)\nprint(\"\\nRow means (kept as column vector):\")\nprint(row_means)\nprint(\"\\nNormalized (zero mean per row):\")\nprint(normalized)\nprint(\"\\nCheck: New row means:\", normalized.mean(axis=1))", "difficulty": "medium", "tags": ["numpy", "broadcasting", "normalization", "mean"], "core_category": "ARRAY_OPERATIONS", "id": "SNP114"}
{"question": "How to create a figure with subplots arranged in a custom grid layout?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\nfig = plt.figure(figsize=(12, 8))\n# Define custom grid layout\n# Using add_subplot with specific grid positions\nax1 = plt.subplot2grid((3, 3), (0, 0), colspan=2)  # Top-left, spans 2 columns\nax2 = plt.subplot2grid((3, 3), (0, 2))              # Top-right\nax3 = plt.subplot2grid((3, 3), (1, 0))              # Middle-left\nax4 = plt.subplot2grid((3, 3), (1, 1), colspan=2, rowspan=2)  # Middle-right, spans 2 cols, 2 rows\nax5 = plt.subplot2grid((3, 3), (2, 0))              # Bottom-left\n# Plot on each subplot\nx = np.linspace(0, 10, 100)\nax1.plot(x, np.sin(x), 'b-')\nax1.set_title('Sine Wave (span 2 cols)')\nax2.plot(x, np.cos(x), 'r-')\nax2.set_title('Cosine Wave')\nax3.scatter(np.random.rand(20), np.random.rand(20))\nax3.set_title('Scatter Plot')\nax4.hist(np.random.randn(1000), bins=30, edgecolor='black')\nax4.set_title('Histogram (span 2x2)')\nax5.bar(['A', 'B', 'C'], [10, 20, 15])\nax5.set_title('Bar Plot')\nplt.suptitle('Custom Grid Layout with subplot2grid', fontsize=14)\nplt.tight_layout()\nplt.show()", "difficulty": "hard", "tags": ["matplotlib", "subplots", "grid", "subplot2grid"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP115"}
{"question": "How to create a jointplot with marginal histograms and kernel density estimate?", "code": "import seaborn as sns\nimport numpy as np\nnp.random.seed(0)\nx = np.random.randn(200)\ny = 0.5*x + np.random.randn(200)*0.5\ng = sns.jointplot(x=x, y=y, kind='hist', height=6, marginal_kws=dict(bins=30, kde=True))\ng.fig.suptitle('Jointplot with Histograms and Marginal KDE')\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "jointplot", "histogram", "kde"], "core_category": "VISUALIZATION_BASICS", "id": "SNP116"}
{"question": "How to compute and plot the spectrogram of a signal?", "code": "from scipy import signal\nimport numpy as np\nimport matplotlib.pyplot as plt\n# Generate a signal with changing frequency\nfs = 1000  # Sampling frequency\nT = 2      # Duration\nt = np.linspace(0, T, int(fs*T), endpoint=False)\n# Create chirp signal: frequency changes from 20Hz to 200Hz\nsig = signal.chirp(t, f0=20, f1=200, t1=T, method='linear')\n# Compute spectrogram\nf, t_spec, Sxx = signal.spectrogram(sig, fs, nperseg=256, noverlap=128)\n# Plot\nplt.figure(figsize=(10, 5))\nplt.pcolormesh(t_spec, f, 10*np.log10(Sxx), shading='gouraud', cmap='viridis')\nplt.colorbar(label='Power/Frequency (dB/Hz)')\nplt.title('Spectrogram of Chirp Signal')\nplt.xlabel('Time [s]')\nplt.ylabel('Frequency [Hz]')\nplt.tight_layout()\nplt.show()", "difficulty": "hard", "tags": ["scipy", "signal processing", "spectrogram", "chirp"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP117"}
{"question": "How to create rolling window statistics (moving average) in pandas?", "code": "import pandas as pd\nimport numpy as np\n# Time series data\ndf = pd.DataFrame({\n    'Date': pd.date_range('2023-01-01', periods=20, freq='D'),\n    'Value': np.random.randint(50, 150, 20)\n})\ndf['MA_3'] = df['Value'].rolling(window=3).mean()\ndf['MA_7'] = df['Value'].rolling(window=7, min_periods=1).mean()\ndf['Std_5'] = df['Value'].rolling(window=5).std()\nprint(df)", "difficulty": "medium", "tags": ["pandas", "rolling", "moving average", "time series"], "core_category": "DATA_TRANSFORMATION", "id": "SNP118"}
{"question": "How to perform ANOVA (analysis of variance) to compare multiple groups?", "code": "from scipy.stats import f_oneway\nimport numpy as np\n# Generate three groups of data\ngroup1 = np.random.normal(50, 10, 30)\ngroup2 = np.random.normal(55, 10, 30)\ngroup3 = np.random.normal(52, 10, 30)\n# Perform one-way ANOVA\nf_stat, p_value = f_oneway(group1, group2, group3)\nprint(f\"F-statistic: {f_stat:.4f}\")\nprint(f\"P-value: {p_value:.4f}\")\nif p_value < 0.05:\n    print(\"Significant difference between groups (p < 0.05)\")\nelse:\n    print(\"No significant difference between groups\")", "difficulty": "medium", "tags": ["scipy", "anova", "statistics", "hypothesis testing"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP119"}
{"question": "How to create a heatmap with a divergent color palette centered at zero?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport numpy as np\n# Generate data with both positive and negative values\ndata = np.random.randn(8, 10) * 2\nplt.figure(figsize=(10, 8))\nsns.heatmap(data, cmap='RdBu_r', center=0, annot=True, fmt='.1f',\n            linewidths=0.5, linecolor='gray', cbar_kws={'label': 'Value'})\nplt.title('Divergent Heatmap (Centered at Zero)')\nplt.tight_layout()\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "heatmap", "divergent", "colormap"], "core_category": "VISUALIZATION_BASICS", "id": "SNP120"}
{"question": "How to add mathematical expressions (LaTeX) to a matplotlib plot?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\nx = np.linspace(0, 2*np.pi, 100)\ny1 = np.sin(x)\ny2 = np.cos(x)\nplt.plot(x, y1, label=r'$\\sin(x)$')\nplt.plot(x, y2, label=r'$\\cos(x)$')\nplt.title(r'Trigonometric Functions: $y = \\sin(x)$ and $y = \\cos(x)$')\nplt.xlabel(r'$x$ (radians)')\nplt.ylabel(r'$y$')\n# Add equation annotation\nplt.annotate(r'$\\sin^2(x) + \\cos^2(x) = 1$', \n             xy=(np.pi/2, 0.5), xytext=(np.pi/2, 0.8),\n             arrowprops=dict(facecolor='black', shrink=0.05),\n             fontsize=12, ha='center')\nplt.legend()\nplt.grid(True, alpha=0.3)\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "annotation", "latex", "mathematical"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP121"}
{"question": "How to create a pairplot with custom diagonal plots (e.g., density plots)?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\nnp.random.seed(0)\ndf = pd.DataFrame(np.random.randn(200, 4), columns=['A', 'B', 'C', 'D'])\n# Create PairGrid for full control\ng = sns.PairGrid(df)\ng.map_diag(sns.kdeplot, fill=True, alpha=0.7)  # KDE on diagonal\ng.map_lower(sns.scatterplot, alpha=0.5)         # Scatter on lower triangle\ng.map_upper(sns.kdeplot, fill=True, alpha=0.3)  # KDE on upper triangle\nplt.suptitle('Pairplot with Custom Diagonal (KDE)', y=1.02)\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "pairplot", "kde", "PairGrid"], "core_category": "VISUALIZATION_BASICS", "id": "SNP122"}
{"question": "How to perform linear programming with scipy?", "code": "from scipy.optimize import linprog\nimport numpy as np\n# Maximize: 3x + 4y\n# Subject to:\n# x + 2y <= 14\n# 3x - y >= 0\n# x - y <= 2\n# x >= 0, y >= 0\nc = [-3, -4]  # Coefficients for objective (negative for maximization)\nA = [[1, 2],   # Inequality constraint matrix (LHS)\n     [-3, 1],  # Note: second constraint is >=, so we multiply by -1\n     [1, -1]]\nb = [14, 0, 2]  # RHS\nx_bounds = (0, None)\ny_bounds = (0, None)\nresult = linprog(c, A_ub=A, b_ub=b, bounds=[x_bounds, y_bounds], method='highs')\nprint(\"Status:\", result.message)\nprint(f\"Optimal x = {result.x[0]:.2f}, y = {result.x[1]:.2f}\")\nprint(f\"Maximum value = {-result.fun:.2f}\")  # Negative because we minimized -f", "difficulty": "hard", "tags": ["scipy", "optimization", "linear programming"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP123"}
{"question": "How to create a plot with a dark background style?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n# Set dark background style\nplt.style.use('dark_background')\nx = np.linspace(0, 10, 100)\ny1 = np.sin(x)\ny2 = np.cos(x)\nplt.plot(x, y1, label='sin(x)', linewidth=2, color='cyan')\nplt.plot(x, y2, label='cos(x)', linewidth=2, color='magenta')\nplt.title('Plot with Dark Background Style')\nplt.xlabel('X')\nplt.ylabel('Y')\nplt.legend()\nplt.grid(True, alpha=0.3)\nplt.show()\n# Reset to default style\nplt.style.use('default')", "difficulty": "easy", "tags": ["matplotlib", "styling", "dark background"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP124"}
{"question": "How to create a scatter plot with marginal distributions using seaborn's jointplot?", "code": "import seaborn as sns\nimport numpy as np\nnp.random.seed(0)\nx = np.random.randn(200)\ny = 0.7*x + np.random.randn(200)*0.5\ng = sns.jointplot(x=x, y=y, height=6, ratio=4,\n                  marginal_kws=dict(bins=25, kde=True, fill=True),\n                  joint_kws=dict(alpha=0.6, s=40))\ng.fig.suptitle('Scatter Plot with Marginal Distributions')\ng.ax_joint.set_xlabel('X Variable')\ng.ax_joint.set_ylabel('Y Variable')\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "scatterplot", "jointplot", "marginal distributions"], "core_category": "VISUALIZATION_BASICS", "id": "SNP125"}
{"question": "How to get summary statistics of a DataFrame?", "code": "import pandas as pd\nimport numpy as np\ndf = pd.DataFrame({\n    'A': np.random.randn(100),\n    'B': np.random.randint(0, 100, 100),\n    'C': np.random.choice(['X', 'Y', 'Z'], 100)\n})\nprint(\"Summary statistics for numeric columns:\")\nprint(df.describe())\nprint(\"\\nInfo about DataFrame:\")\nprint(df.info())", "difficulty": "easy", "tags": ["pandas", "describe", "info", "summary statistics"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP126"}
{"question": "How to concatenate arrays along different axes?", "code": "import numpy as np\na = np.array([[1, 2], [3, 4]])\nb = np.array([[5, 6], [7, 8]])\n# Concatenate along rows (axis=0)\nc_row = np.concatenate([a, b], axis=0)\nprint(\"Concatenate along rows (axis=0):\")\nprint(c_row)\nprint(\"Shape:\", c_row.shape)\n# Concatenate along columns (axis=1)\nc_col = np.concatenate([a, b], axis=1)\nprint(\"\\nConcatenate along columns (axis=1):\")\nprint(c_col)\nprint(\"Shape:\", c_col.shape)", "difficulty": "easy", "tags": ["numpy", "concatenate", "arrays"], "core_category": "ARRAY_OPERATIONS", "id": "SNP127"}
{"question": "How to create a plot with two y-axes (dual axis plot)?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\nx = np.arange(0, 10, 0.5)\ny1 = np.sin(x)\ny2 = np.exp(x/5)\nfig, ax1 = plt.subplots()\n# First y-axis\ncolor1 = 'tab:blue'\nax1.set_xlabel('X')\nax1.set_ylabel('sin(x)', color=color1)\nline1 = ax1.plot(x, y1, color=color1, linewidth=2, label='sin(x)')\nax1.tick_params(axis='y', labelcolor=color1)\n# Second y-axis\nax2 = ax1.twinx()\ncolor2 = 'tab:red'\nax2.set_ylabel('exp(x/5)', color=color2)\nline2 = ax2.plot(x, y2, color=color2, linewidth=2, linestyle='--', label='exp(x/5)')\nax2.tick_params(axis='y', labelcolor=color2)\nplt.title('Dual Axis Plot')\n# Combine legends from both axes\nlines = line1 + line2\nlabels = [l.get_label() for l in lines]\nax1.legend(lines, labels, loc='upper left')\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "dual axis", "twinx", "plot"], "core_category": "VISUALIZATION_BASICS", "id": "SNP128"}
{"question": "How to create a bar plot with a second y-axis for a line plot overlay?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n# Create sample data\ndata = pd.DataFrame({\n    'Month': ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],\n    'Sales': [100, 150, 130, 170, 140, 200],\n    'Growth': [0, 0.5, -0.13, 0.31, -0.18, 0.43]\n})\nfig, ax1 = plt.subplots(figsize=(8,5))\n# Bar plot (primary y-axis)\nsns.barplot(x='Month', y='Sales', data=data, ax=ax1, color='lightblue', alpha=0.7)\nax1.set_ylabel('Sales ($)', color='blue')\nax1.tick_params(axis='y', labelcolor='blue')\n# Line plot (secondary y-axis)\nax2 = ax1.twinx()\nax2.plot(data['Month'], data['Growth'], color='red', marker='o', linewidth=2, markersize=8)\nax2.set_ylabel('Growth Rate', color='red')\nax2.tick_params(axis='y', labelcolor='red')\nax2.grid(False)\nplt.title('Sales and Growth Rate by Month')\nplt.tight_layout()\nplt.show()", "difficulty": "hard", "tags": ["seaborn", "barplot", "dual axis", "matplotlib"], "core_category": "VISUALIZATION_BASICS", "id": "SNP129"}
{"question": "How to compute the Shapiro-Wilk test for normality?", "code": "from scipy.stats import shapiro\nimport numpy as np\n# Generate normal and non-normal data\nnormal_data = np.random.normal(0, 1, 100)\nnon_normal_data = np.random.exponential(1, 100)\n# Test for normality\nstat_norm, p_norm = shapiro(normal_data)\nstat_non, p_non = shapiro(non_normal_data)\nprint(\"Normal data:\")\nprint(f\"  Shapiro-Wilk statistic: {stat_norm:.4f}\")\nprint(f\"  P-value: {p_norm:.4f}\")\nprint(f\"  Is normal? {p_norm > 0.05}\")\nprint(\"\\nNon-normal (exponential) data:\")\nprint(f\"  Shapiro-Wilk statistic: {stat_non:.4f}\")\nprint(f\"  P-value: {p_non:.4f}\")\nprint(f\"  Is normal? {p_non > 0.05}\")", "difficulty": "medium", "tags": ["scipy", "shapiro-wilk", "normality test", "statistics"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP130"}
{"question": "How to remove outliers using the IQR method?", "code": "import pandas as pd\nimport numpy as np\n# Create data with outliers\ndata = {'Values': [10, 12, 13, 15, 12, 14, 100, 11, 13, 12, 10, 9, 8, 110, 13, 12]}\ndf = pd.DataFrame(data)\n# Calculate IQR\nQ1 = df['Values'].quantile(0.25)\nQ3 = df['Values'].quantile(0.75)\nIQR = Q3 - Q1\n# Define bounds\nlower_bound = Q1 - 1.5 * IQR\nupper_bound = Q3 + 1.5 * IQR\nprint(f\"Q1: {Q1}, Q3: {Q3}, IQR: {IQR}\")\nprint(f\"Lower bound: {lower_bound}, Upper bound: {upper_bound}\")\n# Filter outliers\ndf_filtered = df[(df['Values'] >= lower_bound) & (df['Values'] <= upper_bound)]\nprint(f\"\\nOriginal shape: {df.shape}\")\nprint(f\"Filtered shape: {df_filtered.shape}\")\nprint(\"\\nRemoved values:\", set(df['Values']) - set(df_filtered['Values']))", "difficulty": "medium", "tags": ["pandas", "outliers", "IQR", "data cleaning"], "core_category": "DATA_PREPROCESSING", "id": "SNP131"}
{"question": "How to compute the eigenvalues and eigenvectors of a matrix?", "code": "import numpy as np\n# Create a symmetric matrix\nmatrix = np.array([[4, 2, 1],\n                   [2, 5, 3],\n                   [1, 3, 6]])\n# Compute eigenvalues and eigenvectors\neigenvalues, eigenvectors = np.linalg.eig(matrix)\nprint(\"Matrix:\")\nprint(matrix)\nprint(\"\\nEigenvalues:\")\nprint(eigenvalues)\nprint(\"\\nEigenvectors (columns):\")\nprint(eigenvectors)\n# Verify: matrix * eigenvector = eigenvalue * eigenvector\nprint(\"\\nVerification for first eigenvector:\")\nidx = 0\nleft_side = np.dot(matrix, eigenvectors[:, idx])\nright_side = eigenvalues[idx] * eigenvectors[:, idx]\nprint(\"Matrix * v:\", left_side)\nprint(\"\u03bb * v:\", right_side)\nprint(\"Close?:\", np.allclose(left_side, right_side))", "difficulty": "hard", "tags": ["numpy", "linear algebra", "eigenvalues", "eigenvectors"], "core_category": "ARRAY_OPERATIONS", "id": "SNP132"}
{"question": "How to create a scatter plot with a colorbar and size variation (bubble plot)?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\nnp.random.seed(0)\nn = 50\nx = np.random.randn(n)\ny = np.random.randn(n)\ncolors = np.random.rand(n)\nsizes = 100 * np.random.rand(n)\nplt.scatter(x, y, c=colors, s=sizes, alpha=0.7, cmap='viridis', edgecolor='black')\nplt.colorbar(label='Color value')\nplt.title('Bubble Plot with Color and Size Variation')\nplt.xlabel('X')\nplt.ylabel('Y')\nplt.grid(True, alpha=0.3)\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "scatter", "bubble plot", "colorbar"], "core_category": "VISUALIZATION_BASICS", "id": "SNP133"}
{"question": "How to create a countplot with ordered bars by count?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\ndata = pd.DataFrame({\n    'Category': ['B', 'A', 'C', 'B', 'A', 'A', 'C', 'B', 'A', 'C', 'C', 'B']\n})\n# Get order by frequency\norder = data['Category'].value_counts().index\nsns.countplot(x='Category', data=data, order=order, palette='Set3')\nplt.title('Countplot Ordered by Frequency')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "countplot", "ordering", "value_counts"], "core_category": "VISUALIZATION_BASICS", "id": "SNP134"}
{"question": "How to calculate percentage within each group?", "code": "import pandas as pd\n# Sales data\ndf = pd.DataFrame({\n    'Region': ['North', 'North', 'South', 'South', 'North', 'South'],\n    'Product': ['A', 'B', 'A', 'B', 'A', 'B'],\n    'Sales': [100, 150, 200, 120, 180, 90]\n})\n# Calculate percentage of total sales within each region\ndf['Pct_of_Region'] = df.groupby('Region')['Sales'].transform(lambda x: x / x.sum() * 100)\nprint(df)", "difficulty": "medium", "tags": ["pandas", "groupby", "transform", "percentage"], "core_category": "DATA_TRANSFORMATION", "id": "SNP135"}
{"question": "How to count missing values per column and their percentage?", "code": "import pandas as pd\nimport numpy as np\ndf = pd.DataFrame({\n    'A': [1, np.nan, 3, np.nan, 5],\n    'B': [np.nan, 2, 4, np.nan, 10],\n    'C': [5, 6, np.nan, 8, 9],\n    'D': [1, 2, 3, 4, 5]\n})\n# Calculate missing values\nmissing_counts = df.isnull().sum()\nmissing_pct = (df.isnull().sum() / len(df)) * 100\nmissing_df = pd.DataFrame({\n    'Missing_Count': missing_counts,\n    'Missing_Pct': missing_pct\n})\nprint(\"Missing values summary:\")\nprint(missing_df)", "difficulty": "easy", "tags": ["pandas", "missing values", "isnull", "percentage"], "core_category": "DATA_PREPROCESSING", "id": "SNP136"}
{"question": "How to compute the sigmoid function element-wise on an array?", "code": "import numpy as np\ndef sigmoid(x):\n    return 1 / (1 + np.exp(-x))\n# Test on array\nx = np.array([-2, -1, 0, 1, 2])\nresult = sigmoid(x)\nprint(f\"Input: {x}\")\nprint(f\"Sigmoid: {result}\")", "difficulty": "easy", "tags": ["numpy", "sigmoid", "vectorization", "mathematical functions"], "core_category": "ARRAY_OPERATIONS", "id": "SNP137"}
{"question": "How to create a histogram with log scale on both axes?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n# Generate data with heavy tail\ndata = np.random.exponential(scale=2.0, size=1000)\nplt.hist(data, bins=50, edgecolor='black', alpha=0.7)\nplt.yscale('log')\nplt.xscale('log')\nplt.title('Histogram with Log-Log Scale')\nplt.xlabel('Value (log scale)')\nplt.ylabel('Frequency (log scale)')\nplt.grid(True, alpha=0.3, which='both')\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "histogram", "log scale", "loglog"], "core_category": "VISUALIZATION_BASICS", "id": "SNP138"}
{"question": "How to create a boxplot with mean markers?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n# Generate data for three groups\ngroup1 = np.random.normal(100, 15, 50)\ngroup2 = np.random.normal(110, 20, 50)\ngroup3 = np.random.normal(90, 10, 50)\ndata = [group1, group2, group3]\nlabels = ['Group 1', 'Group 2', 'Group 3']\nfig, ax = plt.subplots()\nbox = ax.boxplot(data, labels=labels, patch_artist=True,\n                 boxprops=dict(facecolor='lightblue', alpha=0.7))\n# Add mean markers\nmeans = [np.mean(g) for g in data]\nax.scatter(range(1, len(means)+1), means, marker='D', color='red', s=100, zorder=3, label='Mean')\nax.set_title('Boxplot with Mean Markers')\nax.set_ylabel('Value')\nax.legend()\nax.grid(True, alpha=0.3)\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "boxplot", "mean", "scatter"], "core_category": "VISUALIZATION_BASICS", "id": "SNP139"}
{"question": "How to perform monotonic cubic interpolation?", "code": "from scipy import interpolate\nimport numpy as np\nimport matplotlib.pyplot as plt\n# Data that should be monotonic\nx = np.array([0, 1, 2, 3, 4, 5])\ny = np.array([0, 2, 3, 3.5, 3.8, 4.0])  # Monotonically increasing\n# PCHIP (Piecewise Cubic Hermite Interpolating Polynomial) preserves monotonicity\npchip = interpolate.PchipInterpolator(x, y)\n# Evaluate on finer grid\nx_new = np.linspace(0, 5, 100)\ny_new = pchip(x_new)\nplt.plot(x, y, 'o', label='Data points')\nplt.plot(x_new, y_new, '-', label='PCHIP interpolation')\nplt.title('Monotonic Cubic Interpolation (PCHIP)')\nplt.xlabel('X')\nplt.ylabel('Y')\nplt.legend()\nplt.grid(True, alpha=0.3)\nplt.show()", "difficulty": "medium", "tags": ["scipy", "interpolation", "pchip", "monotonic"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP140"}
{"question": "How to merge DataFrames with different column names for the join key?", "code": "import pandas as pd\ndf1 = pd.DataFrame({\n    'ID': [1, 2, 3, 4],\n    'Name': ['Alice', 'Bob', 'Charlie', 'David']\n})\ndf2 = pd.DataFrame({\n    'EmpID': [1, 2, 5],\n    'Salary': [50000, 60000, 70000]\n})\n# Merge with left_on and right_on\nresult = pd.merge(df1, df2, left_on='ID', right_on='EmpID', how='left')\nprint(result)", "difficulty": "medium", "tags": ["pandas", "merge", "left_on", "right_on"], "core_category": "DATA_TRANSFORMATION", "id": "SNP141"}
{"question": "How to generate random samples from a uniform distribution?", "code": "import numpy as np\n# Generate 10 random numbers uniformly distributed between 0 and 1\nuniform_0_1 = np.random.rand(10)\nprint(\"Uniform [0, 1):\", uniform_0_1)\n# Generate 10 random numbers uniformly distributed between 5 and 15\nuniform_5_15 = np.random.uniform(low=5, high=15, size=10)\nprint(\"\\nUniform [5, 15):\", uniform_5_15)", "difficulty": "easy", "tags": ["numpy", "random", "uniform distribution"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP142"}
{"question": "How to create a bar plot with hatched patterns?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\ncategories = ['A', 'B', 'C', 'D', 'E']\nvalues = [25, 40, 30, 35, 20]\npatterns = ['/', '\\\\', '|', '-', '+']\ncolors = ['lightblue', 'lightgreen', 'lightcoral', 'plum', 'khaki']\nbars = plt.bar(categories, values, color=colors, edgecolor='black', linewidth=1.5)\n# Apply hatch patterns\nfor bar, pattern in zip(bars, patterns):\n    bar.set_hatch(pattern)\nplt.title('Bar Plot with Hatch Patterns')\nplt.ylabel('Value')\nplt.grid(True, alpha=0.3, axis='y')\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "bar", "hatch", "patterns"], "core_category": "VISUALIZATION_BASICS", "id": "SNP143"}
{"question": "How to create a violin plot with inner stick plot showing all observations?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\ndata = pd.DataFrame({\n    'Group': ['A']*30 + ['B']*30,\n    'Value': np.concatenate([np.random.normal(10, 2, 30), np.random.normal(15, 3, 30)])\n})\nsns.violinplot(x='Group', y='Value', data=data, inner='stick', palette='Set2')\nplt.title('Violin Plot with Inner Stick Plot')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "violinplot", "inner", "stick"], "core_category": "VISUALIZATION_BASICS", "id": "SNP144"}
{"question": "How to resample time series data to different frequencies?", "code": "import pandas as pd\nimport numpy as np\n# Create daily time series\nidx = pd.date_range('2023-01-01', periods=30, freq='D')\ndf = pd.DataFrame({\n    'Date': idx,\n    'Value': np.random.randn(30).cumsum() + 100\n}).set_index('Date')\n# Resample to weekly mean\nweekly = df.resample('W').mean()\nprint(\"Weekly resampled (mean):\")\nprint(weekly.head())\n# Resample to monthly sum\nmonthly = df.resample('M').sum()\nprint(\"\\nMonthly resampled (sum):\")\nprint(monthly)", "difficulty": "medium", "tags": ["pandas", "datetime", "resample", "time series"], "core_category": "DATA_PREPROCESSING", "id": "SNP145"}
{"question": "How to write a DataFrame to CSV with specific formatting?", "code": "import pandas as pd\nimport numpy as np\n# Create sample DataFrame\ndf = pd.DataFrame({\n    'Name': ['Alice', 'Bob', 'Charlie'],\n    'Score': [85.5, 92.0, 78.3],\n    'Date': pd.to_datetime(['2023-01-15', '2023-02-20', '2023-03-10'])\n})\n# Write to CSV with specific options\n# df.to_csv('output.csv', index=False, float_format='%.2f', date_format='%Y-%m-%d')\n# For demonstration, write to string buffer\nfrom io import StringIO\noutput = StringIO()\ndf.to_csv(output, index=False, float_format='%.2f', date_format='%Y-%m-%d')\nprint(\"CSV output:\")\nprint(output.getvalue())", "difficulty": "medium", "tags": ["pandas", "csv", "export", "formatting"], "core_category": "DATA_PREPROCESSING", "id": "SNP146"}
{"question": "How to create binary (dummy) variables from a categorical column?", "code": "import pandas as pd\n# Create DataFrame with categorical column\ndf = pd.DataFrame({\n    'Color': ['Red', 'Blue', 'Green', 'Blue', 'Red', 'Green']\n})\n# Create dummy variables (same as one-hot encoding)\ndummies = pd.get_dummies(df['Color'], prefix='Color')\nprint(\"Original DataFrame:\")\nprint(df)\nprint(\"\\nDummy variables:\")\nprint(dummies)\n# Concatenate with original if needed\ndf_encoded = pd.concat([df, dummies], axis=1)\nprint(\"\\nConcatenated DataFrame:\")\nprint(df_encoded)", "difficulty": "easy", "tags": ["pandas", "get_dummies", "one-hot encoding", "categorical"], "core_category": "DATA_TRANSFORMATION", "id": "SNP147"}
{"question": "How to compute outer product of two vectors?", "code": "import numpy as np\n# Two vectors\na = np.array([1, 2, 3])\nb = np.array([4, 5, 6, 7])\n# Outer product (3x4 matrix)\nouter = np.outer(a, b)\nprint(\"Vector a:\", a)\nprint(\"Vector b:\", b)\nprint(\"\\nOuter product a \u2297 b:\")\nprint(outer)\nprint(\"Shape:\", outer.shape)", "difficulty": "medium", "tags": ["numpy", "outer product", "linear algebra", "broadcasting"], "core_category": "ARRAY_OPERATIONS", "id": "SNP148"}
{"question": "How to create a figure with subplots of different sizes using subplot_mosaic?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\nfig, axd = plt.subplot_mosaic(\n    [\n        ['line', 'line', 'scatter'],\n        ['hist', 'hist', 'scatter'],\n        ['bar', 'bar', 'bar']\n    ],\n    figsize=(12, 8),\n    constrained_layout=True\n)\n# Line plot\nx = np.linspace(0, 10, 100)\naxd['line'].plot(x, np.sin(x), 'b-')\naxd['line'].set_title('Line Plot')\naxd['line'].grid(True, alpha=0.3)\n# Scatter plot\naxd['scatter'].scatter(np.random.rand(50), np.random.rand(50), c='red', alpha=0.6)\naxd['scatter'].set_title('Scatter Plot')\naxd['scatter'].grid(True, alpha=0.3)\n# Histogram\naxd['hist'].hist(np.random.randn(1000), bins=30, edgecolor='black', alpha=0.7)\naxd['hist'].set_title('Histogram')\naxd['hist'].grid(True, alpha=0.3)\n# Bar plot\naxd['bar'].bar(['A', 'B', 'C', 'D'], [25, 40, 30, 35], color='green', alpha=0.7)\naxd['bar'].set_title('Bar Plot')\naxd['bar'].grid(True, alpha=0.3, axis='y')\nplt.suptitle('Figure with subplot_mosaic Layout', fontsize=14)\nplt.show()", "difficulty": "hard", "tags": ["matplotlib", "subplots", "subplot_mosaic", "layout"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP149"}
{"question": "How to create a jointplot with hexagonal binning for large datasets?", "code": "import seaborn as sns\nimport numpy as np\n# Generate large dataset\nnp.random.seed(0)\nx = np.random.randn(10000)\ny = 0.7*x + np.random.randn(10000)*0.5\ng = sns.jointplot(x=x, y=y, kind='hex', height=7, color='purple')\ng.fig.suptitle('Hexagonal Binning for Large Dataset (10k points)')\ng.ax_joint.grid(True, alpha=0.3)\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "jointplot", "hexbin", "large data"], "core_category": "VISUALIZATION_BASICS", "id": "SNP150"}
{"question": "How to apply a median filter to remove noise from a signal?", "code": "from scipy import signal\nimport numpy as np\nimport matplotlib.pyplot as plt\n# Generate noisy signal\nt = np.linspace(0, 10, 500)\nsig_clean = np.sin(t)\nsig_noisy = sig_clean + 0.5*np.random.randn(len(t))\n# Apply median filter\nwindow_size = 5\nsig_filtered = signal.medfilt(sig_noisy, kernel_size=window_size)\nplt.figure(figsize=(10, 4))\nplt.plot(t, sig_noisy, alpha=0.5, label='Noisy signal')\nplt.plot(t, sig_filtered, 'r', linewidth=2, label=f'Median filtered (window={window_size})')\nplt.plot(t, sig_clean, 'g--', linewidth=1, label='Original clean signal')\nplt.title('Median Filter for Noise Reduction')\nplt.xlabel('Time')\nplt.ylabel('Amplitude')\nplt.legend()\nplt.grid(True, alpha=0.3)\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["scipy", "signal processing", "median filter", "noise reduction"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP151"}
{"question": "How to create features by extracting parts of a string column?", "code": "import pandas as pd\n# Create DataFrame with string column\ndf = pd.DataFrame({\n    'ID': ['A-001-X', 'B-002-Y', 'C-003-Z', 'D-004-X', 'E-005-Y']\n})\n# Extract parts using string methods\ndf['Prefix'] = df['ID'].str.split('-').str[0]\ndf['Number'] = df['ID'].str.split('-').str[1].astype(int)\ndf['Suffix'] = df['ID'].str.split('-').str[2]\ndf['StartsWith_A'] = df['ID'].str.startswith('A').astype(int)\ndf['Contains_X'] = df['ID'].str.contains('X').astype(int)\nprint(df)", "difficulty": "easy", "tags": ["pandas", "string manipulation", "feature engineering"], "core_category": "DATA_TRANSFORMATION", "id": "SNP152"}
{"question": "How to compute the Kruskal-Wallis H-test (non-parametric ANOVA)?", "code": "from scipy.stats import kruskal\nimport numpy as np\n# Generate three groups of data\ngroup1 = np.random.exponential(scale=2.0, size=30)\ngroup2 = np.random.exponential(scale=3.0, size=30)\ngroup3 = np.random.exponential(scale=2.5, size=30)\n# Perform Kruskal-Wallis test\nstatistic, p_value = kruskal(group1, group2, group3)\nprint(f\"Kruskal-Wallis H-statistic: {statistic:.4f}\")\nprint(f\"P-value: {p_value:.4f}\")\nif p_value < 0.05:\n    print(\"Significant difference between groups (p < 0.05)\")\nelse:\n    print(\"No significant difference between groups\")", "difficulty": "medium", "tags": ["scipy", "kruskal-wallis", "non-parametric", "statistics"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP153"}
{"question": "How to create a heatmap with categorical annotations?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport pandas as pd\n# Generate data\nnp.random.seed(0)\ndata = np.random.rand(5, 6)\n# Create categorical annotations\nannotations = pd.DataFrame(\n    np.random.choice(['Low', 'Med', 'High'], size=(5, 6)),\n    columns=[f'Col{i+1}' for i in range(6)],\n    index=[f'Row{i+1}' for i in range(5)]\n)\nplt.figure(figsize=(10, 8))\nsns.heatmap(data, annot=annotations, fmt='', cmap='YlOrRd', \n            cbar_kws={'label': 'Numeric Value'})\nplt.title('Heatmap with Categorical Annotations')\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "heatmap", "categorical", "annotations"], "core_category": "VISUALIZATION_BASICS", "id": "SNP154"}
{"question": "How to add a table of data below a plot?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n# Create plot\nx = np.arange(5)\ny = np.array([10, 20, 15, 25, 30])\nplt.bar(x, y, color='skyblue', edgecolor='black')\nplt.title('Sales Data with Summary Table')\nplt.ylabel('Sales ($1000)')\nplt.xticks(x, ['Q1', 'Q2', 'Q3', 'Q4', 'Q5'])\nplt.grid(True, alpha=0.3, axis='y')\n# Create table data\ntable_data = [\n    ['Quarter', 'Sales'],\n    ['Q1', '10k'],\n    ['Q2', '20k'],\n    ['Q3', '15k'],\n    ['Q4', '25k'],\n    ['Q5', '30k']\n]\n# Add table\nplt.table(cellText=table_data[1:], colLabels=table_data[0],\n          cellLoc='center', loc='bottom', bbox=[0.1, -0.5, 0.8, 0.3])\nplt.subplots_adjust(left=0.2, bottom=0.4)  # Adjust layout for table\nplt.show()", "difficulty": "hard", "tags": ["matplotlib", "table", "annotation", "layout"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP155"}
{"question": "How to create a pairplot with regression and kernel density on diagonal?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\nnp.random.seed(0)\ndf = pd.DataFrame(np.random.randn(200, 4), columns=['A', 'B', 'C', 'D'])\n# Add some correlation\ndf['B'] = df['A'] * 0.6 + np.random.randn(200) * 0.4\nsns.pairplot(df, kind='reg', diag_kind='kde',\n             plot_kws={'scatter_kws': {'alpha': 0.3}, 'line_kws': {'color': 'red'}},\n             diag_kws={'fill': True})\nplt.suptitle('Pairplot with Regression and KDE', y=1.02)\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "pairplot", "regression", "kde"], "core_category": "VISUALIZATION_BASICS", "id": "SNP156"}
{"question": "How to find the minimum of a function with constraints using scipy?", "code": "from scipy.optimize import minimize\nimport numpy as np\n# Define objective function\ndef objective(x):\n    return x[0]**2 + x[1]**2 + x[2]**2\n# Define constraints\ncons = (\n    {'type': 'ineq', 'fun': lambda x: x[0] + x[1] - 2},  # x + y >= 2\n    {'type': 'eq', 'fun': lambda x: x[0] + x[1] + x[2] - 5}  # x + y + z = 5\n)\n# Bounds\nbounds = [(0, None), (0, None), (0, None)]\n# Initial guess\nx0 = [1, 1, 1]\n# Solve optimization problem\nresult = minimize(objective, x0, method='SLSQP', bounds=bounds, constraints=cons)\nprint(f\"Optimal solution: x={result.x[0]:.4f}, y={result.x[1]:.4f}, z={result.x[2]:.4f}\")\nprint(f\"Minimum value: {result.fun:.4f}\")\nprint(f\"Success: {result.success}\")\nprint(f\"Message: {result.message}\")", "difficulty": "hard", "tags": ["scipy", "optimization", "constraints", "minimize"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP157"}
{"question": "How to customize the color cycle in matplotlib plots?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n# Set custom color cycle\ncustom_colors = ['#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FFEAA7']\nplt.rcParams['axes.prop_cycle'] = plt.cycler(color=custom_colors)\nx = np.linspace(0, 10, 100)\n# Multiple lines with custom color cycle\nfor i in range(5):\n    plt.plot(x, np.sin(x + i*0.5), label=f'Line {i+1}', linewidth=2)\nplt.title('Plot with Custom Color Cycle')\nplt.xlabel('X')\nplt.ylabel('Y')\nplt.legend()\nplt.grid(True, alpha=0.3)\nplt.show()\n# Reset to default\nplt.rcParams.update(plt.rcParamsDefault)", "difficulty": "medium", "tags": ["matplotlib", "styling", "color cycle", "rcParams"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP158"}
{"question": "How to create a scatter plot with a regression line and confidence interval using seaborn?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\nnp.random.seed(0)\ndf = pd.DataFrame({\n    'X': np.random.randn(100) * 2 + 5,\n    'Y': 2.5 * (np.random.randn(100) * 2 + 5) + np.random.randn(100) * 3\n})\nplt.figure(figsize=(8,6))\nsns.regplot(x='X', y='Y', data=df, \n            scatter_kws={'alpha':0.5, 's':40},\n            line_kws={'color':'red', 'linewidth':2},\n            ci=95)  # 95% confidence interval\nplt.title('Scatter Plot with Regression Line and 95% CI')\nplt.grid(True, alpha=0.3)\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "regplot", "regression", "confidence interval"], "core_category": "VISUALIZATION_BASICS", "id": "SNP159"}
{"question": "How to select rows by index?", "code": "import pandas as pd\ndf = pd.DataFrame({'A': [1,2,3], 'B': [4,5,6]})\nprint(df.iloc[0])  # First row\nprint(df.loc[0])   # Same for default index", "difficulty": "easy", "tags": ["pandas", "iloc", "loc", "selection"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP160"}
{"question": "How to create a diagonal matrix from a 1D array?", "code": "import numpy as np\narr = np.array([1,2,3,4])\ndiag_matrix = np.diag(arr)\nprint(diag_matrix)", "difficulty": "easy", "tags": ["numpy", "diag", "matrix"], "core_category": "ARRAY_OPERATIONS", "id": "SNP161"}
{"question": "How to add a horizontal line to a plot?", "code": "import matplotlib.pyplot as plt\nplt.plot([1,2,3], [4,5,6])\nplt.axhline(y=5, color='r', linestyle='--')\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "axhline", "horizontal line"], "core_category": "VISUALIZATION_BASICS", "id": "SNP162"}
{"question": "How to change bar colors in seaborn barplot?", "code": "import seaborn as sns\nimport pandas as pd\ndf = pd.DataFrame({'x': ['A','B','C'], 'y': [1,2,3]})\nsns.barplot(x='x', y='y', data=df, palette='Set2')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "barplot", "palette"], "core_category": "VISUALIZATION_BASICS", "id": "SNP163"}
{"question": "How to calculate Spearman correlation?", "code": "from scipy.stats import spearmanr\nimport numpy as np\nx = np.array([1,2,3,4,5])\ny = np.array([2,4,1,3,5])\ncorr, p = spearmanr(x, y)\nprint(f\"Spearman \u03c1: {corr:.3f}, p={p:.3f}\")", "difficulty": "medium", "tags": ["scipy", "spearman", "correlation"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP164"}
{"question": "How to convert string to lowercase?", "code": "import pandas as pd\ndf = pd.DataFrame({'Text': ['Hello', 'WORLD', 'Python']})\ndf['Text_lower'] = df['Text'].str.lower()\nprint(df)", "difficulty": "easy", "tags": ["pandas", "string", "lowercase"], "core_category": "DATA_PREPROCESSING", "id": "SNP165"}
{"question": "How to stack arrays vertically?", "code": "import numpy as np\na = np.array([1,2,3])\nb = np.array([4,5,6])\nstacked = np.vstack([a,b])\nprint(stacked)", "difficulty": "easy", "tags": ["numpy", "vstack", "stack"], "core_category": "ARRAY_OPERATIONS", "id": "SNP166"}
{"question": "How to change marker type in scatter plot?", "code": "import matplotlib.pyplot as plt\nplt.scatter([1,2,3], [4,5,6], marker='^', s=100)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "scatter", "marker"], "core_category": "VISUALIZATION_BASICS", "id": "SNP167"}
{"question": "How to set bar colors in countplot?", "code": "import seaborn as sns\nimport pandas as pd\ndf = pd.DataFrame({'cat': ['A','B','A','C','B']})\nsns.countplot(x='cat', data=df, color='skyblue')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "countplot", "color"], "core_category": "VISUALIZATION_BASICS", "id": "SNP168"}
{"question": "How to get first value in each group?", "code": "import pandas as pd\ndf = pd.DataFrame({'g': ['A','A','B','B'], 'v': [1,2,3,4]})\nfirst = df.groupby('g')['v'].first()\nprint(first)", "difficulty": "easy", "tags": ["pandas", "groupby", "first"], "core_category": "DATA_TRANSFORMATION", "id": "SNP169"}
{"question": "How to fill forward then backward?", "code": "import pandas as pd\nimport numpy as np\ndf = pd.Series([1, np.nan, np.nan, 4, np.nan])\nfilled = df.ffill().bfill()\nprint(filled)", "difficulty": "easy", "tags": ["pandas", "ffill", "bfill", "missing"], "core_category": "DATA_PREPROCESSING", "id": "SNP170"}
{"question": "How to compute absolute values element-wise?", "code": "import numpy as np\narr = np.array([-1, 2, -3, 4])\nabs_arr = np.abs(arr)\nprint(abs_arr)", "difficulty": "easy", "tags": ["numpy", "abs", "absolute"], "core_category": "ARRAY_OPERATIONS", "id": "SNP171"}
{"question": "How to set histogram bin edges manually?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\ndata = np.random.randn(100)\nbins = [-3, -2, -1, 0, 1, 2, 3]\nplt.hist(data, bins=bins)\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "histogram", "bins"], "core_category": "VISUALIZATION_BASICS", "id": "SNP172"}
{"question": "How to set y-axis limits in boxplot?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\ndata = [np.random.randn(50), np.random.randn(50)]\nplt.boxplot(data)\nplt.ylim(-5,5)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "boxplot", "ylim"], "core_category": "VISUALIZATION_BASICS", "id": "SNP173"}
{"question": "How to extrapolate beyond data range?", "code": "from scipy import interpolate\nimport numpy as np\nx = [0,1,2,3]\ny = [0,1,4,9]\nf = interpolate.interp1d(x, y, fill_value='extrapolate')\nprint(f(4))  # Extrapolated", "difficulty": "medium", "tags": ["scipy", "interpolation", "extrapolation"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP174"}
{"question": "How to merge with index?", "code": "import pandas as pd\ndf1 = pd.DataFrame({'A': [1,2]}, index=['x','y'])\ndf2 = pd.DataFrame({'B': [3,4]}, index=['x','y'])\nresult = df1.merge(df2, left_index=True, right_index=True)\nprint(result)", "difficulty": "medium", "tags": ["pandas", "merge", "index"], "core_category": "DATA_TRANSFORMATION", "id": "SNP175"}
{"question": "How to generate random choice from list?", "code": "import numpy as np\nitems = ['A','B','C','D']\nchoice = np.random.choice(items, size=5)\nprint(choice)", "difficulty": "easy", "tags": ["numpy", "random", "choice"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP176"}
{"question": "How to create a bar chart with value labels?", "code": "import matplotlib.pyplot as plt\nbars = plt.bar(['A','B','C'], [10,20,15])\nfor bar in bars:\n    height = bar.get_height()\n    plt.text(bar.get_x() + bar.get_width()/2., height, f'{height}', ha='center')\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "bar", "annotation"], "core_category": "VISUALIZATION_BASICS", "id": "SNP177"}
{"question": "How to set violin plot scale?", "code": "import seaborn as sns\nimport pandas as pd\ndf = pd.DataFrame({'g': ['A']*50+['B']*50, 'v': list(range(100))})\nsns.violinplot(x='g', y='v', data=df, scale='width')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "violinplot", "scale"], "core_category": "VISUALIZATION_BASICS", "id": "SNP178"}
{"question": "How to format datetime as string?", "code": "import pandas as pd\ndates = pd.to_datetime(['2023-01-01', '2023-02-01'])\nformatted = dates.strftime('%Y/%m/%d')\nprint(formatted)", "difficulty": "easy", "tags": ["pandas", "datetime", "strftime"], "core_category": "DATA_PREPROCESSING", "id": "SNP179"}
{"question": "How to map categories to integers?", "code": "import pandas as pd\ndf = pd.DataFrame({'cat': ['low','med','high','med']})\nmapping = {'low':0, 'med':1, 'high':2}\ndf['encoded'] = df['cat'].map(mapping)\nprint(df)", "difficulty": "easy", "tags": ["pandas", "map", "encoding"], "core_category": "DATA_TRANSFORMATION", "id": "SNP180"}
{"question": "How to compare array with scalar?", "code": "import numpy as np\narr = np.array([1,5,3,8,2])\nmask = arr > 3\nprint(mask)", "difficulty": "easy", "tags": ["numpy", "comparison", "broadcasting"], "core_category": "ARRAY_OPERATIONS", "id": "SNP181"}
{"question": "How to add title to each subplot?", "code": "import matplotlib.pyplot as plt\nfig, (ax1, ax2) = plt.subplots(1,2)\nax1.plot([1,2,3])\nax1.set_title('Plot 1')\nax2.scatter([1,2,3],[4,5,6])\nax2.set_title('Plot 2')\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "subplots", "title"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP182"}
{"question": "How to set jointplot height?", "code": "import seaborn as sns\nimport numpy as np\nx, y = np.random.randn(2, 100)\ng = sns.jointplot(x=x, y=y, height=8)\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "jointplot", "size"], "core_category": "VISUALIZATION_BASICS", "id": "SNP183"}
{"question": "How to compute convolution?", "code": "from scipy import signal\nimport numpy as np\na = [1,2,3]\nb = [0,1,0.5]\nconv = signal.convolve(a, b, mode='full')\nprint(conv)", "difficulty": "medium", "tags": ["scipy", "convolution", "signal"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP184"}
{"question": "How to extract month from date?", "code": "import pandas as pd\ndf = pd.DataFrame({'date': pd.date_range('2023-01-01', periods=3, freq='M')})\ndf['month'] = df['date'].dt.month\nprint(df)", "difficulty": "easy", "tags": ["pandas", "datetime", "month"], "core_category": "DATA_TRANSFORMATION", "id": "SNP185"}
{"question": "How to compute percentile?", "code": "import numpy as np\ndata = np.array([1,2,3,4,5,6,7,8,9,10])\npct = np.percentile(data, [25,50,75])\nprint(pct)", "difficulty": "easy", "tags": ["numpy", "percentile", "statistics"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP186"}
{"question": "How to set heatmap figure size?", "code": "import seaborn as sns\nimport numpy as np\ndata = np.random.rand(5,5)\nplt.figure(figsize=(8,6))\nsns.heatmap(data)\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "heatmap", "figure size"], "core_category": "VISUALIZATION_BASICS", "id": "SNP187"}
{"question": "How to add text to plot?", "code": "import matplotlib.pyplot as plt\nplt.plot([1,2,3],[4,5,6])\nplt.text(2, 5, 'Important Point', fontsize=12)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "text", "annotation"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP188"}
{"question": "How to change pairplot marker size?", "code": "import seaborn as sns\nimport pandas as pd\ndf = pd.DataFrame(np.random.randn(100,3), columns=['A','B','C'])\nsns.pairplot(df, plot_kws={'s': 20})\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "pairplot", "marker size"], "core_category": "VISUALIZATION_BASICS", "id": "SNP189"}
{"question": "How to find function root?", "code": "from scipy.optimize import fsolve\nimport numpy as np\nf = lambda x: x**2 - 4\nroot = fsolve(f, 3)\nprint(root)", "difficulty": "medium", "tags": ["scipy", "fsolve", "root"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP190"}
{"question": "How to set plot title font size?", "code": "import matplotlib.pyplot as plt\nplt.plot([1,2,3])\nplt.title('My Plot', fontsize=16)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "title", "fontsize"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP191"}
{"question": "How to set alpha transparency in seaborn scatter?", "code": "import seaborn as sns\nimport pandas as pd\ndf = pd.DataFrame({'x': [1,2,3], 'y': [4,5,6]})\nsns.scatterplot(data=df, x='x', y='y', alpha=0.5)\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "scatterplot", "alpha"], "core_category": "VISUALIZATION_BASICS", "id": "SNP192"}
{"question": "How to reset index?", "code": "import pandas as pd\ndf = pd.DataFrame({'A': [1,2,3]}, index=['x','y','z'])\ndf_reset = df.reset_index()\nprint(df_reset)", "difficulty": "easy", "tags": ["pandas", "reset_index"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP193"}
{"question": "How to calculate array mean?", "code": "import numpy as np\narr = np.array([1,2,3,4,5])\nprint(arr.mean())", "difficulty": "easy", "tags": ["numpy", "mean", "statistics"], "core_category": "ARRAY_OPERATIONS", "id": "SNP194"}
{"question": "How to add vertical line?", "code": "import matplotlib.pyplot as plt\nplt.plot([1,2,3],[4,5,6])\nplt.axvline(x=2, color='r', linestyle=':')\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "axvline", "vertical line"], "core_category": "VISUALIZATION_BASICS", "id": "SNP195"}
{"question": "How to set bar width?", "code": "import seaborn as sns\nimport pandas as pd\ndf = pd.DataFrame({'x': ['A','B'], 'y': [10,20]})\nsns.barplot(x='x', y='y', data=df, width=0.5)\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "barplot", "width"], "core_category": "VISUALIZATION_BASICS", "id": "SNP196"}
{"question": "How to compute Z-scores?", "code": "from scipy.stats import zscore\nimport numpy as np\ndata = np.array([1,2,3,4,5])\nzscores = zscore(data)\nprint(zscores)", "difficulty": "easy", "tags": ["scipy", "zscore", "standardization"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP197"}
{"question": "How to strip whitespace from strings?", "code": "import pandas as pd\ndf = pd.DataFrame({'text': ['  hello ', 'world  ', '  python  ']})\ndf['clean'] = df['text'].str.strip()\nprint(df)", "difficulty": "easy", "tags": ["pandas", "string", "strip"], "core_category": "DATA_PREPROCESSING", "id": "SNP198"}
{"question": "How to flatten array?", "code": "import numpy as np\narr = np.array([[1,2],[3,4]])\nflat = arr.flatten()\nprint(flat)", "difficulty": "easy", "tags": ["numpy", "flatten", "array"], "core_category": "ARRAY_OPERATIONS", "id": "SNP199"}
{"question": "How to set edge color of markers?", "code": "import matplotlib.pyplot as plt\nplt.scatter([1,2,3],[4,5,6], edgecolor='black', linewidth=1)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "scatter", "edgecolor"], "core_category": "VISUALIZATION_BASICS", "id": "SNP200"}
{"question": "How to change axis labels?", "code": "import seaborn as sns\nimport pandas as pd\ndf = pd.DataFrame({'category': ['A','B','A']})\nax = sns.countplot(x='category', data=df)\nax.set_xlabel('Category Type')\nax.set_ylabel('Count')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "countplot", "labels"], "core_category": "VISUALIZATION_BASICS", "id": "SNP201"}
{"question": "How to count group sizes?", "code": "import pandas as pd\ndf = pd.DataFrame({'g': ['A','A','B','B','A'], 'v': [1,2,3,4,5]})\ncounts = df.groupby('g').size()\nprint(counts)", "difficulty": "easy", "tags": ["pandas", "groupby", "size"], "core_category": "DATA_TRANSFORMATION", "id": "SNP202"}
{"question": "How to drop columns with NaN?", "code": "import pandas as pd\nimport numpy as np\ndf = pd.DataFrame({'A': [1,np.nan,3], 'B': [4,5,6]})\ndf_dropped = df.dropna(axis=1)\nprint(df_dropped)", "difficulty": "easy", "tags": ["pandas", "dropna", "columns"], "core_category": "DATA_PREPROCESSING", "id": "SNP203"}
{"question": "How to compute exponential?", "code": "import numpy as np\narr = np.array([0,1,2])\nexp_arr = np.exp(arr)\nprint(exp_arr)", "difficulty": "easy", "tags": ["numpy", "exp", "exponential"], "core_category": "ARRAY_OPERATIONS", "id": "SNP204"}
{"question": "How to change histogram color?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\ndata = np.random.randn(100)\nplt.hist(data, color='green', alpha=0.7)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "histogram", "color"], "core_category": "VISUALIZATION_BASICS", "id": "SNP205"}
{"question": "How to change box color?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\ndata = [np.random.randn(50)]\nplt.boxplot(data, boxprops=dict(facecolor='lightblue'))\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "boxplot", "color"], "core_category": "VISUALIZATION_BASICS", "id": "SNP206"}
{"question": "How to use nearest neighbor interpolation?", "code": "from scipy import interpolate\nimport numpy as np\nx = [0,1,2,3]\ny = [0,1,4,9]\nf = interpolate.interp1d(x, y, kind='nearest')\nprint(f(1.8))", "difficulty": "easy", "tags": ["scipy", "interpolation", "nearest"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP207"}
{"question": "How to concatenate horizontally?", "code": "import pandas as pd\ndf1 = pd.DataFrame({'A': [1,2]})\ndf2 = pd.DataFrame({'B': [3,4]})\nresult = pd.concat([df1, df2], axis=1)\nprint(result)", "difficulty": "easy", "tags": ["pandas", "concat", "axis=1"], "core_category": "DATA_TRANSFORMATION", "id": "SNP208"}
{"question": "How to generate binomial random numbers?", "code": "import numpy as np\nbinomial = np.random.binomial(n=10, p=0.5, size=5)\nprint(binomial)", "difficulty": "medium", "tags": ["numpy", "binomial", "random"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP209"}
{"question": "How to create horizontal bar chart?", "code": "import matplotlib.pyplot as plt\nplt.barh(['A','B','C'], [10,20,15])\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "barh", "horizontal"], "core_category": "VISUALIZATION_BASICS", "id": "SNP210"}
{"question": "How to remove inner plot?", "code": "import seaborn as sns\nimport pandas as pd\ndf = pd.DataFrame({'g': ['A']*50, 'v': range(50)})\nsns.violinplot(x='g', y='v', data=df, inner=None)\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "violinplot", "inner"], "core_category": "VISUALIZATION_BASICS", "id": "SNP211"}
{"question": "How to add days to date?", "code": "import pandas as pd\nfrom datetime import timedelta\ndate = pd.Timestamp('2023-01-01')\nnew_date = date + timedelta(days=7)\nprint(new_date)", "difficulty": "easy", "tags": ["pandas", "datetime", "timedelta"], "core_category": "DATA_PREPROCESSING", "id": "SNP212"}
{"question": "How to write JSON file?", "code": "import pandas as pd\ndf = pd.DataFrame({'A': [1,2], 'B': [3,4]})\ndf.to_json('data.json', orient='records')", "difficulty": "easy", "tags": ["pandas", "json", "export"], "core_category": "DATA_PREPROCESSING", "id": "SNP213"}
{"question": "How to find unique categories?", "code": "import pandas as pd\ndf = pd.DataFrame({'cat': ['A','B','A','C','B']})\nunique = df['cat'].unique()\nprint(unique)", "difficulty": "easy", "tags": ["pandas", "unique", "categorical"], "core_category": "DATA_TRANSFORMATION", "id": "SNP214"}
{"question": "How to multiply array by scalar?", "code": "import numpy as np\narr = np.array([1,2,3])\nresult = arr * 10\nprint(result)", "difficulty": "easy", "tags": ["numpy", "multiplication", "scalar"], "core_category": "ARRAY_OPERATIONS", "id": "SNP215"}
{"question": "How to remove space between subplots?", "code": "import matplotlib.pyplot as plt\nfig, axes = plt.subplots(1,2)\nplt.tight_layout(pad=0)\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "subplots", "tight_layout"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP216"}
{"question": "How to add regression line to jointplot?", "code": "import seaborn as sns\nimport numpy as np\nx, y = np.random.randn(2, 100)\ng = sns.jointplot(x=x, y=y, kind='reg')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "jointplot", "reg"], "core_category": "VISUALIZATION_BASICS", "id": "SNP217"}
{"question": "How to find peaks in signal?", "code": "from scipy.signal import find_peaks\nimport numpy as np\nx = np.array([0,1,3,2,1,2,3,5,3,1])\npeaks, _ = find_peaks(x, height=2)\nprint(peaks)", "difficulty": "medium", "tags": ["scipy", "peaks", "signal"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP218"}
{"question": "How to calculate day of year?", "code": "import pandas as pd\ndates = pd.to_datetime(['2023-01-15', '2023-06-30'])\nday_of_year = dates.dayofyear\nprint(day_of_year)", "difficulty": "easy", "tags": ["pandas", "datetime", "dayofyear"], "core_category": "DATA_TRANSFORMATION", "id": "SNP219"}
{"question": "How to calculate geometric mean?", "code": "from scipy.stats import gmean\nimport numpy as np\ndata = np.array([1,2,3,4,5])\ngm = gmean(data)\nprint(gm)", "difficulty": "medium", "tags": ["scipy", "gmean", "statistics"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP220"}
{"question": "How to rotate y-axis labels?", "code": "import seaborn as sns\nimport numpy as np\ndata = np.random.rand(5,5)\nax = sns.heatmap(data)\nax.set_yticklabels(ax.get_yticklabels(), rotation=0)\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "heatmap", "rotation"], "core_category": "VISUALIZATION_BASICS", "id": "SNP221"}
{"question": "How to add arrow with text?", "code": "import matplotlib.pyplot as plt\nplt.plot([1,2,3],[4,5,6])\nplt.annotate('Peak', xy=(2,5), xytext=(1,6), arrowprops=dict(arrowstyle='->'))\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "annotate", "arrow"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP222"}
{"question": "How to change diagonal plot type?", "code": "import seaborn as sns\nimport pandas as pd\ndf = pd.DataFrame(np.random.randn(100,3), columns=['A','B','C'])\nsns.pairplot(df, diag_kind='hist')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "pairplot", "diag_kind"], "core_category": "VISUALIZATION_BASICS", "id": "SNP223"}
{"question": "How to minimize with bounds?", "code": "from scipy.optimize import minimize\nimport numpy as np\nf = lambda x: (x[0]-3)**2 + (x[1]-5)**2\nbounds = [(0,10), (0,10)]\nres = minimize(f, [0,0], bounds=bounds)\nprint(res.x)", "difficulty": "hard", "tags": ["scipy", "minimize", "bounds"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP224"}
{"question": "How to set background color?", "code": "import matplotlib.pyplot as plt\nfig, ax = plt.subplots()\nax.set_facecolor('lightgray')\nax.plot([1,2,3])\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "facecolor", "background"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP225"}
{"question": "How to set point sizes by variable?", "code": "import seaborn as sns\nimport pandas as pd\ndf = pd.DataFrame({'x':[1,2,3], 'y':[4,5,6], 'size':[10,50,100]})\nsns.scatterplot(data=df, x='x', y='y', size='size')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "scatterplot", "size"], "core_category": "VISUALIZATION_BASICS", "id": "SNP226"}
{"question": "How to set index column?", "code": "import pandas as pd\ndf = pd.DataFrame({'A': [1,2,3], 'B': [4,5,6]})\ndf.set_index('A', inplace=True)\nprint(df)", "difficulty": "easy", "tags": ["pandas", "set_index"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP227"}
{"question": "How to compute array median?", "code": "import numpy as np\narr = np.array([1,2,3,4,5])\nprint(np.median(arr))", "difficulty": "easy", "tags": ["numpy", "median", "statistics"], "core_category": "ARRAY_OPERATIONS", "id": "SNP228"}
{"question": "How to set line style?", "code": "import matplotlib.pyplot as plt\nplt.plot([1,2,3], linestyle='--', linewidth=2)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "linestyle", "linewidth"], "core_category": "VISUALIZATION_BASICS", "id": "SNP229"}
{"question": "How to set bar edge color?", "code": "import seaborn as sns\nimport pandas as pd\ndf = pd.DataFrame({'x': ['A','B'], 'y': [10,20]})\nsns.barplot(x='x', y='y', data=df, edgecolor='black', linewidth=2)\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "barplot", "edgecolor"], "core_category": "VISUALIZATION_BASICS", "id": "SNP230"}
{"question": "How to compute Kendall's tau?", "code": "from scipy.stats import kendalltau\nimport numpy as np\nx = np.array([1,2,3,4,5])\ny = np.array([2,4,1,3,5])\ntau, p = kendalltau(x, y)\nprint(f\"\u03c4: {tau:.3f}, p={p:.3f}\")", "difficulty": "medium", "tags": ["scipy", "kendalltau", "correlation"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP231"}
{"question": "How to replace values?", "code": "import pandas as pd\ndf = pd.DataFrame({'A': [1,2,3,4,5]})\ndf['A'] = df['A'].replace(3, 99)\nprint(df)", "difficulty": "easy", "tags": ["pandas", "replace", "values"], "core_category": "DATA_PREPROCESSING", "id": "SNP232"}
{"question": "How to compute array standard deviation?", "code": "import numpy as np\narr = np.array([1,2,3,4,5])\nprint(arr.std())", "difficulty": "easy", "tags": ["numpy", "std", "standard deviation"], "core_category": "ARRAY_OPERATIONS", "id": "SNP233"}
{"question": "How to use colormap in scatter?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\nx = np.random.rand(50)\ny = np.random.rand(50)\nc = np.random.rand(50)\nplt.scatter(x, y, c=c, cmap='viridis')\nplt.colorbar()\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "scatter", "colormap"], "core_category": "VISUALIZATION_BASICS", "id": "SNP234"}
{"question": "How to set figure title?", "code": "import seaborn as sns\nimport pandas as pd\ndf = pd.DataFrame({'cat': ['A','B','A','C','B']})\nax = sns.countplot(x='cat', data=df)\nax.set_title('Category Counts')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "countplot", "title"], "core_category": "VISUALIZATION_BASICS", "id": "SNP235"}
{"question": "How to get last value in group?", "code": "import pandas as pd\ndf = pd.DataFrame({'g': ['A','A','B','B'], 'v': [1,2,3,4]})\nlast = df.groupby('g')['v'].last()\nprint(last)", "difficulty": "easy", "tags": ["pandas", "groupby", "last"], "core_category": "DATA_TRANSFORMATION", "id": "SNP236"}
{"question": "How to check if any value is NaN?", "code": "import pandas as pd\nimport numpy as np\ndf = pd.DataFrame({'A': [1, np.nan, 3]})\nprint(df.isnull().any().any())", "difficulty": "easy", "tags": ["pandas", "isnull", "any"], "core_category": "DATA_PREPROCESSING", "id": "SNP237"}
{"question": "How to compute natural log?", "code": "import numpy as np\narr = np.array([1, np.e, np.e**2])\nlog_arr = np.log(arr)\nprint(log_arr)", "difficulty": "easy", "tags": ["numpy", "log", "logarithm"], "core_category": "ARRAY_OPERATIONS", "id": "SNP238"}
{"question": "How to set number of bins?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\ndata = np.random.randn(1000)\nplt.hist(data, bins=50)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "histogram", "bins"], "core_category": "VISUALIZATION_BASICS", "id": "SNP239"}
{"question": "How to show outliers?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\ndata = [np.random.randn(50)]\nplt.boxplot(data, showfliers=True)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "boxplot", "outliers"], "core_category": "VISUALIZATION_BASICS", "id": "SNP240"}
{"question": "How to use quadratic interpolation?", "code": "from scipy import interpolate\nimport numpy as np\nx = [0,1,2,3]\ny = [0,1,4,9]\nf = interpolate.interp1d(x, y, kind='quadratic')\nprint(f(1.5))", "difficulty": "medium", "tags": ["scipy", "interpolation", "quadratic"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP241"}
{"question": "How to merge with suffix for overlapping columns?", "code": "import pandas as pd\ndf1 = pd.DataFrame({'key': [1,2], 'value': ['A','B']})\ndf2 = pd.DataFrame({'key': [1,2], 'value': ['C','D']})\nresult = pd.merge(df1, df2, on='key', suffixes=('_left', '_right'))\nprint(result)", "difficulty": "medium", "tags": ["pandas", "merge", "suffixes"], "core_category": "DATA_TRANSFORMATION", "id": "SNP242"}
{"question": "How to generate Poisson random numbers?", "code": "import numpy as np\npoisson = np.random.poisson(lam=5, size=10)\nprint(poisson)", "difficulty": "medium", "tags": ["numpy", "poisson", "random"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP243"}
{"question": "How to set bar colors individually?", "code": "import matplotlib.pyplot as plt\ncolors = ['red', 'green', 'blue']\nplt.bar(['A','B','C'], [10,20,15], color=colors)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "bar", "color"], "core_category": "VISUALIZATION_BASICS", "id": "SNP244"}
{"question": "How to set color palette?", "code": "import seaborn as sns\nimport pandas as pd\ndf = pd.DataFrame({'g': ['A']*25+['B']*25, 'v': range(50)})\nsns.violinplot(x='g', y='v', data=df, palette='Set2')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "violinplot", "palette"], "core_category": "VISUALIZATION_BASICS", "id": "SNP245"}
{"question": "How to extract hour from datetime?", "code": "import pandas as pd\ndates = pd.to_datetime(['2023-01-01 14:30', '2023-01-01 18:45'])\nhour = dates.hour\nprint(hour)", "difficulty": "easy", "tags": ["pandas", "datetime", "hour"], "core_category": "DATA_PREPROCESSING", "id": "SNP246"}
{"question": "How to read Excel file?", "code": "import pandas as pd\n# df = pd.read_excel('file.xlsx')\nprint(\"Use: pd.read_excel('file.xlsx')\")", "difficulty": "easy", "tags": ["pandas", "excel", "read"], "core_category": "DATA_PREPROCESSING", "id": "SNP247"}
{"question": "How to count category frequencies?", "code": "import pandas as pd\ndf = pd.DataFrame({'cat': ['A','B','A','C','B','A']})\ncounts = df['cat'].value_counts()\nprint(counts)", "difficulty": "easy", "tags": ["pandas", "value_counts", "categorical"], "core_category": "DATA_TRANSFORMATION", "id": "SNP248"}
{"question": "How to divide array by scalar?", "code": "import numpy as np\narr = np.array([10,20,30])\nresult = arr / 10\nprint(result)", "difficulty": "easy", "tags": ["numpy", "division", "scalar"], "core_category": "ARRAY_OPERATIONS", "id": "SNP249"}
{"question": "How to set axis labels?", "code": "import seaborn as sns\nimport numpy as np\nx, y = np.random.randn(2, 100)\ng = sns.jointplot(x=x, y=y)\ng.ax_joint.set_xlabel('X Variable')\ng.ax_joint.set_ylabel('Y Variable')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "jointplot", "labels"], "core_category": "VISUALIZATION_BASICS", "id": "SNP250"}
{"question": "How to apply Hilbert transform?", "code": "from scipy.signal import hilbert\nimport numpy as np\nsignal = np.array([1,2,3,4,3,2,1])\nanalytic = hilbert(signal)\nprint(analytic[:3])", "difficulty": "hard", "tags": ["scipy", "hilbert", "signal"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP251"}
{"question": "How to create indicator for weekend?", "code": "import pandas as pd\ndates = pd.to_datetime(['2023-01-14', '2023-01-15', '2023-01-16'])\nis_weekend = dates.dayofweek >= 5\nprint(is_weekend)", "difficulty": "easy", "tags": ["pandas", "datetime", "weekend"], "core_category": "DATA_TRANSFORMATION", "id": "SNP252"}
{"question": "How to compute harmonic mean?", "code": "from scipy.stats import hmean\nimport numpy as np\ndata = np.array([1,2,3,4,5])\nhm = hmean(data)\nprint(hm)", "difficulty": "medium", "tags": ["scipy", "hmean", "statistics"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP253"}
{"question": "How to set annotation format?", "code": "import seaborn as sns\nimport numpy as np\ndata = np.random.rand(3,3)\nsns.heatmap(data, annot=True, fmt='.2f')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "heatmap", "fmt"], "core_category": "VISUALIZATION_BASICS", "id": "SNP254"}
{"question": "How to add legend?", "code": "import matplotlib.pyplot as plt\nplt.plot([1,2,3], label='Line 1')\nplt.plot([3,2,1], label='Line 2')\nplt.legend()\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "legend"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP255"}
{"question": "How to set corner plots only?", "code": "import seaborn as sns\nimport pandas as pd\ndf = pd.DataFrame(np.random.randn(100,4), columns=['A','B','C','D'])\nsns.pairplot(df, corner=True)\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "pairplot", "corner"], "core_category": "VISUALIZATION_BASICS", "id": "SNP256"}
{"question": "How to find global minimum with basinhopping?", "code": "from scipy.optimize import basinhopping\nimport numpy as np\nf = lambda x: np.cos(2*np.pi*x).sum()\nx0 = [1,1]\nres = basinhopping(f, x0, niter=10)\nprint(res.x)", "difficulty": "hard", "tags": ["scipy", "basinhopping", "global optimization"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP257"}
{"question": "How to set grid style?", "code": "import matplotlib.pyplot as plt\nplt.plot([1,2,3])\nplt.grid(True, linestyle=':', alpha=0.5)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "grid", "styling"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP258"}
{"question": "How to set marker style?", "code": "import seaborn as sns\nimport pandas as pd\ndf = pd.DataFrame({'x':[1,2,3], 'y':[4,5,6], 'type':['A','B','A']})\nsns.scatterplot(data=df, x='x', y='y', style='type')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "scatterplot", "style"], "core_category": "VISUALIZATION_BASICS", "id": "SNP259"}
{"question": "How to create a basic line plot in pandas?", "code": "import pandas as pd\nimport matplotlib.pyplot as plt\ndf = pd.DataFrame({'x':[1,2,3], 'y':[4,5,6]})\ndf.plot()\nplt.show()", "difficulty": "easy", "tags": ["pandas", "lineplot"], "core_category": "VISUALIZATION_BASICS", "id": "SNP260"}
{"question": "How to create a scatter plot?", "code": "import pandas as pd\nimport matplotlib.pyplot as plt\ndf = pd.DataFrame({'x':[1,2,3], 'y':[4,5,6]})\ndf.plot.scatter(x='x', y='y')\nplt.show()", "difficulty": "easy", "tags": ["pandas", "scatterplot"], "core_category": "VISUALIZATION_BASICS", "id": "SNP261"}
{"question": "How to create a histogram?", "code": "import pandas as pd\nimport matplotlib.pyplot as plt\ndf = pd.DataFrame({'data':[1,2,2,3,3,3,4,4,5]})\ndf.plot.hist(bins=5, alpha=0.7)\nplt.show()", "difficulty": "easy", "tags": ["pandas", "histogram"], "core_category": "VISUALIZATION_BASICS", "id": "SNP262"}
{"question": "How to create a hexbin plot?", "code": "import pandas as pd\nimport matplotlib.pyplot as plt\nimport numpy as np\ndf = pd.DataFrame({'x':np.random.randn(1000), 'y':np.random.randn(1000)})\ndf.plot.hexbin(x='x', y='y', gridsize=20)\nplt.show()", "difficulty": "medium", "tags": ["pandas", "hexbin"], "core_category": "VISUALIZATION_BASICS", "id": "SNP263"}
{"question": "How to create a bar chart?", "code": "import pandas as pd\nimport matplotlib.pyplot as plt\ndf = pd.DataFrame({'category':['A','B','C'], 'values':[10,20,15]})\ndf.plot.bar(x='category', y='values')\nplt.show()", "difficulty": "easy", "tags": ["pandas", "barplot"], "core_category": "VISUALIZATION_BASICS", "id": "SNP264"}
{"question": "How to plot stacked histogram?", "code": "import pandas as pd\nimport matplotlib.pyplot as plt\ndf = pd.DataFrame({'A':[1,2,3,4], 'B':[2,3,4,5], 'C':[3,4,5,6]})\ndf.plot.hist(stacked=True, alpha=0.7)\nplt.show()", "difficulty": "medium", "tags": ["pandas", "histogram", "stacked"], "core_category": "VISUALIZATION_BASICS", "id": "SNP265"}
{"question": "How to perform global optimization with nonlinear constraints using differential evolution?", "code": "import numpy as np\nfrom scipy.optimize import differential_evolution, NonlinearConstraint\n# Complex objective with multiple local minima\ndef objective(x):\n    return -(x[0]*np.sin(4*np.pi*x[0]) - x[1]*np.sin(4*np.pi*x[1] + np.pi) + 1)\n# Nonlinear constraint\ndef constraint_func(x):\n  return np.array([x[0]**2 + x[1]**2, x[0] - x[1]])\nconstraint = NonlinearConstraint(constraint_func, [0.5, -1], [2.0, 0.5])\n# Bounds for the optimization\nbounds = [(-2, 2), (-2, 2)]\n# Global optimization with constraints\nresult = differential_evolution(objective, bounds, constraints=constraint,\n                               strategy='best1bin', maxiter=1000,\n  popsize=15, mutation=(0.5, 1.5),\n recombination=0.7, seed=42,\n updating='deferred', workers=-1)\nprint(f'Optimal solution: {result.x}')\nprint(f'Optimal value: {result.fun}')\nprint(f'Success: {result.success}')", "difficulty": "hard", "tags": ["scipy", "optimization", "differential_evolution", "constraints"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP266"}
{"question": "How to solve constrained nonlinear optimization with multiple constraints using SLSQP?", "code": "import numpy as np\nfrom scipy.optimize import minimize\nfrom scipy.optimize import Bounds, LinearConstraint, NonlinearConstraint\ndef objective(x):\n    return (x[0] - 1)**2 + (x[1] - 2.5)**2 + np.exp(-x[2]**2)\ndef nonlinear_constraint1(x):\n    return x[0]**2 + x[1]**2 + x[2]**2 - 5\ndef nonlinear_constraint2(x):\n    return np.sin(x[0]) + np.cos(x[1]) - x[2]\n# Define constraints\nlinear_constraint = LinearConstraint([[1, 1, 0], [0, 1, 1]], \n [1, -2], [3, 2])\nnonlinear_constraint = NonlinearConstraint(\n    lambda x: [nonlinear_constraint1(x), nonlinear_constraint2(x)], \n    [0, -1], [np.inf, 1]\n)\nbounds = Bounds([-1, -2, -3], [4, 5, 6])\n# Initial guess\nx0 = [0.5, 1.5, 0.0]\n# Solve using SLSQP method\nresult = minimize(objective, x0, method='SLSQP',\n  bounds=bounds,\n   constraints=[linear_constraint, nonlinear_constraint],\n options={'maxiter': 1000, 'ftol': 1e-9})\nprint(f'Optimal solution: {result.x}')\nprint(f'Objective value: {result.fun:.6f}')\nprint(f'Success: {result.success}')\nprint(f'Number of iterations: {result.nit}')", "difficulty": "medium", "tags": ["scipy", "optimization", "constraints", "nonlinear"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP267"}
{"question": "How to filter and detect peaks in ECG signal?", "code": "from scipy.signal import butter, filtfilt, find_peaks\nimport numpy as np\n# Generate ECG-like signal\nt = np.linspace(0, 5, 1000)\necg = np.sin(2*np.pi*1.2*t) + 0.5*np.sin(2*np.pi*5*t)\necg_noisy = ecg + 0.3*np.random.randn(len(t))\n# Design bandpass filter\nfs = 200\nnyq = 0.5*fs\nlow, high = 0.5/nyq, 40/nyq\nb, a = butter(4, [low, high], btype='band')\necg_filtered = filtfilt(b, a, ecg_noisy)\n# Detect R-peaks\npeaks, properties = find_peaks(ecg_filtered, \n height=0.8, \n  distance=fs*0.6)\nprint(f'Detected {len(peaks)} peaks')\nprint(f'Peak heights: {properties[\"peak_heights\"]}')", "difficulty": "medium", "tags": ["scipy", "signal", "filtering", "peak_detection", "ECG"], "core_category": "SIGNAL_PROCESSING", "id": "SNP268"}
{"question": "Create a new column with doubled values using vectorized operations.", "code": "import pandas as pd\ndf = pd.DataFrame({'A':[1,2,3,4]})\ndf['B'] = df['A'] * 2\nprint(df)", "difficulty": "easy", "tags": ["pandas", "vectorization", "performance"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP269"}
{"question": "Plot multiple lines on the same figure using subplots and axes objects.", "code": "import matplotlib.pyplot as plt\nfig, ax = plt.subplots()\nax.plot(df['A'], df['B'], label='A vs B')\nax.plot(df['A'], df['C'], label='A vs C')\nax.legend()\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "subplots", "lines"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP275"}
{"question": "Create a dual-axis plot with different scales on the left and right axes.", "code": "import matplotlib.pyplot as plt\nfig, ax1 = plt.subplots()\nax2 = ax1.twinx()\nax1.plot(df['A'], df['B'], color='blue', label='B vs A')\nax2.plot(df['A'], df['C'], color='red', label='C vs A')\nax1.set_ylabel('B values')\nax2.set_ylabel('C values')\nplt.show()", "difficulty": "hard", "tags": ["matplotlib", "dual axis", "advanced"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP284"}
{"question": "Create a heatmap-like scatter plot using color mapping for a third dimension.", "code": "import matplotlib.pyplot as plt\nplt.scatter(df['A'], df['B'], c=df['C'], cmap='viridis', s=100)\nplt.colorbar(label='C values')\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "scatter", "colormap"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP285"}
{"question": "Create a 3D surface plot to visualize relationships between three variables.", "code": "from mpl_toolkits.mplot3d import Axes3D\nimport numpy as np\nX, Y = np.meshgrid(df['A'], df['B'])\nZ = np.sin(X) + np.cos(Y)\nfig = plt.figure()\nax = fig.add_subplot(111, projection='3d')\nax.plot_surface(X, Y, Z, cmap='coolwarm')\nplt.show()", "difficulty": "hard", "tags": ["matplotlib", "3D", "surface"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP287"}
{"question": "Create a multi-faceted histogram (FacetGrid) separated by a categorical variable.", "code": "import seaborn as sns\ng = sns.FacetGrid(df, col='B')\ng.map(sns.histplot, 'A')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "facetgrid", "histogram"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP288"}
{"question": "Create broken axes to visualize data with extreme outliers without distorting scale.", "code": "import matplotlib.pyplot as plt\nimport numpy as np\ny = np.array([1,2,3,4,100])\nx = np.arange(len(y))\nfig, (ax1, ax2) = plt.subplots(2, 1, sharex=True)\nax1.plot(x, y)\nax2.plot(x, y)\nax1.set_ylim(90, 110)\nax2.set_ylim(0, 10)\nax1.spines['bottom'].set_visible(False)\nax2.spines['top'].set_visible(False)\nplt.show()", "difficulty": "hard", "tags": ["matplotlib", "broken axis", "outliers"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP330"}
{"question": "Use LineCollection to color a single line by a third variable.", "code": "import matplotlib.pyplot as plt\nimport numpy as np\nfrom matplotlib.collections import LineCollection\nx = np.linspace(0, 10, 100)\ny = np.sin(x)\nz = np.cos(x)\npoints = np.array([x, y]).T.reshape(-1,1,2)\nsegments = np.concatenate([points[:-1], points[1:]], axis=1)\nlc = LineCollection(segments, array=z, cmap='viridis')\nfig, ax = plt.subplots()\nax.add_collection(lc)\nax.autoscale()\nplt.show()", "difficulty": "hard", "tags": ["matplotlib", "linecollection", "multivariate visualization"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP331"}
{"question": "Visually encode uncertainty using gradient-filled confidence bands.", "code": "import matplotlib.pyplot as plt\nimport numpy as np\nx = np.linspace(0, 10, 100)\ny = np.sin(x)\nstd = 0.3\nfor i, alpha in enumerate(np.linspace(0.1, 0.4, 5)):\n    plt.fill_between(x, y-(i+1)*std/5, y+(i+1)*std/5, alpha=alpha)\nplt.plot(x, y, color='black')\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "uncertainty", "confidence bands"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP332"}
{"question": "Attach marginal distributions to a main scatter plot without seaborn.", "code": "import matplotlib.pyplot as plt\nimport numpy as np\nfrom mpl_toolkits.axes_grid1 import make_axes_locatable\nx = np.random.randn(1000)\ny = np.random.randn(1000)\nfig, ax = plt.subplots()\ndivider = make_axes_locatable(ax)\nax_histx = divider.append_axes('top', size='20%', pad=0.1, sharex=ax)\nax_histy = divider.append_axes('right', size='20%', pad=0.1, sharey=ax)\nax.scatter(x, y, alpha=0.3)\nax_histx.hist(x, bins=30)\nax_histy.hist(y, bins=30, orientation='horizontal')\nplt.show()", "difficulty": "hard", "tags": ["matplotlib", "marginal plots", "axes_grid"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP333"}
{"question": "Create a perceptually ordered colormap based on data ranks rather than raw values.", "code": "import matplotlib.pyplot as plt\nimport numpy as np\nx = np.random.rand(100)\ny = np.random.rand(100)\nvalues = np.random.rand(100)\nranks = values.argsort().argsort()\nplt.scatter(x, y, c=ranks, cmap='plasma')\nplt.colorbar(label='Rank')\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "colormap", "ranking"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP334"}
{"question": "Visualize prediction errors as a function of predicted values to diagnose heteroscedasticity.", "code": "import matplotlib.pyplot as plt\nimport numpy as np\ny_true = np.array([3,5,7,9,11])\ny_pred = np.array([2.5,5.5,6.5,10,12])\nresiduals = y_true - y_pred\nplt.scatter(y_pred, residuals)\nplt.axhline(0, linestyle='--')\nplt.xlabel('Predicted values')\nplt.ylabel('Residuals')\nplt.show()", "difficulty": "medium", "tags": ["model diagnostics", "residuals", "regression"], "core_category": "ML_VISUALIZATION", "id": "SNP335"}
{"question": "Check calibration of probabilistic classifiers using reliability curves.", "code": "import numpy as np\nimport matplotlib.pyplot as plt\nprobs = np.array([0.1,0.2,0.4,0.6,0.8,0.9])\ny_true = np.array([0,0,0,1,1,1])\nbins = np.linspace(0,1,6)\nbin_ids = np.digitize(probs, bins) - 1\nbin_acc = [y_true[bin_ids==i].mean() for i in range(len(bins)-1)]\nbin_conf = [probs[bin_ids==i].mean() for i in range(len(bins)-1)]\nplt.plot(bin_conf, bin_acc, marker='o')\nplt.plot([0,1],[0,1],'--')\nplt.xlabel('Mean predicted probability')\nplt.ylabel('Empirical accuracy')\nplt.show()", "difficulty": "hard", "tags": ["calibration", "classification", "probability"], "core_category": "ML_VISUALIZATION", "id": "SNP336"}
{"question": "Visualize learning dynamics to diagnose overfitting and underfitting.", "code": "import matplotlib.pyplot as plt\nepochs = range(1,11)\ntrain_loss = [1.2,0.9,0.7,0.6,0.5,0.45,0.4,0.38,0.35,0.33]\nval_loss = [1.3,1.0,0.8,0.75,0.78,0.8,0.85,0.9,0.95,1.0]\nplt.plot(epochs, train_loss, label='Train')\nplt.plot(epochs, val_loss, label='Validation')\nplt.xlabel('Epoch')\nplt.ylabel('Loss')\nplt.legend()\nplt.show()", "difficulty": "medium", "tags": ["overfitting", "training dynamics", "deep learning"], "core_category": "ML_VISUALIZATION", "id": "SNP337"}
{"question": "Use partial dependence plots to detect non-linear feature effects in black-box models.", "code": "import numpy as np\nimport matplotlib.pyplot as plt\nx = np.linspace(0,10,50)\npdp = np.sin(x) + 0.1*x\nplt.plot(x, pdp)\nplt.xlabel('Feature value')\nplt.ylabel('Partial dependence')\nplt.show()", "difficulty": "hard", "tags": ["interpretability", "partial dependence", "nonlinearity"], "core_category": "ML_VISUALIZATION", "id": "SNP338"}
{"question": "Visualize prediction confidence versus correctness to identify unreliable regions.", "code": "import matplotlib.pyplot as plt\nimport numpy as np\nconfidence = np.array([0.2,0.4,0.6,0.8,0.9])\ncorrect = np.array([0,1,1,1,0])\nplt.scatter(confidence, correct)\nplt.yticks([0,1], ['Wrong','Correct'])\nplt.xlabel('Prediction confidence')\nplt.ylabel('Outcome')\nplt.show()", "difficulty": "medium", "tags": ["uncertainty", "confidence", "classification"], "core_category": "ML_VISUALIZATION", "id": "SNP339"}
{"question": "Detect target leakage by plotting feature importance against time order.", "code": "import matplotlib.pyplot as plt\nimport numpy as np\nimportance = np.array([0.9,0.85,0.2,0.1])\nfeature_time = np.array([0,1,2,3])\nplt.scatter(feature_time, importance)\nplt.xlabel('Feature availability time')\nplt.ylabel('Importance')\nplt.show()", "difficulty": "hard", "tags": ["data leakage", "feature importance"], "core_category": "ML_VISUALIZATION", "id": "SNP340"}
{"question": "Compare training and validation distributions to detect leakage-induced similarity.", "code": "import matplotlib.pyplot as plt\nimport numpy as np\ntrain = np.random.normal(0,1,1000)\nval = np.random.normal(0,0.2,1000)\nplt.hist(train, bins=30, alpha=0.5, label='Train')\nplt.hist(val, bins=30, alpha=0.5, label='Validation')\nplt.legend()\nplt.show()", "difficulty": "medium", "tags": ["data leakage", "distribution shift"], "core_category": "ML_VISUALIZATION", "id": "SNP341"}
{"question": "Visualize performance as a function of lookahead window to identify temporal leakage.", "code": "import matplotlib.pyplot as plt\nlookahead = [0,1,2,3,4]\nscore = [0.62,0.71,0.83,0.92,0.98]\nplt.plot(lookahead, score, marker='o')\nplt.xlabel('Lookahead steps')\nplt.ylabel('Validation score')\nplt.show()", "difficulty": "hard", "tags": ["temporal leakage", "time series"], "core_category": "ML_VISUALIZATION", "id": "SNP342"}
{"question": "Detect label leakage by visualizing correlation between features and target.", "code": "import numpy as np\nimport matplotlib.pyplot as plt\ncorr = np.array([0.02,0.1,0.95,0.03])\nplt.bar(range(len(corr)), corr)\nplt.axhline(0.8, linestyle='--')\nplt.show()", "difficulty": "medium", "tags": ["label leakage", "correlation"], "core_category": "ML_VISUALIZATION", "id": "SNP343"}
{"question": "Compare cross-validation scores with shuffled targets to detect hidden leakage.", "code": "import matplotlib.pyplot as plt\nreal = [0.85,0.86,0.84]\nshuffled = [0.51,0.49,0.5]\nplt.boxplot([real, shuffled], labels=['Real','Shuffled'])\nplt.show()", "difficulty": "hard", "tags": ["data leakage", "sanity check"], "core_category": "ML_VISUALIZATION", "id": "SNP344"}
{"question": "Compare feature distributions across time windows to detect drift.", "code": "import matplotlib.pyplot as plt\nimport numpy as np\nold = np.random.normal(0,1,1000)\nnew = np.random.normal(1,1,1000)\nplt.hist(old, bins=30, alpha=0.5, label='Past')\nplt.hist(new, bins=30, alpha=0.5, label='Current')\nplt.legend()\nplt.show()", "difficulty": "medium", "tags": ["feature drift", "distribution"], "core_category": "ML_VISUALIZATION", "id": "SNP345"}
{"question": "Track summary statistics over time to visualize gradual feature drift.", "code": "import matplotlib.pyplot as plt\nmeans = [0.1,0.2,0.35,0.5,0.8]\nplt.plot(means, marker='o')\nplt.ylabel('Feature mean')\nplt.xlabel('Time window')\nplt.show()", "difficulty": "medium", "tags": ["feature drift", "monitoring"], "core_category": "ML_VISUALIZATION", "id": "SNP346"}
{"question": "Visualize KL-divergence between historical and current feature distributions.", "code": "import matplotlib.pyplot as plt\nkl = [0.01,0.03,0.1,0.25,0.6]\nplt.plot(kl)\nplt.axhline(0.2, linestyle='--')\nplt.ylabel('KL divergence')\nplt.show()", "difficulty": "hard", "tags": ["feature drift", "KL divergence"], "core_category": "ML_VISUALIZATION", "id": "SNP347"}
{"question": "Compare feature quantiles across time to detect tail drift.", "code": "import matplotlib.pyplot as plt\nquantiles_old = [0.1,0.5,0.9]\nquantiles_new = [0.2,0.6,0.95]\nplt.plot(quantiles_old, label='Old')\nplt.plot(quantiles_new, label='New')\nplt.legend()\nplt.show()", "difficulty": "medium", "tags": ["feature drift", "quantiles"], "core_category": "ML_VISUALIZATION", "id": "SNP348"}
{"question": "Detect covariate drift by projecting features with PCA over time.", "code": "import numpy as np\nimport matplotlib.pyplot as plt\nX1 = np.random.randn(100,2)\nX2 = np.random.randn(100,2) + 1\nplt.scatter(X1[:,0], X1[:,1], alpha=0.5)\nplt.scatter(X2[:,0], X2[:,1], alpha=0.5)\nplt.show()", "difficulty": "hard", "tags": ["covariate drift", "projection"], "core_category": "ML_VISUALIZATION", "id": "SNP349"}
{"question": "Compare prediction distributions across sensitive groups.", "code": "import matplotlib.pyplot as plt\nimport numpy as np\npred_a = np.random.normal(0.6,0.1,500)\npred_b = np.random.normal(0.4,0.1,500)\nplt.hist(pred_a, alpha=0.5, label='Group A')\nplt.hist(pred_b, alpha=0.5, label='Group B')\nplt.legend()\nplt.show()", "difficulty": "medium", "tags": ["fairness", "distribution"], "core_category": "ML_VISUALIZATION", "id": "SNP350"}
{"question": "Visualize error rates by group to detect disparate impact.", "code": "import matplotlib.pyplot as plt\ngroups = ['A','B']\nerrors = [0.1,0.25]\nplt.bar(groups, errors)\nplt.ylabel('Error rate')\nplt.show()", "difficulty": "medium", "tags": ["fairness", "error analysis"], "core_category": "ML_VISUALIZATION", "id": "SNP351"}
{"question": "Plot ROC curves per group to detect performance imbalance.", "code": "import matplotlib.pyplot as plt\nfpr = [0,0.1,0.3,1]\ntpr_a = [0,0.5,0.9,1]\ntpr_b = [0,0.3,0.7,1]\nplt.plot(fpr, tpr_a, label='Group A')\nplt.plot(fpr, tpr_b, label='Group B')\nplt.legend()\nplt.show()", "difficulty": "hard", "tags": ["fairness", "ROC"], "core_category": "ML_VISUALIZATION", "id": "SNP352"}
{"question": "Visualize calibration curves separately for different demographic groups.", "code": "import matplotlib.pyplot as plt\nconf = [0.2,0.4,0.6,0.8]\nacc_a = [0.1,0.3,0.7,0.85]\nacc_b = [0.05,0.25,0.6,0.75]\nplt.plot(conf, acc_a, label='Group A')\nplt.plot(conf, acc_b, label='Group B')\nplt.plot([0,1],[0,1],'--')\nplt.legend()\nplt.show()", "difficulty": "hard", "tags": ["fairness", "calibration"], "core_category": "ML_VISUALIZATION", "id": "SNP353"}
{"question": "Compare decision thresholds across groups to identify unequal treatment.", "code": "import matplotlib.pyplot as plt\nthresholds = [0.4,0.55]\nplt.bar(['Group A','Group B'], thresholds)\nplt.ylabel('Decision threshold')\nplt.show()", "difficulty": "medium", "tags": ["fairness", "decision boundary"], "core_category": "ML_VISUALIZATION", "id": "SNP354"}
{"question": "Create sliding windows over an array without copying data (zero-copy view).", "code": "import numpy as np\nfrom numpy.lib.stride_tricks import sliding_window_view\nx = np.arange(10)\nw = sliding_window_view(x, window_shape=3)\nprint(w)", "difficulty": "hard", "tags": ["numpy", "stride tricks", "memory optimization"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP355"}
{"question": "Perform grouped aggregation without loops using advanced indexing.", "code": "import numpy as np\nvalues = np.array([10,20,30,40,50])\ngroups = np.array([0,1,0,1,0])\nresult = np.bincount(groups, weights=values)\nprint(result)", "difficulty": "medium", "tags": ["numpy", "groupby", "aggregation"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP356"}
{"question": "Vectorize conditional logic using boolean masks instead of Python if-else.", "code": "import numpy as np\nx = np.array([-3,-1,0,2,4])\ny = np.zeros_like(x)\ny[x > 0] = x[x > 0] ** 2\ny[x <= 0] = -1\nprint(y)", "difficulty": "medium", "tags": ["numpy", "vectorization", "boolean masking"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP357"}
{"question": "Compute pairwise distances efficiently using broadcasting instead of loops.", "code": "import numpy as np\nX = np.random.rand(5,3)\ndists = np.sqrt(((X[:,None,:] - X[None,:,:])**2).sum(axis=2))\nprint(dists)", "difficulty": "hard", "tags": ["numpy", "broadcasting", "distance matrix"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP358"}
{"question": "Perform stable numerical computation using log-sum-exp to avoid overflow.", "code": "import numpy as np\nx = np.array([1000,1001,1002])\nm = np.max(x)\nlog_sum_exp = m + np.log(np.sum(np.exp(x - m)))\nprint(log_sum_exp)", "difficulty": "hard", "tags": ["numpy", "numerical stability", "log-sum-exp"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP359"}
{"question": "Standardize features using precomputed statistics to ensure train\u2013test consistency.", "code": "import numpy as np\nX_train = np.array([[1,2],[3,4],[5,6]])\nX_test = np.array([[2,3],[6,7]])\nmean = X_train.mean(axis=0)\nstd = X_train.std(axis=0)\nX_train_std = (X_train - mean) / std\nX_test_std = (X_test - mean) / std\nprint(X_test_std)", "difficulty": "medium", "tags": ["standardization", "data leakage prevention"], "core_category": "ARRAY_OPERATIONS", "id": "SNP360"}
{"question": "Apply feature clipping using training quantiles to reduce outlier impact.", "code": "import numpy as np\nX_train = np.random.randn(1000,2)\nX_test = np.random.randn(200,2) * 3\nq_low, q_high = np.quantile(X_train, [0.01,0.99], axis=0)\nX_test_clipped = np.clip(X_test, q_low, q_high)\nprint(X_test_clipped[:3])", "difficulty": "medium", "tags": ["outliers", "robust preprocessing"], "core_category": "ARRAY_OPERATIONS", "id": "SNP361"}
{"question": "Encode categorical features using integer mapping without pandas.", "code": "import numpy as np\ncats = np.array(['red','blue','red','green'])\nunique, encoded = np.unique(cats, return_inverse=True)\nprint(encoded)", "difficulty": "medium", "tags": ["categorical encoding", "feature engineering"], "core_category": "ARRAY_OPERATIONS", "id": "SNP362"}
{"question": "Generate polynomial interaction features using broadcasting instead of nested loops.", "code": "import numpy as np\nX = np.array([[1,2],[3,4]])\ninteractions = (X[:,:,None] * X[:,None,:]).reshape(X.shape[0], -1)\nprint(interactions)", "difficulty": "hard", "tags": ["feature interactions", "broadcasting"], "core_category": "ARRAY_OPERATIONS", "id": "SNP363"}
{"question": "How do I create a correlation heatmap masking the upper triangle of the matrix?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Create sample DataFrame\ndf = pd.DataFrame(np.random.randn(100, 5), columns=['A', 'B', 'C', 'D', 'E'])\ncorr = df.corr()\nmask = np.triu(np.ones_like(corr, dtype=bool))\nsns.heatmap(corr, mask=mask, cmap='coolwarm', center=0, square=True, linewidths=.5)\nplt.title('Correlation Heatmap')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "visualization", "correlation", "masking"], "core_category": "VISUALIZATION_BASICS", "id": "SNP424"}
{"question": "How do I create a dual-axis plot sharing the same x-axis with different scales?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0, 10, 100)\ny1 = np.sin(x)\ny2 = np.cos(x) * 100\n\nfig, ax1 = plt.subplots()\nax1.plot(x, y1, 'g-', label='y1')\nax1.set_xlabel('X data')\nax1.set_ylabel('y1', color='g')\n\nax2 = ax1.twinx()\nax2.plot(x, y2, 'b-', label='y2')\nax2.set_ylabel('y2', color='b')\n\nplt.title('Dual-axis Plot')\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "dual-axis", "subplots", "twinx"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP427"}
{"question": "How to create a jointplot with regression lines and kernel density estimation on the margins?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\n\n# Load sample data\ndf = sns.load_dataset('penguins').dropna()\nsns.jointplot(data=df, x='bill_length_mm', y='bill_depth_mm', kind='reg', marginal_kws=dict(bins=25, fill=True))\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "jointplot", "regression", "kde"], "core_category": "VISUALIZATION_BASICS", "id": "SNP431"}
{"question": "How to find the indices of the N largest values in a flattened numpy array?", "code": "import numpy as np\n\narr = np.random.rand(4, 5)\nN = 3\nflat_indices = np.argpartition(arr.flatten(), -N)[-N:]\nindices = np.unravel_index(flat_indices, arr.shape)\nprint(indices)", "difficulty": "hard", "tags": ["numpy", "sorting", "argpartition", "indexing"], "core_category": "ARRAY_OPERATIONS", "id": "SNP432"}
{"question": "How to annotate specific points on a scatter plot with arrows pointing to them?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.random.randn(20)\ny = np.random.randn(20)\nfig, ax = plt.subplots()\nax.scatter(x, y)\n\n# Annotate a specific point\nx_val, y_val = x[5], y[5]\nax.annotate('Outlier', xy=(x_val, y_val), xytext=(x_val+1, y_val+1),\n            arrowprops=dict(facecolor='black', shrink=0.05))\n\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "annotation", "arrows", "labeling"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP433"}
{"question": "How to create a pairplot where the lower triangle is a scatter plot and upper is a kde plot?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\n\n# Load sample data\ndf = sns.load_dataset('iris')\ng = sns.PairGrid(df)\ng.map_upper(sns.kdeplot)\ng.map_lower(sns.scatterplot)\ng.map_diag(sns.histplot)\n\nplt.show()", "difficulty": "hard", "tags": ["seaborn", "pairgrid", "custom-mapping", "multi-plot"], "core_category": "VISUALIZATION_BASICS", "id": "SNP436"}
{"question": "How to set a custom style context for a specific block of code without affecting global settings?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0, 10, 100)\ny = np.sin(x)\n\nwith plt.style.context('dark_background'):\n    plt.plot(x, y)\n    plt.title('Dark Mode Plot')\n    plt.show()", "difficulty": "medium", "tags": ["matplotlib", "styling", "context-manager", "themes"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP439"}
{"question": "How to generate a hierarchically clustered heatmap (Clustermap)?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\n\n# Create sample DataFrame\ndf = pd.DataFrame(np.random.rand(10, 10))\nsns.clustermap(df, method='ward', cmap='viridis', standard_scale=1)\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "clustering", "heatmap", "hierarchical"], "core_category": "VISUALIZATION_BASICS", "id": "SNP443"}
{"question": "How to fill the area between two lines to represent a confidence interval?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0, 10, 100)\ny_mean = np.sin(x)\ny_std = 0.2 * np.ones_like(x)\n\nplt.plot(x, y_mean, 'k-')\nplt.fill_between(x, y_mean - y_std, y_mean + y_std, alpha=0.5, color='gray')\nplt.title('Confidence Interval')\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "fill_between", "confidence-interval", "visualization"], "core_category": "VISUALIZATION_BASICS", "id": "SNP445"}
{"question": "How to create a split violin plot to compare distributions across a binary category?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\n\n# Load sample data\ndf = sns.load_dataset('tips')\nsns.violinplot(data=df, x='day', y='total_bill', hue='sex', split=True, inner='quartile')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "violinplot", "distribution", "comparison"], "core_category": "VISUALIZATION_BASICS", "id": "SNP449"}
{"question": "How to create a 3D scatter plot using Matplotlib?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\n# Generate random 3D data\nnp.random.seed(42)\nx = np.random.rand(50)\ny = np.random.rand(50)\nz = np.random.rand(50)\n\nfig = plt.figure()\nax = plt.axes(projection='3d')\nax.scatter3D(x, y, z, c=z, cmap='Greens')\nax.set_xlabel('X')\nax.set_ylabel('Y')\nax.set_zlabel('Z')\nplt.title('3D Scatter Plot')\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "3d-plot", "scatter", "projection"], "core_category": "VISUALIZATION_BASICS", "id": "SNP450"}
{"question": "How to create a scatterplot with different markers for categories and sizes based on a numerical variable?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\n\n# Create sample DataFrame\ndf = pd.DataFrame({\n    'x_val': np.random.randn(50),\n    'y_val': np.random.randn(50),\n    'category': np.random.choice(['A', 'B', 'C'], 50),\n    'magnitude': np.random.uniform(1, 10, 50)\n})\n\nsns.scatterplot(data=df, x='x_val', y='y_val', style='category', size='magnitude', sizes=(20, 200))\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "scatterplot", "multivariate", "styling"], "core_category": "VISUALIZATION_BASICS", "id": "SNP455"}
{"question": "How to plot a cumulative histogram (step plot) with normalized density?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\ndata = np.random.normal(0, 1, 1000)\nplt.hist(data, bins=30, density=True, cumulative=True, histtype='step')\nplt.title('Cumulative Histogram')\nplt.xlabel('Value')\nplt.ylabel('Cumulative Density')\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "histogram", "cumulative", "density"], "core_category": "VISUALIZATION_BASICS", "id": "SNP458"}
{"question": "How to create a stacked bar chart in Matplotlib?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = ['A', 'B', 'C', 'D']\ny1 = [10, 15, 12, 8]\ny2 = [5, 8, 6, 9]\n\nplt.bar(x, y1, label='Group A')\nplt.bar(x, y2, bottom=y1, label='Group B')\nplt.legend()\nplt.title('Stacked Bar Chart')\nplt.xlabel('Categories')\nplt.ylabel('Values')\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "stacked-bar", "visualization"], "core_category": "VISUALIZATION_BASICS", "id": "SNP463"}
{"question": "How to annotate values in a Seaborn heatmap and format them to 1 decimal place?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport numpy as np\n\n# Create sample data\ndata = np.random.rand(5, 5)\nsns.heatmap(data, annot=True, fmt='.1f', cmap='Blues')\nplt.title('Heatmap with Annotations')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "heatmap", "annotation", "formatting"], "core_category": "VISUALIZATION_BASICS", "id": "SNP464"}
{"question": "How to create a scatter plot with a color bar representing a third variable?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.random.rand(50)\ny = np.random.rand(50)\nz = np.random.rand(50)\n\nsc = plt.scatter(x, y, c=z, cmap='viridis')\nplt.colorbar(sc, label='Z-value')\nplt.title('Scatter Plot with Color Bar')\nplt.xlabel('X')\nplt.ylabel('Y')\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "colorbar", "multivariate", "visualization"], "core_category": "VISUALIZATION_BASICS", "id": "SNP469"}
{"question": "How to create a grid of histograms for different categories using FacetGrid?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\n\n# Load sample data\ndf = sns.load_dataset('tips')\ng = sns.FacetGrid(df, col='day', col_wrap=3)\ng.map(sns.histplot, 'total_bill')\nplt.show()", "difficulty": "hard", "tags": ["seaborn", "facetgrid", "small-multiples", "histogram"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP472"}
{"question": "How to create a complex layout of subplots using GridSpec?", "code": "import matplotlib.pyplot as plt\nimport matplotlib.gridspec as gridspec\n\nfig = plt.figure()\ngs = gridspec.GridSpec(2, 2)\n\nax1 = fig.add_subplot(gs[0, :])  # Spans both columns\nax1.set_title('Top Spanning')\n\nax2 = fig.add_subplot(gs[1, 0])\nax2.set_title('Bottom Left')\n\nax3 = fig.add_subplot(gs[1, 1])\nax3.set_title('Bottom Right')\n\nplt.tight_layout()\nplt.show()", "difficulty": "hard", "tags": ["matplotlib", "gridspec", "layout", "subplots"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP475"}
{"question": "How to create a boxplot with swarmplot points overlayed?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport numpy as np\n\n# Create sample DataFrame\ndf = pd.DataFrame({\n    'group': np.repeat(['A', 'B', 'C'], 10),\n    'val': np.concatenate([np.random.normal(0, 1, 10),\n                          np.random.normal(1, 1, 10),\n                          np.random.normal(2, 1, 10)])\n})\n\nsns.boxplot(data=df, x='group', y='val', color='white')\nsns.swarmplot(data=df, x='group', y='val', color='black', alpha=0.5)\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "boxplot", "swarmplot", "overlay"], "core_category": "VISUALIZATION_BASICS", "id": "SNP480"}
{"question": "How to rotate x-axis tick labels to prevent overlapping?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nlabels = ['January', 'February', 'March', 'April', 'May', 'June', 'July']\nvalues = np.random.rand(len(labels))\n\nplt.bar(labels, values)\nplt.xticks(rotation=45, ha='right')\nplt.title('Rotated X-axis Labels')\nplt.tight_layout()\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "formatting", "ticks", "visualization"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP483"}
{"question": "How to plot a bivariate Kernel Density Estimate (KDE)?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport numpy as np\n\n# Create sample data\ndf = pd.DataFrame({\n    'x_var': np.random.randn(200),\n    'y_var': np.random.randn(200) + 1\n})\n\nsns.kdeplot(data=df, x='x_var', y='y_var', fill=True, levels=10)\nplt.title('Bivariate KDE Plot')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "kde", "bivariate", "visualization"], "core_category": "VISUALIZATION_BASICS", "id": "SNP487"}
{"question": "How to convert a string column to datetime specifying a custom format?", "code": "import pandas as pd\n\n# Create sample DataFrame\ndf = pd.DataFrame({\n    'date_str': ['20230115', '20230220', '20230310']\n})\n\ndf['date'] = pd.to_datetime(df['date_str'], format='%Y%m%d')\nprint(df)", "difficulty": "easy", "tags": ["pandas", "datetime", "parsing", "conversion"], "core_category": "DATA_PREPROCESSING", "id": "SNP488"}
{"question": "How to add a horizontal line across the plot at a specific y-value?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0, 10, 100)\ny = np.sin(x)\n\nplt.plot(x, y)\nplt.axhline(y=0.5, color='r', linestyle='--', label='Threshold')\nplt.title('Plot with Horizontal Line')\nplt.legend()\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "annotation", "reference-line"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP489"}
{"question": "How to color code a pairplot based on a categorical variable (hue)?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\n\n# Load sample data\ndf = sns.load_dataset('iris')\nsns.pairplot(df, hue='species', markers=['o', 's', 'D'])\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "pairplot", "multivariate", "classification"], "core_category": "VISUALIZATION_BASICS", "id": "SNP494"}
{"question": "How to create a polar plot?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\ntheta = np.linspace(0, 2 * np.pi, 100)\nr = np.sin(3 * theta)\n\nax = plt.subplot(111, projection='polar')\nax.plot(theta, r)\nplt.title('Polar Plot')\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "polar", "visualization", "radial"], "core_category": "VISUALIZATION_BASICS", "id": "SNP496"}
{"question": "How to use LaTeX rendering for plot labels?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nplt.rcParams['text.usetex'] = True\nx = np.linspace(0, 2*np.pi, 100)\nplt.plot(x, np.sin(x))\nplt.xlabel(r'$\\alpha$ value')\nplt.ylabel(r'$\\beta$ value')\nplt.title('Plot with LaTeX Labels')\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "latex", "styling", "typography"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP502"}
{"question": "How to plot a linear regression model fit using Seaborn?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\n\n# Load sample data\ndf = sns.load_dataset('tips')\nsns.lmplot(x='total_bill', y='tip', data=df, ci=95)\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "regression", "linear-model", "visualization"], "core_category": "ML_MODELING", "id": "SNP504"}
{"question": "How to plot two histograms on the same axis with transparency?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.random.normal(0, 1, 1000)\ny = np.random.normal(2, 1.5, 800)\n\nplt.hist(x, alpha=0.5, label='x', bins=30)\nplt.hist(y, alpha=0.5, label='y', bins=30)\nplt.legend()\nplt.title('Overlapping Histograms')\nplt.xlabel('Value')\nplt.ylabel('Frequency')\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "histogram", "comparison", "transparency"], "core_category": "VISUALIZATION_BASICS", "id": "SNP509"}
{"question": "How to use Pandas Styler to apply a gradient background to a column based on values?", "code": "import pandas as pd\nimport numpy as np\n\n# Create sample DataFrame\ndf = pd.DataFrame({\n    'name': ['A', 'B', 'C', 'D'],\n    'value': [10, 20, 30, 40]\n})\n\nstyled = df.style.background_gradient(subset=['value'], cmap='Blues')\nstyled", "difficulty": "medium", "tags": ["pandas", "styling", "visualization", "conditional-formatting"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP511"}
{"question": "How to create a Log-Log plot?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.logspace(0, 2, 100)\ny = x**2\n\nplt.loglog(x, y, base=10, linestyle='--')\nplt.title('Log-Log Plot')\nplt.xlabel('X (log scale)')\nplt.ylabel('Y (log scale)')\nplt.grid(True)\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "log-scale", "line-plot", "specialized"], "core_category": "VISUALIZATION_BASICS", "id": "SNP513"}
{"question": "How to visualize central tendency and confidence intervals for categorical data?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\n\n# Load sample data\ndf = sns.load_dataset('tips')\nsns.pointplot(data=df, x='day', y='total_bill', capsize=.2, err_style='bars')\nplt.title('Point Plot with Confidence Intervals')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "pointplot", "categorical", "confidence-interval"], "core_category": "VISUALIZATION_BASICS", "id": "SNP514"}
{"question": "How to add error bars to a bar plot to show standard deviation?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\ncategories = ['A', 'B', 'C', 'D']\nmeans = [10, 15, 12, 18]\nstd_devs = [1.2, 2.1, 1.5, 2.5]\n\nplt.bar(categories, means, yerr=std_devs, capsize=5, color='skyblue', edgecolor='black')\nplt.title('Bar Plot with Error Bars')\nplt.ylabel('Value')\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "error-bars", "bar-plot", "statistics"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP519"}
{"question": "How to create a Boxenplot (letter value plot) for robust visualization of large datasets?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport numpy as np\n\n# Create sample DataFrame\ndf = pd.DataFrame({\n    'category': np.repeat(['A', 'B', 'C'], 100),\n    'value': np.concatenate([np.random.exponential(1, 100),\n                            np.random.normal(5, 2, 100),\n                            np.random.uniform(0, 10, 100)])\n})\n\nsns.boxenplot(data=df, x='category', y='value', k_depth='full')\nplt.title('Boxenplot (Letter Value Plot)')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "boxenplot", "distribution", "robust"], "core_category": "VISUALIZATION_BASICS", "id": "SNP520"}
{"question": "How to customize the appearance of the plot using parameters (RC params)?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nplt.rcParams.update({'font.size': 12, 'axes.edgecolor': 'gray', \n                     'axes.linewidth': 1.5, 'grid.alpha': 0.3})\n\nx = np.linspace(0, 10, 100)\nplt.plot(x, np.sin(x))\nplt.title('Plot with Custom RC Params')\nplt.grid(True)\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "rcparams", "customization", "styling"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP524"}
{"question": "Chain multiple column operations together to add and transform columns.", "code": "import pandas as pd\nimport numpy as np\n\ndf = pd.DataFrame({'A': [1, 2, 3], 'B': [4, 5, 6]})\ndf2 = df.assign(C=df['A']+1).assign(D=lambda x: x['C']*2)\ndf2", "difficulty": "medium", "tags": ["pandas", "method chaining", "clean code"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP270"}
{"question": "Filter rows based on a condition and compute a new column using expressions.", "code": "import pandas as pd\nimport numpy as np\n\ndf = pd.DataFrame({'A': [1, 2, 3, 4], 'B': [5, 6, 7, 8]})\ndf_filtered = df.query('A > 2')\ndf = df.copy()\ndf['E'] = df.eval('A*2 + 1')\ndf", "difficulty": "medium", "tags": ["pandas", "query", "eval", "performance"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP271"}
{"question": "Multiply two arrays element-wise using broadcasting.", "code": "import numpy as np\n\narr1 = np.array([1, 2, 3])\narr2 = np.array([4, 5, 6])\nres = arr1 * arr2\nres", "difficulty": "easy", "tags": ["numpy", "broadcasting", "vectorization"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP272"}
{"question": "Apply a conditional operation on an array to create a new array.", "code": "import numpy as np\n\narr1 = np.array([1, 2, 3, 4, 5])\nres = np.where(arr1 > 2, arr1*2, arr1*0.5)\nres", "difficulty": "medium", "tags": ["numpy", "where", "conditional"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP273"}
{"question": "Create a view of an array without allocating extra memory.", "code": "import numpy as np\n\narr1 = np.array([1, 2, 3, 4, 5])\narr2 = arr1.view()\narr2", "difficulty": "medium", "tags": ["numpy", "memory", "views"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP274"}
{"question": "Plot an entire DataFrame as a line plot.", "code": "import pandas as pd\nimport matplotlib.pyplot as plt\nimport numpy as np\n\ndf = pd.DataFrame({'A': [1, 2, 3, 4], 'B': [2, 3, 4, 5], 'C': [3, 4, 5, 6]}, index=[0, 1, 2, 3])\nax = df.plot(kind='line')\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "line plot", "dataframe"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP276"}
{"question": "Create a stacked bar chart from a DataFrame and customize its title.", "code": "import pandas as pd\nimport matplotlib.pyplot as plt\nimport numpy as np\n\ndf = pd.DataFrame({'A': [1, 2, 3, 4], 'B': [2, 3, 4, 5], 'C': [3, 4, 5, 6]}, index=['X', 'Y', 'Z', 'W'])\nax = df.plot(kind='bar', stacked=True, alpha=0.7)\nax.set_title('Stacked Bar')\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "bar plot", "stacked"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP277"}
{"question": "Create a stacked histogram with different hues to separate categories.", "code": "import seaborn as sns\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport numpy as np\n\ndf = pd.DataFrame({'A': [1, 2, 2, 3, 3, 3, 4, 4, 5], 'B': ['X', 'X', 'Y', 'X', 'Y', 'Z', 'Y', 'Z', 'Z']})\nsns.histplot(data=df, x='A', hue='B', multiple='stack', alpha=0.7)\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "histogram", "stacked"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP278"}
{"question": "Plot a boxplot for multiple columns in a DataFrame.", "code": "import seaborn as sns\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport numpy as np\n\ndf = pd.DataFrame({'A': [1, 2, 3, 4, 5], 'B': [2, 3, 4, 5, 6], 'C': [3, 4, 5, 6, 7]})\nsns.boxplot(data=df[['A','B','C']])\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "boxplot", "dataframe"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP279"}
{"question": "Set a theme and context for all plots to improve readability and style.", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\ndf = pd.DataFrame({'A': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]})\nsns.set_theme(style='whitegrid', context='talk')\nsns.histplot(df['A'], kde=True)\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "theme", "visualization"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP280"}
{"question": "Compute the inverse of a matrix using scipy's optimized linear algebra routines.", "code": "from scipy import linalg\nimport numpy as np\n\nA = np.array([[1, 2], [3, 4]])\nB = linalg.inv(A)\nB", "difficulty": "medium", "tags": ["scipy", "linalg", "matrix"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP281"}
{"question": "Perform cubic interpolation on a set of points to generate smooth values.", "code": "from scipy import interpolate\nimport numpy as np\n\nx = np.arange(0, 10)\ny = np.sin(x)\nf = interpolate.interp1d(x, y, kind='cubic')\ny_new = f(np.linspace(0, 9, 50))\ny_new", "difficulty": "medium", "tags": ["scipy", "interpolation", "cubic"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP282"}
{"question": "Create a swarm plot combined with a box plot to show distribution and individual points.", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\ndf = pd.DataFrame({'A': [1, 2, 3, 4, 5, 1, 2, 3, 4, 5], 'B': ['X', 'X', 'X', 'X', 'X', 'Y', 'Y', 'Y', 'Y', 'Y']})\nsns.boxplot(x='B', y='A', data=df, whis=1.5, width=0.5)\nsns.swarmplot(x='B', y='A', data=df, color='.25')\nplt.show()", "difficulty": "hard", "tags": ["seaborn", "swarmplot", "boxplot"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP283"}
{"question": "Add annotations and arrows to highlight data points in a line plot.", "code": "import matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\ndf = pd.DataFrame({'A': [1, 2, 3, 4, 5], 'B': [2, 4, 6, 4, 2]}, index=[0, 1, 2, 3, 4])\nplt.plot(df['A'], df['B'])\nplt.annotate('Peak', xy=(2, df['B'][2]), xytext=(3, df['B'][2]+1), arrowprops=dict(facecolor='black', shrink=0.05))\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "annotations", "arrows"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP286"}
{"question": "Create a violin plot with split by hue and show inner quartiles.", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\ndf = pd.DataFrame({'A': [1, 2, 3, 4, 5, 1, 2, 3, 4, 5, 1, 2, 3, 4, 5],\n                   'B': ['X', 'X', 'X', 'X', 'X', 'Y', 'Y', 'Y', 'Y', 'Y', 'Z', 'Z', 'Z', 'Z', 'Z'],\n                   'C': ['M', 'N', 'M', 'N', 'M', 'N', 'M', 'N', 'M', 'N', 'M', 'N', 'M', 'N', 'M']})\nsns.violinplot(x='B', y='A', hue='C', data=df, split=True, inner='quartile')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "violinplot", "advanced"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP289"}
{"question": "Plot a heatmap from a pivot table with annotations and custom color map.", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\ndf = pd.DataFrame({'A': ['X', 'X', 'Y', 'Y', 'Z', 'Z'],\n                   'B': ['M', 'N', 'M', 'N', 'M', 'N'],\n                   'C': [1.5, 2.3, 3.1, 4.2, 2.8, 3.9]})\npivot = df.pivot('A', 'B', 'C')\nsns.heatmap(pivot, annot=True, fmt='.1f', cmap='magma')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "heatmap", "pivot"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP290"}
{"question": "Compute a moving average over a 1D array using convolution.", "code": "import numpy as np\n\narr = np.array([1, 2, 3, 4, 5, 6])\nwindow_size = 3\nmoving_avg = np.convolve(arr, np.ones(window_size)/window_size, mode='valid')\nmoving_avg", "difficulty": "medium", "tags": ["numpy", "moving average", "convolution"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP292"}
{"question": "Perform advanced indexing to select elements based on a condition.", "code": "import numpy as np\n\narr = np.arange(10)\nindices = np.where(arr % 2 == 0)\neven_elements = arr[indices]\neven_elements", "difficulty": "medium", "tags": ["numpy", "indexing", "conditional selection"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP293"}
{"question": "Generate a random 2D array with row-wise normalization.", "code": "import numpy as np\n\narr = np.random.rand(5, 4)\nrow_sums = arr.sum(axis=1, keepdims=True)\nnorm_arr = arr / row_sums\nnorm_arr", "difficulty": "medium", "tags": ["numpy", "normalization", "random"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP294"}
{"question": "Compute pairwise Euclidean distances between two sets of points efficiently.", "code": "import numpy as np\n\nA = np.random.rand(5, 3)\nB = np.random.rand(4, 3)\ndists = np.sqrt(((A[:, None, :] - B[None, :,])**2).sum(axis=2))\ndists", "difficulty": "hard", "tags": ["numpy", "distance", "pairwise"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP295"}
{"question": "Solve a system of linear equations using LU decomposition.", "code": "from scipy import linalg\nimport numpy as np\n\nA = np.array([[3, 2], [1, 2]])\nb = np.array([5, 5])\nx = linalg.lu_solve(linalg.lu_factor(A), b)\nx", "difficulty": "hard", "tags": ["scipy", "linear algebra", "LU decomposition"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP296"}
{"question": "Perform numerical integration of a function over an interval.", "code": "from scipy import integrate\nimport numpy as np\n\nresult, error = integrate.quad(lambda x: np.sin(x)**2, 0, np.pi)\nresult", "difficulty": "medium", "tags": ["scipy", "integration", "numerical"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP297"}
{"question": "Interpolate scattered 2D data using radial basis function.", "code": "from scipy.interpolate import Rbf\nimport numpy as np\n\nx, y, z = np.random.rand(3, 10)\nrbf = Rbf(x, y, z, function='multiquadric')\nz_new = rbf(x, y)\nz_new", "difficulty": "hard", "tags": ["scipy", "interpolation", "RBF"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP298"}
{"question": "Perform eigenvalue decomposition of a symmetric matrix.", "code": "from scipy import linalg\nimport numpy as np\n\nA = np.array([[2, 1], [1, 2]])\neigenvalues, eigenvectors = linalg.eigh(A)\neigenvalues, eigenvectors", "difficulty": "medium", "tags": ["scipy", "eigenvalues", "linear algebra"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP299"}
{"question": "Compute cumulative sum grouped by a category.", "code": "import pandas as pd\nimport numpy as np\n\ndf = pd.DataFrame({'group': ['A', 'A', 'B', 'B'], 'val': [1, 2, 3, 4]})\ndf['cum_sum'] = df.groupby('group')['val'].cumsum()\ndf", "difficulty": "medium", "tags": ["pandas", "groupby", "cumsum"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP300"}
{"question": "Pivot a DataFrame and aggregate using multiple functions.", "code": "import pandas as pd\nimport numpy as np\n\ndf = pd.DataFrame({'A': ['x', 'x', 'y', 'y'], 'B': [1, 2, 3, 4], 'C': [4, 5, 6, 7]})\npivot = df.pivot_table(index='A', values=['B', 'C'], aggfunc=['sum', 'mean'])\npivot", "difficulty": "medium", "tags": ["pandas", "pivot_table", "aggregation"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP301"}
{"question": "Detect and fill missing values using interpolation.", "code": "import pandas as pd\nimport numpy as np\n\ndf = pd.DataFrame({'A': [1, np.nan, 3, np.nan, 5]})\ndf['A_filled'] = df['A'].interpolate(method='linear')\ndf", "difficulty": "medium", "tags": ["pandas", "missing values", "interpolation"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP302"}
{"question": "Generate random variables from a normal distribution with a specific mean and covariance matrix (multivariate normal).", "code": "import numpy as np\n\nmean = [0, 1]\ncov = [[1, 0.5], [0.5, 2]]\nsamples = np.random.multivariate_normal(mean, cov, size=1000)\nsamples", "difficulty": "hard", "tags": ["numpy", "random", "multivariate normal"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP303"}
{"question": "Generate random variables from a truncated normal distribution within specified bounds.", "code": "from scipy.stats import truncnorm\nimport numpy as np\n\n# Set seed for reproducibility\nnp.random.seed(42)\na, b = -1, 2  # bounds in standard deviations\nsamples = truncnorm.rvs(a, b, loc=0, scale=1, size=1000)\nsamples", "difficulty": "hard", "tags": ["scipy", "random", "truncated normal"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP304"}
{"question": "Align two DataFrames on their indexes and columns automatically before arithmetic operations.", "code": "import pandas as pd\nimport numpy as np\n\n# Create sample DataFrames\nA = pd.DataFrame({'x': [1, 2]}, index=['a', 'b'])\nB = pd.DataFrame({'y': [3, 4]}, index=['b', 'c'])\nresult = A.add(B, fill_value=0)\nresult", "difficulty": "hard", "tags": ["pandas", "alignment", "arithmetic"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP305"}
{"question": "Apply different aggregation functions to different columns in a single groupby operation.", "code": "import pandas as pd\nimport numpy as np\n\n# Create sample DataFrame\ndf = pd.DataFrame({'grp': ['A', 'A', 'B', 'B'], 'x': [1, 2, 3, 4], 'y': [4, 5, 6, 7]})\nagg = df.groupby('grp').agg(x_sum=('x', 'sum'), y_mean=('y', 'mean'))\nagg", "difficulty": "medium", "tags": ["pandas", "groupby", "named aggregation"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP306"}
{"question": "Create rolling window features with custom functions using raw NumPy arrays for speed.", "code": "import numpy as np\nimport pandas as pd\n\n# Create sample DataFrame\ndf = pd.DataFrame({'x': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]})\ndf['roll_energy'] = df['x'].rolling(3, min_periods=1).apply(lambda v: np.sum(v**2), raw=True)\ndf", "difficulty": "hard", "tags": ["pandas", "rolling", "performance"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP307"}
{"question": "Detect changes between consecutive rows to identify regime or state transitions.", "code": "import pandas as pd\nimport numpy as np\n\n# Create sample DataFrame\ndf = pd.DataFrame({'state': [1, 1, 2, 2, 3, 3, 2, 2, 1, 1]})\ndf['state_change'] = df['state'].ne(df['state'].shift())\ndf", "difficulty": "medium", "tags": ["pandas", "time series", "change detection"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP308"}
{"question": "Use IntervalIndex to efficiently bin continuous data without loops.", "code": "import pandas as pd\nimport numpy as np\n\n# Create sample data\nbins = pd.IntervalIndex.from_breaks([0, 10, 20, 50, 100])\ndf = pd.DataFrame({'x': [3, 15, 42, 75, 5, 25, 90]})\ndf['bin'] = pd.cut(df['x'], bins)\ndf", "difficulty": "medium", "tags": ["pandas", "binning", "intervalindex"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP309"}
{"question": "Compute group-wise standardized values (z-scores) using NumPy for speed while preserving DataFrame structure.", "code": "import numpy as np\nimport pandas as pd\n\n# Create sample DataFrame\ndf = pd.DataFrame({'grp': ['A', 'A', 'A', 'B', 'B', 'B'], 'x': [1, 2, 3, 10, 12, 14]})\ng = df.groupby('grp')['x']\nmean = g.transform('mean').to_numpy()\nstd = g.transform('std').to_numpy()\ndf['z'] = (df['x'].to_numpy() - mean) / std\ndf", "difficulty": "hard", "tags": ["pandas", "numpy", "groupby", "statistics"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP310"}
{"question": "Perform fast conditional column assignment using NumPy masking instead of row-wise logic.", "code": "import numpy as np\nimport pandas as pd\n\n# Create sample DataFrame\ndf = pd.DataFrame({'x': [1, 5, 10, 15, 3, 8, 12]})\nmask = df['x'].to_numpy() > 8\ndf['label'] = np.where(mask, 'high', 'low')\ndf", "difficulty": "medium", "tags": ["pandas", "numpy", "masking"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP311"}
{"question": "Generate lagged features efficiently for time-series analysis using NumPy slicing.", "code": "import numpy as np\nimport pandas as pd\n\n# Create sample DataFrame\ndf = pd.DataFrame({'x': [10, 11, 13, 15, 18, 20, 22]})\narr = df['x'].to_numpy()\ndf['lag1'] = np.r_[np.nan, arr[:-1]]\ndf['lag2'] = np.r_[np.nan, np.nan, arr[:-2]]\ndf['lag3'] = np.r_[np.nan, np.nan, np.nan, arr[:-3]]\ndf", "difficulty": "hard", "tags": ["pandas", "numpy", "time series", "lag"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP312"}
{"question": "Compute rolling window features using NumPy convolution for maximum performance.", "code": "import numpy as np\nimport pandas as pd\n\n# Create sample DataFrame\ndf = pd.DataFrame({'x': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]})\nwindow = 3\nkernel = np.ones(window)\nrolling_sum = np.convolve(df['x'].to_numpy(), kernel, mode='valid')\ndf['roll_sum'] = np.r_[[np.nan] * (window - 1), rolling_sum]\ndf", "difficulty": "hard", "tags": ["pandas", "numpy", "rolling", "performance"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP313"}
{"question": "Detect outliers using NumPy percentiles while keeping pandas indexing.", "code": "import numpy as np\nimport pandas as pd\n\n# Create sample DataFrame with outliers\ndf = pd.DataFrame({'x': [1, 2, 3, 100, 4, 5, 200, 6, 7, 8]})\nq1, q3 = np.percentile(df['x'], [25, 75])\niqr = q3 - q1\noutliers = (df['x'] < q1 - 1.5 * iqr) | (df['x'] > q3 + 1.5 * iqr)\ndf['is_outlier'] = outliers\ndf", "difficulty": "medium", "tags": ["pandas", "numpy", "outlier detection"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP314"}
{"question": "Create target-encoded features using out-of-fold statistics to avoid data leakage.", "code": "import numpy as np\nimport pandas as pd\n\n# Set seed for reproducibility\nnp.random.seed(42)\n# Create sample DataFrame\ndf = pd.DataFrame({'cat': ['A', 'A', 'B', 'B', 'C', 'C', 'D', 'D'], 'y': [1, 0, 1, 0, 1, 0, 1, 0]})\nk = 4\nfolds = np.arange(len(df)) % k\nglobal_mean = df['y'].mean()\nenc = np.zeros(len(df))\nfor f in range(k):\n    train = df[folds != f]\n    stats = train.groupby('cat')['y'].mean()\n    enc[folds == f] = df.loc[folds == f, 'cat'].map(stats).fillna(global_mean)\ndf['cat_oof_mean'] = enc\ndf", "difficulty": "hard", "tags": ["feature engineering", "target encoding", "leakage"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP315"}
{"question": "Generate interaction features only for statistically informative pairs using NumPy correlation filtering.", "code": "import numpy as np\nimport pandas as pd\n\n# Set seed for reproducibility\nnp.random.seed(42)\n# Create sample DataFrame\nX = pd.DataFrame(np.random.randn(100, 5), columns=list('ABCDE'))\ncorr = np.abs(np.corrcoef(X.T))\npairs = np.argwhere((corr > 0.3) & (corr < 0.99))\nfor i, j in pairs:\n    if i < j:\n        X[f'{X.columns[i]}_x_{X.columns[j]}'] = X.iloc[:, i] * X.iloc[:, j]\nX.head()", "difficulty": "hard", "tags": ["feature engineering", "interaction features", "correlation"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP316"}
{"question": "Create monotonic rank-based features to make models robust to scale and outliers.", "code": "import pandas as pd\nimport numpy as np\n\n# Create sample DataFrame with varied scale\ndf = pd.DataFrame({'x': [10, 100, 50, 20, 5, 1000, 1, 200]})\ndf['x_rank_pct'] = df['x'].rank(pct=True)\ndf", "difficulty": "medium", "tags": ["feature engineering", "ranking", "robustness"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP317"}
{"question": "Generate exponentially weighted lag features to capture temporal decay in time-series models.", "code": "import numpy as np\nimport pandas as pd\n\n# Create sample DataFrame\ndf = pd.DataFrame({'x': [10, 12, 11, 15, 18, 16, 20, 22]})\nalpha = 0.6\narr = df['x'].to_numpy()\newm = np.zeros_like(arr, dtype=float)\newm[0] = arr[0]\nfor i in range(1, len(arr)):\n    ewm[i] = alpha * arr[i] + (1 - alpha) * ewm[i - 1]\ndf['x_ewm'] = ewm\ndf", "difficulty": "hard", "tags": ["feature engineering", "time series", "decay"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP318"}
{"question": "Encode cyclic features correctly using sine and cosine transforms.", "code": "import numpy as np\nimport pandas as pd\n\n# Create sample DataFrame with hour data\ndf = pd.DataFrame({'hour': [0, 6, 12, 18, 23, 3, 9, 15, 21]})\ndf['hour_sin'] = np.sin(2 * np.pi * df['hour'] / 24)\ndf['hour_cos'] = np.cos(2 * np.pi * df['hour'] / 24)\ndf", "difficulty": "medium", "tags": ["feature engineering", "cyclic features", "encoding"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP319"}
{"question": "Apply log-scaling to reduce skewness and stabilize variance in strictly positive features.", "code": "import numpy as np\nimport pandas as pd\n\n# Create sample DataFrame with skewed data\ndf = pd.DataFrame({'x': [1, 2, 5, 20, 100, 500, 1000, 0.5, 0.1]})\ndf['x_log'] = np.log1p(df['x'])\ndf", "difficulty": "medium", "tags": ["feature transformation", "log scaling", "linear models"], "core_category": "ML_MODELING", "id": "SNP320"}
{"question": "Create signed logarithmic features to handle skewed data with negative values.", "code": "import numpy as np\nimport pandas as pd\n\n# Create sample DataFrame with negative and positive values\ndf = pd.DataFrame({'x': [-100, -10, -1, 0, 1, 10, 100, -50, 50]})\ndf['x_signed_log'] = np.sign(df['x']) * np.log1p(np.abs(df['x']))\ndf", "difficulty": "hard", "tags": ["feature transformation", "signed log", "robustness"], "core_category": "ML_MODELING", "id": "SNP321"}
{"question": "Use rank-based normalization to make linear models invariant to monotonic transformations.", "code": "import pandas as pd\nimport numpy as np\n\n# Create sample DataFrame\ndf = pd.DataFrame({'x': [10, 100, 50, 20, 5, 1000, 1, 200, 300, 15]})\ndf['x_rank'] = df['x'].rank(pct=True)\ndf", "difficulty": "medium", "tags": ["feature transformation", "ranking", "robust linear models"], "core_category": "ML_MODELING", "id": "SNP322"}
{"question": "Orthogonalize correlated features using PCA-style rotation to reduce multicollinearity.", "code": "import numpy as np\nimport pandas as pd\n\n# Create sample DataFrame with correlated features\nX = pd.DataFrame({'x1': [1, 2, 3, 4, 5, 6], 'x2': [2, 4, 6, 8, 10, 12], 'x3': [1, 3, 2, 4, 3, 5]})\nXc = X - X.mean()\nU, S, Vt = np.linalg.svd(Xc, full_matrices=False)\nX['pc1'] = U[:, 0] * S[0]\nX['pc2'] = U[:, 1] * S[1]\nX", "difficulty": "hard", "tags": ["feature transformation", "multicollinearity", "linear algebra"], "core_category": "ML_MODELING", "id": "SNP323"}
{"question": "Introduce controlled polynomial features only after centering to preserve numerical stability.", "code": "import pandas as pd\nimport numpy as np\n\n# Create sample DataFrame\ndf = pd.DataFrame({'x': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]})\nx_centered = df['x'] - df['x'].mean()\ndf['x_sq'] = x_centered ** 2\ndf['x_cube'] = x_centered ** 3\ndf", "difficulty": "medium", "tags": ["feature transformation", "polynomial", "numerical stability"], "core_category": "ML_MODELING", "id": "SNP324"}
{"question": "Standardize numerical features using training statistics to stabilize neural network optimization.", "code": "import numpy as np\nimport pandas as pd\n\n# Create sample DataFrame\ndf = pd.DataFrame({'x': [1, 2, 3, 4, 5, 10, 20, 30, 40, 50]})\nmu = df['x'].mean()\nsigma = df['x'].std()\ndf['x_std'] = (df['x'] - mu) / sigma\ndf", "difficulty": "medium", "tags": ["deep learning", "standardization", "tabular"], "core_category": "ML_MODELING", "id": "SNP325"}
{"question": "Bucket continuous features into quantiles to improve representation learning in embeddings.", "code": "import pandas as pd\nimport numpy as np\n\n# Create sample DataFrame\ndf = pd.DataFrame({'x': [1, 5, 10, 20, 50, 100, 200, 500, 1000, 5000]})\ndf['x_bin'] = pd.qcut(df['x'], q=4, labels=False, duplicates='drop')\ndf", "difficulty": "medium", "tags": ["deep learning", "quantization", "embeddings"], "core_category": "ML_MODELING", "id": "SNP326"}
{"question": "Replace missing values with learned indicators instead of mean imputation.", "code": "import pandas as pd\nimport numpy as np\n\n# Create sample DataFrame with missing values\ndf = pd.DataFrame({'x': [1, None, 3, None, 5, 6, None, 8, 9, 10]})\ndf['x_missing'] = df['x'].isna().astype(int)\ndf['x_filled'] = df['x'].fillna(df['x'].mean())\ndf", "difficulty": "medium", "tags": ["deep learning", "missing values", "feature flags"], "core_category": "ML_MODELING", "id": "SNP327"}
{"question": "Apply logarithmic compression to heavy-tailed features before feeding into neural networks.", "code": "import numpy as np\nimport pandas as pd\n\n# Create sample DataFrame with heavy-tailed data\ndf = pd.DataFrame({'x': [1, 10, 100, 1000, 10000, 0.1, 0.01, 500, 5000, 100000]})\ndf['x_log'] = np.log1p(df['x'])\ndf", "difficulty": "medium", "tags": ["deep learning", "log transform", "stability"], "core_category": "ML_MODELING", "id": "SNP328"}
{"question": "Encode categorical features as integer indices suitable for embedding layers.", "code": "import pandas as pd\nimport numpy as np\n\n# Create sample DataFrame with categorical data\ndf = pd.DataFrame({'cat': ['A', 'B', 'A', 'C', 'B', 'D', 'A', 'C', 'B', 'D']})\ndf['cat_idx'] = df['cat'].astype('category').cat.codes\ndf", "difficulty": "medium", "tags": ["deep learning", "categorical encoding", "embeddings"], "core_category": "ML_MODELING", "id": "SNP329"}
{"question": "How to create correlation matrix heatmap?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Create sample DataFrame\ndf = pd.DataFrame(np.random.randn(100, 5), columns=['A', 'B', 'C', 'D', 'E'])\ncorr = df.select_dtypes(include=[np.number]).corr()\nsns.heatmap(corr, annot=True, cmap='coolwarm', center=0)\nplt.title('Correlation Matrix')\nplt.tight_layout()\nplt.show()", "difficulty": "easy", "tags": ["eda", "correlation", "seaborn", "visualization"], "core_category": "ML_VISUALIZATION", "id": "SNP364"}
{"question": "How to pivot table for analysis?", "code": "import pandas as pd\nimport numpy as np\n\n# Create sample DataFrame\ndf = pd.DataFrame({\n    'region': ['North', 'North', 'South', 'South', 'East', 'East'],\n    'month': ['Jan', 'Feb', 'Jan', 'Feb', 'Jan', 'Feb'],\n    'sales': [100, 150, 200, 250, 300, 350]\n})\npivot_table = pd.pivot_table(df, values='sales', index='region', columns='month', aggfunc='sum', fill_value=0)\npivot_table", "difficulty": "medium", "tags": ["pivot", "aggregation", "groupby"], "core_category": "DATA_TRANSFORMATION", "id": "SNP365"}
{"question": "How to group and aggregate?", "code": "import pandas as pd\nimport numpy as np\n\n# Create sample DataFrame\ndf = pd.DataFrame({\n    'category': ['A', 'A', 'B', 'B', 'A', 'B', 'C', 'C'],\n    'sales': [100, 150, 200, 250, 120, 230, 300, 350],\n    'profit': [20, 30, 40, 50, 25, 45, 60, 70]\n})\ngrouped = df.groupby('category').agg({\n    'sales': ['sum', 'mean', 'count'],\n    'profit': 'mean'\n}).round(2)\ngrouped", "difficulty": "medium", "tags": ["groupby", "aggregation", "summary"], "core_category": "DATA_PREPROCESSING", "id": "SNP366"}
{"question": "How to stack/unstack data?", "code": "import pandas as pd\nimport numpy as np\n\n# Create sample DataFrame\ndf = pd.DataFrame({\n    'date': ['2023-01-01', '2023-01-02', '2023-01-01', '2023-01-02'],\n    'ticker': ['AAPL', 'AAPL', 'GOOGL', 'GOOGL'],\n    'price': [150, 152, 2800, 2820],\n    'volume': [1000000, 1200000, 500000, 550000]\n})\n# Stack to long format\nlong_df = df.set_index(['date', 'ticker']).stack().reset_index(name='value')\nlong_df.columns = ['date', 'ticker', 'metric', 'value']\n# Unstack to wide format\nwide_df = df.pivot(index='date', columns='ticker', values='price')\n# Melt\ndf_melted = pd.melt(df, id_vars=['date', 'ticker'], value_vars=['price', 'volume'])\nlong_df.head(), wide_df.head(), df_melted.head()", "difficulty": "hard", "tags": ["reshape", "pivot", "melt", "stack"], "core_category": "DATA_TRANSFORMATION", "id": "SNP367"}
{"question": "How to handle missing values?", "code": "import pandas as pd\nimport numpy as np\n\n# Create sample DataFrame with missing values\ndf = pd.DataFrame({\n    'numeric_col': [1, 2, np.nan, 4, 5, np.nan, 7, 8],\n    'categorical_col': ['A', 'B', np.nan, 'A', 'C', 'B', np.nan, 'A'],\n    'other_col': [10, 20, 30, 40, 50, 60, 70, 80]\n})\n\n# Check missing values\nprint(df.isnull().sum())\n\n# Fill missing values\ndf_filled = df.copy()\ndf_filled['numeric_col'] = df_filled['numeric_col'].fillna(df_filled['numeric_col'].median())\ndf_filled['categorical_col'] = df_filled['categorical_col'].fillna(df_filled['categorical_col'].mode()[0])\n\ndf_filled", "difficulty": "medium", "tags": ["data_cleaning", "missing_values", "preprocessing"], "core_category": "DATA_PREPROCESSING", "id": "SNP368"}
{"question": "How to create dummy variables?", "code": "import pandas as pd\nimport numpy as np\n\n# Create sample DataFrame\ndf = pd.DataFrame({\n    'id': [1, 2, 3, 4, 5],\n    'category': ['A', 'B', 'A', 'C', 'B'],\n    'region': ['North', 'South', 'North', 'East', 'West'],\n    'value': [100, 200, 150, 300, 250]\n})\n\n# Method 1: Create dummies for one column and concatenate\ndummies = pd.get_dummies(df['category'], prefix='cat', drop_first=True)\ndf_with_dummies = pd.concat([df, dummies], axis=1)\n\n# Method 2: One-hot encode multiple columns\ndf_encoded = pd.get_dummies(df, columns=['category', 'region'], drop_first=True)\n\ndf_with_dummies.head(), df_encoded.head()", "difficulty": "easy", "tags": ["encoding", "dummies", "categorical"], "core_category": "ML_MODELING", "id": "SNP369"}
{"question": "How to normalize data columns?", "code": "import pandas as pd\nimport numpy as np\n\n# Create sample DataFrame\ndf = pd.DataFrame({\n    'value': [10, 20, 30, 40, 50, 100, 200, 500, 1000, 2000],\n    'other': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n})\n\n# Min-Max normalization\ndf['value_minmax'] = (df['value'] - df['value'].min()) / (df['value'].max() - df['value'].min())\n\n# Z-score normalization\ndf['value_zscore'] = (df['value'] - df['value'].mean()) / df['value'].std()\n\n# Robust normalization (using median and IQR)\nq1, q3 = df['value'].quantile([0.25, 0.75])\niqr = q3 - q1\ndf['value_robust'] = (df['value'] - df['value'].median()) / iqr\n\ndf", "difficulty": "medium", "tags": ["normalization", "scaling", "preprocessing"], "core_category": "ML_MODELING", "id": "SNP370"}
{"question": "How to create binning/categorization?", "code": "import pandas as pd\nimport numpy as np\n\n# Create sample DataFrame\ndf = pd.DataFrame({\n    'age': [18, 25, 35, 42, 55, 67, 73, 81, 90, 95],\n    'sales': [500, 1200, 3000, 4500, 8000, 12000, 15000, 20000, 25000, 30000],\n    'name': ['Alice', 'Bob', 'Charlie', 'David', 'Eve', 'Frank', 'Grace', 'Henry', 'Ivy', 'Jack']\n})\n\n# Equal-width bins (5 bins)\ndf['age_group'] = pd.cut(df['age'], bins=5, labels=['0-20', '21-40', '41-60', '61-80', '81+'])\n\n# Custom bins for sales\ndf['sales_tier'] = pd.cut(df['sales'], \n                         bins=[0, 1000, 5000, 10000, 20000, np.inf], \n                         labels=['Very Low', 'Low', 'Medium', 'High', 'Very High'])\n\n# Quantile-based binning\ndf['sales_quantile'] = pd.qcut(df['sales'], q=4, labels=['Q1', 'Q2', 'Q3', 'Q4'])\n\ndf", "difficulty": "medium", "tags": ["binning", "categorization", "discretization"], "core_category": "ML_MODELING", "id": "SNP371"}
{"question": "How to detect outliers with IQR?", "code": "import pandas as pd\nimport numpy as np\n\n# Create sample DataFrame with outliers\ndf = pd.DataFrame({\n    'col': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 100, 200],\n    'name': ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L']\n})\n\n# Calculate IQR\nQ1, Q3 = df['col'].quantile([0.25, 0.75])\nIQR = Q3 - Q1\n\n# Define outlier boundaries\nlower_bound = Q1 - 1.5 * IQR\nupper_bound = Q3 + 1.5 * IQR\n\n# Detect outliers\noutliers = df[(df['col'] < lower_bound) | (df['col'] > upper_bound)]\n\n# Mark outliers in original dataframe\ndf['is_outlier'] = (df['col'] < lower_bound) | (df['col'] > upper_bound)\n\nprint(f\"Q1: {Q1}, Q3: {Q3}, IQR: {IQR}\")\nprint(f\"Lower bound: {lower_bound}, Upper bound: {upper_bound}\")\nprint(f\"Outliers found: {len(outliers)}\")\noutliers, df", "difficulty": "medium", "tags": ["outliers", "statistics", "iqr"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP372"}
{"question": "How to calculate rank and percentile?", "code": "import pandas as pd\nimport numpy as np\n\n# Create sample DataFrame\ndf = pd.DataFrame({\n    'sales': [100, 200, 150, 300, 250, 400, 350, 500, 450, 600],\n    'name': ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J']\n})\n\n# Rank (dense ranking)\ndf['sales_rank'] = df['sales'].rank(method='dense', ascending=False)\n\n# Percentile\ndf['percentile'] = (df['sales'].rank(pct=True) * 100).round(1)\n\n# Quartile\ndf['quartile'] = pd.qcut(df['sales'], q=4, labels=['Q1', 'Q2', 'Q3', 'Q4'])\n\n# Decile\ndf['decile'] = pd.qcut(df['sales'], q=10, labels=[f'D{i}' for i in range(1, 11)])\n\ndf.sort_values('sales', ascending=False)", "difficulty": "medium", "tags": ["ranking", "percentile", "quantile"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP373"}
{"question": "How to calculate value counts with percentages?", "code": "import pandas as pd\nimport numpy as np\n\n# Create sample DataFrame\ndf = pd.DataFrame({\n    'category': ['A', 'B', 'A', 'C', 'B', 'A', 'A', 'B', 'C', 'C', 'A', 'B'],\n    'value': [10, 20, 30, 40, 50, 60, 70, 80, 90, 100, 110, 120]\n})\n\n# Value counts\nvalue_counts = df['category'].value_counts()\n\n# Percentage\npercentage = (df['category'].value_counts(normalize=True) * 100).round(1)\n\n# Combine into a single DataFrame\ndistribution = pd.DataFrame({\n    'count': value_counts,\n    'percentage': percentage\n})\n\n# Add cumulative percentage\ndistribution['cumulative_percentage'] = distribution['percentage'].cumsum()\n\ndistribution", "difficulty": "easy", "tags": ["value_counts", "distribution", "frequency"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP374"}
{"question": "How to calculate moving average?", "code": "import pandas as pd\nimport numpy as np\n\n# Create sample time series DataFrame\ndates = pd.date_range('2023-01-01', periods=50, freq='D')\ndf = pd.DataFrame({\n    'date': dates,\n    'value': np.random.randn(50).cumsum() + 100  # Random walk with trend\n})\ndf.set_index('date', inplace=True)\n\n# Calculate moving averages\ndf['moving_avg_7'] = df['value'].rolling(window=7, min_periods=1).mean()\ndf['moving_avg_14'] = df['value'].rolling(window=14, min_periods=1).mean()\ndf['moving_avg_30'] = df['value'].rolling(window=30, min_periods=1).mean()\n\n# Exponential moving average\ndf['ewm_alpha_0.3'] = df['value'].ewm(alpha=0.3).mean()\ndf['ewm_span_10'] = df['value'].ewm(span=10).mean()\n\ndf.head(20)", "difficulty": "medium", "tags": ["timeseries", "rolling", "moving_average"], "core_category": "DATA_TRANSFORMATION", "id": "SNP375"}
{"question": "How to calculate percentage change?", "code": "import pandas as pd\nimport numpy as np\n\n# Create sample financial data\ndates = pd.date_range('2023-01-01', periods=20, freq='D')\ndf = pd.DataFrame({\n    'date': dates,\n    'price': 100 * (1 + np.random.randn(20) * 0.02).cumprod()\n})\ndf.set_index('date', inplace=True)\n\n# Daily percentage change\ndf['daily_pct_change'] = df['price'].pct_change(periods=1) * 100\n\n# Weekly percentage change (assuming 5 trading days)\ndf['weekly_pct_change'] = df['price'].pct_change(periods=5) * 100\n\n# Monthly percentage change (assuming 21 trading days)\ndf['monthly_pct_change'] = df['price'].pct_change(periods=21) * 100\n\n# Log returns (for continuous compounding)\ndf['log_return'] = np.log(df['price'] / df['price'].shift(1))\n\n# Cumulative returns\ndf['cumulative_return'] = (1 + df['daily_pct_change']/100).cumprod() - 1\n\ndf.head(15)", "difficulty": "medium", "tags": ["percentage", "returns", "finance"], "core_category": "DATA_TRANSFORMATION", "id": "SNP376"}
{"question": "How to create cumulative sum/percentage?", "code": "import pandas as pd\nimport numpy as np\n\n# Create sample sales data\ndf = pd.DataFrame({\n    'month': ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n    'sales': [1000, 1200, 900, 1500, 1800, 2000, 1700, 1600, 1900, 2100, 2300, 2500]\n})\n\n# Cumulative sum\ndf['cumulative_sum'] = df['sales'].cumsum()\n\n# Cumulative percentage\ndf['cumulative_pct'] = (df['sales'].cumsum() / df['sales'].sum()) * 100\n\n# Running average\ndf['running_avg'] = df['sales'].expanding().mean()\n\n# Running minimum and maximum\ndf['running_min'] = df['sales'].expanding().min()\ndf['running_max'] = df['sales'].expanding().max()\n\n# Year-to-date (assuming data is in order)\ndf['ytd'] = df['sales'].cumsum()\n\ndf", "difficulty": "medium", "tags": ["cumulative", "running_total", "window"], "core_category": "DATA_PREPROCESSING", "id": "SNP377"}
{"question": "How to filter with query method?", "code": "import pandas as pd\nimport numpy as np\n\n# Create sample DataFrame\ndf = pd.DataFrame({\n    'region': ['West', 'East', 'North', 'South', 'West', 'East', 'North', 'South'],\n    'sales': [1500, 2000, 1200, 1800, 2200, 1900, 1400, 2100],\n    'category': ['A', 'B', 'A', 'C', 'B', 'A', 'C', 'B'],\n    'price': [45, 60, 35, 75, 55, 40, 65, 50],\n    'revenue': [67500, 120000, 42000, 135000, 121000, 76000, 91000, 105000]\n})\n\n# Simple query\nfiltered = df.query('sales > 1500 and region == \"West\"')\n\n# With variables\nthreshold = 2000\nresult = df.query('revenue > @threshold')\n\n# Complex conditions with parentheses\ncomplex_filter = df.query('(category == \"A\" | category == \"B\") & price > 40')\n\n# Multiple variable query\nmin_sales = 1000\nmax_price = 70\nfinal_result = df.query('sales > @min_sales and price < @max_price')\n\nfiltered, result.head(), complex_filter.head(), final_result.head()", "difficulty": "medium", "tags": ["query", "filtering", "pandas"], "core_category": "DATA_PREPROCESSING", "id": "SNP378"}
{"question": "How to create publication-ready correlation matrix?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Create sample DataFrame\nnp.random.seed(42)\ndf = pd.DataFrame(np.random.randn(100, 6),\n                  columns=['Revenue', 'Profit', 'Cost', 'Sales', 'Marketing', 'R&D'])\n\n# Calculate correlation matrix\ncorr = df.corr()\n\n# Create heatmap\nplt.figure(figsize=(10, 8))\n\n# Mask upper triangle\nmask = np.triu(np.ones_like(corr, dtype=bool))\n\n# Create heatmap\nsns.heatmap(corr, mask=mask, annot=True, fmt='.2f', cmap='RdBu_r', center=0,\n            square=True, linewidths=0.5, cbar_kws={\"shrink\": 0.8},\n            annot_kws={\"size\": 10})\n\n# Customize labels\nplt.title('Correlation Matrix of Business Metrics', fontsize=14, fontweight='bold')\nplt.xticks(rotation=45, ha='right')\nplt.yticks(rotation=0)\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["correlation", "heatmap", "seaborn", "publication"], "core_category": "ML_VISUALIZATION", "id": "SNP379"}
{"question": "How to create violin plot with swarm overlay?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Create sample DataFrame\nnp.random.seed(42)\n\n# Generate data for different groups\ngroups = ['Group A', 'Group B', 'Group C', 'Group D', 'Group E']\ndata = []\nfor i, group in enumerate(groups):\n    n_samples = np.random.randint(30, 50)\n    # Different distributions for each group\n    if i == 0:\n        values = np.random.normal(50, 10, n_samples)\n    elif i == 1:\n        values = np.random.normal(60, 15, n_samples)\n    elif i == 2:\n        values = np.random.normal(55, 20, n_samples)\n    elif i == 3:\n        values = np.random.exponential(30, n_samples)\n    else:\n        values = np.random.uniform(40, 80, n_samples)\n    \n    for val in values:\n        data.append({'group': group, 'value': val})\n\ndf = pd.DataFrame(data)\n\n# Create violin plot with swarm overlay\nplt.figure(figsize=(12, 6))\n\n# Violin plot\nsns.violinplot(x='group', y='value', data=df, inner=None, palette='Set2',\n               saturation=0.8, linewidth=1.5)\n\n# Swarm plot overlay\nsns.swarmplot(x='group', y='value', data=df, color='black', alpha=0.7,\n              size=3, edgecolor='white', linewidth=0.5)\n\n# Customize plot\nplt.title('Distribution of Values by Group with Individual Points', fontsize=14, fontweight='bold')\nplt.xlabel('Group', fontsize=12)\nplt.ylabel('Value', fontsize=12)\nplt.xticks(fontsize=11)\nplt.yticks(fontsize=11)\nplt.grid(True, alpha=0.3, linestyle='--')\nplt.tight_layout()\nplt.show()", "difficulty": "hard", "tags": ["violinplot", "swarmplot", "distribution"], "core_category": "VISUALIZATION_BASICS", "id": "SNP380"}
{"question": "How to create annotated bar plot with error bars?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\nimport pandas as pd\n\n# Create sample data\ngroups = ['A', 'B', 'C', 'D', 'E']\nmeans = [25.3, 42.1, 38.7, 31.5, 49.2]\nerrors = [2.5, 3.1, 4.2, 2.8, 3.7]\n\n# Create bar plot\nplt.figure(figsize=(10, 6))\nbars = plt.bar(x=groups, height=means, yerr=errors, capsize=10,\n               color=plt.cm.Set3(np.arange(len(groups))),\n               edgecolor='black', linewidth=1.5,\n               error_kw={'elinewidth': 2, 'ecolor': 'darkred', 'capsize': 10, 'capthick': 2})\n\n# Add annotations on top of bars\nfor bar, val, err in zip(bars, means, errors):\n    plt.text(bar.get_x() + bar.get_width()/2, bar.get_height() + err + 1,\n             f'{val:.1f} \u00b1 {err:.1f}', ha='center', va='bottom',\n             fontsize=10, fontweight='bold', color='darkblue')\n\n# Customize plot\nplt.title('Group Means with Standard Errors', fontsize=14, fontweight='bold')\nplt.xlabel('Experimental Group', fontsize=12)\nplt.ylabel('Measurement Value', fontsize=12)\nplt.ylim(0, max(means) + max(errors) + 10)\nplt.grid(True, alpha=0.3, linestyle='--', axis='y')\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["barplot", "annotations", "errorbars"], "core_category": "VISUALIZATION_BASICS", "id": "SNP381"}
{"question": "How to create 3D scatter plot with color gradient?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\nfrom mpl_toolkits.mplot3d import Axes3D\nimport pandas as pd\n\n# Create sample 3D data\nnp.random.seed(42)\nn_points = 200\n\n# Generate data with clusters\nx = np.random.randn(n_points)\ny = np.random.randn(n_points)\nz = x**2 + y**2 + np.random.randn(n_points) * 0.5\nvalues = np.sin(x) * np.cos(y) + np.random.randn(n_points) * 0.1\n\n# Create 3D scatter plot\nfig = plt.figure(figsize=(12, 10))\nax = fig.add_subplot(111, projection='3d')\n\n# Scatter plot with color gradient\nsc = ax.scatter(x, y, z, c=values, cmap='viridis', s=50, alpha=0.7,\n                edgecolor='black', linewidth=0.5, depthshade=True)\n\n# Add colorbar\ncbar = fig.colorbar(sc, shrink=0.5, aspect=20, pad=0.1)\ncbar.set_label('Intensity Value', fontsize=12)\n\n# Customize axes\nax.set_xlabel('X Axis', fontsize=12, labelpad=10)\nax.set_ylabel('Y Axis', fontsize=12, labelpad=10)\nax.set_zlabel('Z Axis', fontsize=12, labelpad=10)\n\n# Set title\nax.set_title('3D Scatter Plot with Color Gradient', fontsize=14, fontweight='bold', pad=20)\n\n# Adjust viewing angle\nax.view_init(elev=25, azim=45)\n\nplt.tight_layout()\nplt.show()", "difficulty": "hard", "tags": ["3dplot", "scatter", "matplotlib"], "core_category": "VISUALIZATION_BASICS", "id": "SNP382"}
{"question": "How to create faceted grid with custom palette?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Create sample DataFrame\nnp.random.seed(42)\nn_samples = 300\n\n# Generate data\ndata = []\ncategories = ['Category A', 'Category B', 'Category C', 'Category D', 'Category E', 'Category F']\ntypes = ['Type X', 'Type Y', 'Type Z']\n\nfor category in categories:\n    for t in types:\n        n = np.random.randint(10, 25)\n        for _ in range(n):\n            data.append({\n                'category': category,\n                'type': t,\n                'x': np.random.randn() * 10 + ord(category[0])/2,\n                'y': np.random.randn() * 8 + ord(t[0])/3\n            })\n\ndf = pd.DataFrame(data)\n\n# Create faceted grid\ng = sns.FacetGrid(df, col='category', hue='type', col_wrap=3,\n                   palette='husl', height=4, aspect=1.2,\n                   sharex=True, sharey=True)\n\n# Map scatterplot\ng.map(sns.scatterplot, 'x', 'y', s=40, alpha=0.8, edgecolor='white', linewidth=0.5)\n\n# Add legend\ng.add_legend(title='Type', fontsize=10, title_fontsize=12)\n\n# Customize titles\ng.set_titles(\"{col_name}\", fontsize=12, fontweight='bold')\n\n# Set axis labels\ng.set_axis_labels(\"X Axis\", \"Y Axis\", fontsize=11)\n\n# Adjust x and y ticks\ng.set(xticks=np.arange(-10, 20, 5), yticks=np.arange(-10, 20, 5))\n\n# Add grid\ng.map(plt.grid, True, alpha=0.3, linestyle='--')\n\nplt.suptitle('Faceted Grid Plot by Category and Type', fontsize=14, fontweight='bold', y=1.02)\nplt.tight_layout()\nplt.show()", "difficulty": "hard", "tags": ["facetgrid", "subplots", "seaborn"], "core_category": "VISUALIZATION_BASICS", "id": "SNP383"}
{"question": "How to create interactive plotly parallel coordinates?", "code": "import plotly.express as px\nimport pandas as pd\nimport numpy as np\n\n# Create sample DataFrame\nnp.random.seed(42)\nn_samples = 200\n\n# Generate data with different clusters\ndata = []\nfor i in range(n_samples):\n    cluster = np.random.choice(['A', 'B', 'C', 'D'])\n    if cluster == 'A':\n        features = np.random.normal([50, 30, 20, 40, 25], [5, 3, 2, 4, 2])\n    elif cluster == 'B':\n        features = np.random.normal([70, 40, 30, 50, 35], [6, 4, 3, 5, 3])\n    elif cluster == 'C':\n        features = np.random.normal([30, 20, 10, 30, 15], [4, 2, 1, 3, 1])\n    else:\n        features = np.random.normal([60, 35, 25, 45, 30], [5, 3, 2, 4, 2])\n    \n    data.append({\n        'Feature1': features[0],\n        'Feature2': features[1],\n        'Feature3': features[2],\n        'Feature4': features[3],\n        'Feature5': features[4],\n        'Cluster': cluster\n    })\n\ndf = pd.DataFrame(data)\n\n# Define features for parallel coordinates\nfeatures = ['Feature1', 'Feature2', 'Feature3', 'Feature4', 'Feature5']\n\n# Create parallel coordinates plot\nfig = px.parallel_coordinates(df,\n                              color='Cluster',\n                              dimensions=features,\n                              color_continuous_scale=px.colors.diverging.Tealrose,\n                              labels={col: col.replace('_', ' ').title() for col in features},\n                              title='Parallel Coordinates Plot of Feature Space')\n\n# Customize layout\nfig.update_layout(\n    title_font_size=16,\n    title_x=0.5,\n    height=600,\n    width=900,\n    font=dict(size=11)\n)\n\nfig.show()", "difficulty": "medium", "tags": ["parallel", "plotly", "interactive"], "core_category": "VISUALIZATION_BASICS", "id": "SNP384"}
{"question": "How to perform efficient groupby with multiple aggregations?", "code": "import pandas as pd\nimport numpy as np\n\n# Create sample DataFrame\nnp.random.seed(42)\ndf = pd.DataFrame({\n    'category': np.random.choice(['A', 'B', 'C', 'D'], size=1000),\n    'sales': np.random.exponential(1000, 1000),\n    'profit': np.random.normal(200, 50, 1000),\n    'quantity': np.random.randint(1, 100, 1000),\n    'region': np.random.choice(['North', 'South', 'East', 'West'], size=1000)\n})\n\n# Define complex aggregations\naggregations = {\n    'sales': ['sum', 'mean', 'std', 'min', 'max', 'count'],\n    'profit': ['mean', 'std'],\n    'quantity': ['sum', 'mean'],\n    'profit': lambda x: x[x > 0].mean()  # Average of positive profits only\n}\n\n# Perform groupby with multiple aggregations\nresult = df.groupby('category').agg(aggregations).round(2)\n\n# Flatten multi-level column names\nresult.columns = ['_'.join(col).strip().replace('<lambda>', 'positive_mean') \n                  for col in result.columns.values]\n\n# Reset index for cleaner output\nresult = result.reset_index()\n\nresult", "difficulty": "hard", "tags": ["groupby", "aggregation", "lambda", "pandas"], "core_category": "DATA_PREPROCESSING", "id": "SNP385"}
{"question": "How to create memory-efficient pivot table?", "code": "import pandas as pd\nimport numpy as np\n\n# Create sample time series DataFrame\nnp.random.seed(42)\ndates = pd.date_range('2023-01-01', periods=365, freq='D')\ncategories = ['Electronics', 'Clothing', 'Groceries', 'Furniture']\nregions = ['North', 'South', 'East', 'West']\n\n# Generate data\ndata = []\nfor date in dates:\n    for category in categories:\n        for region in regions:\n            data.append({\n                'date': date,\n                'category': category,\n                'region': region,\n                'value': np.random.randint(100, 1000)\n            })\n\ndf = pd.DataFrame(data)\n\n# Create memory-efficient pivot table using Grouper\npivot = df.pivot_table(values='value',\n                       index=pd.Grouper(freq='M', key='date'),\n                       columns=['category', 'region'],\n                       aggfunc='mean',\n                       fill_value=0,\n                       margins=True,\n                       margins_name='Total')\n\n# Sort columns for better readability\npivot = pivot.sort_index(axis=1)\n\n# Display first few rows\npivot.head()", "difficulty": "medium", "tags": ["pivot_table", "grouper", "memory"], "core_category": "DATA_TRANSFORMATION", "id": "SNP386"}
{"question": "How to merge with indicator for source tracking?", "code": "import pandas as pd\nimport numpy as np\n\n# Create two sample DataFrames\ndf1 = pd.DataFrame({\n    'key': ['A', 'B', 'C', 'D', 'E'],\n    'value1': [1, 2, 3, 4, 5],\n    'data1': ['a1', 'b1', 'c1', 'd1', 'e1']\n})\n\ndf2 = pd.DataFrame({\n    'key': ['C', 'D', 'E', 'F', 'G'],\n    'value2': [30, 40, 50, 60, 70],\n    'data2': ['c2', 'd2', 'e2', 'f2', 'g2']\n})\n\n# Merge with indicator to track source\nmerged = pd.merge(df1, df2, on='key', how='outer', indicator=True)\n\n# Count merge results\ntracking = merged['_merge'].value_counts()\nprint(\"Merge Tracking:\")\nprint(tracking)\nprint(\"\\n\" + \"=\"*50 + \"\\n\")\n\n# Split based on merge result\nleft_only = merged[merged['_merge'] == 'left_only']\nright_only = merged[merged['_merge'] == 'right_only']\nboth = merged[merged['_merge'] == 'both']\n\nprint(f\"Rows only in df1 (left_only): {len(left_only)}\")\nprint(f\"Rows only in df2 (right_only): {len(right_only)}\")\nprint(f\"Rows in both dataframes: {len(both)}\")\n\n# Optionally drop the indicator column for final result\nmerged_final = merged.drop('_merge', axis=1)\n\n# Display results\nprint(\"\\nLeft only rows:\")\nprint(left_only)\nprint(\"\\nRight only rows:\")\nprint(right_only)\nprint(\"\\nMerged dataframe (without indicator):\")\nmerged_final.head()", "difficulty": "medium", "tags": ["merge", "indicator", "tracking"], "core_category": "DATA_PREPROCESSING", "id": "SNP387"}
{"question": "How to perform asof merge for time series alignment?", "code": "import pandas as pd\nimport numpy as np\n\n# Sample data\ntrades = pd.DataFrame({\n    'timestamp': pd.to_datetime(['2023-01-01 10:00:00', '2023-01-01 10:00:02', '2023-01-01 10:00:05']),\n    'ticker': ['AAPL', 'AAPL', 'GOOG'],\n    'price': [150, 151, 2800]\n})\n\nquotes = pd.DataFrame({\n    'timestamp': pd.to_datetime(['2023-01-01 10:00:01', '2023-01-01 10:00:03', '2023-01-01 10:00:04']),\n    'ticker': ['AAPL', 'AAPL', 'GOOG'],\n    'bid': [149.9, 150.5, 2799.5],\n    'ask': [150.1, 151.5, 2800.5]\n})\n\nmerged = pd.merge_asof(trades.sort_values('timestamp'),\n                        quotes.sort_values('timestamp'),\n                        on='timestamp', by='ticker',\n                        tolerance=pd.Timedelta('2s'), direction='nearest')\nmerged", "difficulty": "hard", "tags": ["merge_asof", "timeseries", "alignment"], "core_category": "DATA_PREPROCESSING", "id": "SNP388"}
{"question": "How to vectorize string operations with conditions?", "code": "import pandas as pd\nimport numpy as np\n\n# Sample data\ndf = pd.DataFrame({\n    'text': ['System error detected', 'Warning: low memory', 'Normal operation', 'Error in module']\n})\n\nconditions = [\n    df['text'].str.contains('error', case=False),\n    df['text'].str.contains('warning', case=False)\n]\nchoices = ['Error', 'Warning']\ndf['status'] = np.select(conditions, choices, default='Normal')\ndf", "difficulty": "medium", "tags": ["string", "vectorization", "numpy"], "core_category": "ARRAY_OPERATIONS", "id": "SNP389"}
{"question": "How to create rolling features with multiple windows?", "code": "import pandas as pd\nimport numpy as np\n\n# Sample time series\ndf = pd.DataFrame({'value': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]})\n\nwindows = [3, 5, 7]\nfor w in windows:\n    df[f'rolling_mean_{w}'] = df['value'].rolling(window=w, min_periods=1).mean()\n    df[f'rolling_std_{w}'] = df['value'].rolling(window=w, min_periods=1).std()\n    df[f'zscore_{w}'] = (df['value'] - df[f'rolling_mean_{w}']) / df[f'rolling_std_{w}'].replace(0, 1)\ndf", "difficulty": "hard", "tags": ["rolling", "features", "timeseries"], "core_category": "ML_MODELING", "id": "SNP390"}
{"question": "How to perform efficient one-hot encoding with sparse output?", "code": "from sklearn.preprocessing import OneHotEncoder\nimport pandas as pd\n\n# Sample data\ndf = pd.DataFrame({'category': ['A', 'B', 'A', 'C', 'B']})\n\nencoder = OneHotEncoder(sparse_output=True, drop='first', handle_unknown='ignore')\nencoded = encoder.fit_transform(df[['category']])\nfeature_names = encoder.get_feature_names_out(['category'])\nencoded.toarray(), feature_names", "difficulty": "medium", "tags": ["encoding", "sparse", "sklearn"], "core_category": "ML_MODELING", "id": "SNP391"}
{"question": "How to handle datetime with timezone conversion?", "code": "import pandas as pd\n\n# Sample data\ndf = pd.DataFrame({\n    'timestamp': ['2023-01-01 10:00:00', '2023-01-01 14:30:00']\n})\n\ndf['timestamp_utc'] = pd.to_datetime(df['timestamp']).dt.tz_localize('UTC')\ndf['timestamp_local'] = df['timestamp_utc'].dt.tz_convert('America/New_York')\ndf['hour_of_day'] = df['timestamp_local'].dt.hour\ndf['day_of_week'] = df['timestamp_local'].dt.day_name()\ndf", "difficulty": "medium", "tags": ["datetime", "timezone", "features"], "core_category": "DATA_TRANSFORMATION", "id": "SNP392"}
{"question": "How to create Fourier transform for frequency analysis?", "code": "import numpy as np\nfrom scipy.fft import fft, fftfreq\n\n# Sample signal\nsignal = np.sin(2 * np.pi * 5 * np.linspace(0, 1, 100)) + 0.5 * np.random.randn(100)\nsampling_rate = 100\n\nN = len(signal)\nyf = fft(signal)\nxf = fftfreq(N, 1/sampling_rate)\nmagnitude = np.abs(yf[:N//2])\nfrequencies = xf[:N//2]\nmagnitude[:10], frequencies[:10]", "difficulty": "hard", "tags": ["fft", "fourier", "signal"], "core_category": "SIGNAL_PROCESSING", "id": "SNP393"}
{"question": "How to perform Savitzky-Golay filtering?", "code": "import numpy as np\nfrom scipy.signal import savgol_filter\n\n# Sample signal\nsignal = np.sin(np.linspace(0, 10, 100)) + 0.1 * np.random.randn(100)\n\nsmoothed = savgol_filter(signal, window_length=11, polyorder=3)\nderivative = savgol_filter(signal, window_length=11, polyorder=3, deriv=1)\nlen(smoothed), len(derivative)", "difficulty": "hard", "tags": ["filtering", "smoothing", "signal"], "core_category": "SIGNAL_PROCESSING", "id": "SNP394"}
{"question": "How to create efficient sparse matrix operations?", "code": "from scipy.sparse import csr_matrix\nimport numpy as np\n\n# Create sparse matrix\ndata = np.array([1, 2, 3])\nrows = np.array([0, 1, 2])\ncols = np.array([0, 1, 2])\nsparse_mat = csr_matrix((data, (rows, cols)), shape=(3, 3))\n\nvector = np.array([1, 1, 1])\ndot_product = sparse_mat.dot(vector)\nmatrix_mult = sparse_mat.T @ sparse_mat\ndot_product, matrix_mult.toarray()", "difficulty": "hard", "tags": ["sparse", "matrix", "scipy"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP395"}
{"question": "How to solve linear system efficiently?", "code": "import numpy.linalg as la\nimport numpy as np\n\n# Sample system\nA = np.array([[3, 2], [1, 2]])\nb = np.array([5, 5])\n\n# Using LU decomposition\nlu, piv = la.lu_factor(A)\nsolution = la.lu_solve((lu, piv), b)\nsolution", "difficulty": "hard", "tags": ["linear", "solver", "numpy"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP396"}
{"question": "How to perform vectorized integration?", "code": "import numpy as np\nfrom scipy.integrate import quad, simps, trapz\n\n# Sample data\nx = np.linspace(0, np.pi, 100)\ny = np.sin(x)\n\nintegral_trapz = trapz(y, x=x)\nintegral_simpson = simps(y, x=x)\nintegral_quad, error = quad(lambda t: np.sin(t), 0, np.pi)\nintegral_trapz, integral_simpson, integral_quad", "difficulty": "medium", "tags": ["integration", "scipy", "numerical"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP397"}
{"question": "How to optimize function with constraints?", "code": "import numpy as np\nfrom scipy.optimize import minimize\n\n# Objective function\ndef objective(x):\n    return x[0]**2 + x[1]**2 + x[2]**2\n\n# Constraints\nbounds = [(0, None), (0, None), (0, 1)]\nconstraints = {'type': 'eq', 'fun': lambda x: np.sum(x) - 1}\n\nx0 = [0.3, 0.3, 0.4]\nresult = minimize(objective, x0, method='SLSQP', bounds=bounds, constraints=constraints)\nresult.x", "difficulty": "hard", "tags": ["optimization", "constraints", "scipy"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP398"}
{"question": "How to perform spatial interpolation with kriging?", "code": "import numpy as np\nfrom scipy.interpolate import griddata\n\n# Sample data\nx = np.random.rand(10)\ny = np.random.rand(10)\nz = np.sin(x*2*np.pi) * np.cos(y*2*np.pi)\n\n# Grid\nX_grid, Y_grid = np.meshgrid(np.linspace(0, 1, 20), np.linspace(0, 1, 20))\n\n# Interpolation\nZ_grid = griddata((x, y), z, (X_grid, Y_grid), method='cubic', fill_value=np.nan)\nZ_grid.shape", "difficulty": "hard", "tags": ["interpolation", "spatial", "scipy"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP399"}
{"question": "How to create efficient boolean indexing with query?", "code": "import pandas as pd\n\n# Sample data\ndf = pd.DataFrame({\n    'category': ['A', 'B', 'A', 'C'],\n    'sales': [800, 1200, 1500, 900],\n    'profit_margin': [0.15, 0.25, 0.12, 0.18],\n    'date': ['2023-01-01', '2023-01-02', '2023-01-03', '2023-01-04']\n})\n\ndf['date'] = pd.to_datetime(df['date'])\n\n# Complex query\nfiltered = df.query('(category == \"A\" | category == \"B\") & sales > 1000 & profit_margin.between(0.1, 0.3) & date >= \"2023-01-02\"')\nfiltered", "difficulty": "medium", "tags": ["query", "filtering", "boolean"], "core_category": "DATA_PREPROCESSING", "id": "SNP400"}
{"question": "How to perform multi-index operations?", "code": "import pandas as pd\n\n# Sample data\ndf = pd.DataFrame({\n    'date': ['2023-01-01', '2023-01-01', '2023-01-02', '2023-01-02'],\n    'category': ['Electronics', 'Clothing', 'Electronics', 'Clothing'],\n    'region': ['North', 'South', 'North', 'South'],\n    'sales': [1000, 800, 1200, 900]\n})\n\ndf_multi = df.set_index(['date', 'category', 'region'])\nslice1 = df_multi.loc[('2023-01-01', 'Electronics', slice(None)), :]\nxs_result = df_multi.xs('Electronics', level='category', drop_level=False)\nslice1, xs_result", "difficulty": "hard", "tags": ["multiindex", "indexing", "pandas"], "core_category": "DATA_PREPROCESSING", "id": "SNP401"}
{"question": "How to create custom color palette?", "code": "import matplotlib.pyplot as plt\nimport matplotlib.colors as mcolors\nimport numpy as np\n\n# Custom colors\ncolors = ['#2E86AB', '#A23B72', '#F18F01', '#C73E1D']\ncmap_custom = mcolors.LinearSegmentedColormap.from_list('custom', colors, N=256)\n\n# Sample plot\nx = np.random.rand(50)\ny = np.random.rand(50)\nvalues = np.random.rand(50)\n\nplt.figure(figsize=(6, 4))\nplt.scatter(x, y, c=values, cmap=cmap_custom, s=50)\nplt.colorbar(label='Value')\nplt.title('Custom Colormap Example')\nplt.show()", "difficulty": "medium", "tags": ["colormap", "custom", "matplotlib"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP402"}
{"question": "How to create publication-style figure?", "code": "import matplotlib.pyplot as plt\nplt.rcParams.update({\n    'font.family': 'serif',\n    'font.size': 10,\n    'figure.dpi': 300\n})\nx = [1, 2, 3]\ny = [2, 4, 1]\nplt.plot(x, y)\nplt.show()", "difficulty": "medium", "tags": ["publication", "styling", "matplotlib"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP403"}
{"question": "How to create subplots with shared axes?", "code": "import matplotlib.pyplot as plt\nfig, axes = plt.subplots(2, 2, sharex=True, sharey=True)\ndata = [[1, 2, 3], [4, 5, 6], [7, 8, 9], [10, 11, 12]]\nfor i, ax in enumerate(axes.flat):\n    ax.plot(data[i])\nplt.show()", "difficulty": "medium", "tags": ["subplots", "layout", "matplotlib"], "core_category": "VISUALIZATION_BASICS", "id": "SNP404"}
{"question": "How to perform memory-efficient array operations?", "code": "import numpy as np\na = np.array([1, 2, 3])\nb = np.array([4, 5, 6])\na += b  # In-place addition\nview = a[::2]  # View, not copy\nresult = np.einsum('i,i->i', a, b)  # Element-wise multiplication\nresult", "difficulty": "hard", "tags": ["memory", "numpy", "efficiency"], "core_category": "ARRAY_OPERATIONS", "id": "SNP405"}
{"question": "How to create efficient sliding window operations?", "code": "import numpy as np\narray = np.array([1, 2, 3, 4, 5])\nwindow_size = 3\nwindows = np.lib.stride_tricks.sliding_window_view(array, window_size)\nmeans = np.mean(windows, axis=1)\nmeans", "difficulty": "hard", "tags": ["window", "stride", "numpy"], "core_category": "DATA_TRANSFORMATION", "id": "SNP406"}
{"question": "How to perform parallel processing with joblib?", "code": "from joblib import Parallel, delayed\ndef square(x):\n    return x * x\nresults = Parallel(n_jobs=2)(delayed(square)(i) for i in range(5))\nresults", "difficulty": "medium", "tags": ["parallel", "joblib", "multiprocessing"], "core_category": "ARRAY_OPERATIONS", "id": "SNP407"}
{"question": "How to create custom matplotlib style?", "code": "import matplotlib.pyplot as plt\nplt.rcParams.update({\n    'axes.edgecolor': 'gray',\n    'grid.alpha': 0.3,\n    'figure.dpi': 150\n})\nplt.plot([1, 2, 3], [1, 4, 9])\nplt.show()", "difficulty": "medium", "tags": ["style", "matplotlib", "custom"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP408"}
{"question": "How to perform memory-optimized DataFrame loading with dtype specification?", "code": "import pandas as pd\nimport io\ndata = io.StringIO('id,amount\\n1,100.5\\n2,200.3')\ndf = pd.read_csv(data, dtype={'id': 'uint32', 'amount': 'float32'})\ndf", "difficulty": "hard", "tags": ["memory", "optimization", "dtype", "large_data"], "core_category": "ARRAY_OPERATIONS", "id": "SNP409"}
{"question": "How to create efficient rolling window with custom aggregation?", "code": "import pandas as pd\ndf = pd.DataFrame({'value': [1, 2, 3, 4, 5]})\ndef custom_stats(window):\n    return window.mean() + window.std()\ndf['rolling_stats'] = df['value'].rolling(window=3).apply(custom_stats)\ndf", "difficulty": "hard", "tags": ["rolling", "aggregation", "vectorized", "time_series"], "core_category": "DATA_TRANSFORMATION", "id": "SNP410"}
{"question": "How to perform multi-level resampling with forward filling?", "code": "import pandas as pd\ndates = pd.date_range('2023-01-01', periods=3, freq='2H')\ndf = pd.DataFrame({\n    'ticker': ['AAPL', 'AAPL', 'GOOG'],\n    'timestamp': dates,\n    'price': [150, 151, 2800]\n})\ndf.set_index(['ticker', 'timestamp'], inplace=True)\nresampled = df.groupby(level=0)['price'].resample('1H').ffill()\nresampled.head()", "difficulty": "hard", "tags": ["resample", "multiindex", "timeseries", "finance"], "core_category": "DATA_TRANSFORMATION", "id": "SNP411"}
{"question": "How to implement vectorized string pattern extraction with regex?", "code": "import pandas as pd\ndf = pd.DataFrame({'text': ['Email: test@example.com', 'Phone: 123-456-7890']})\nextracted = df['text'].str.extract(r'(\\S+@\\S+\\.\\S+|\\d{3}-\\d{3}-\\d{4})')\nextracted", "difficulty": "medium", "tags": ["regex", "string", "extraction", "vectorized"], "core_category": "ARRAY_OPERATIONS", "id": "SNP412"}
{"question": "How to create efficient expanding window with exponential weighting?", "code": "import pandas as pd\ndf = pd.DataFrame({'value': [1, 2, 3, 4, 5]})\ndf['ewm_expanding'] = df['value'].expanding().apply(lambda x: pd.Series(x).ewm(alpha=0.3).mean().iloc[-1])\ndf", "difficulty": "hard", "tags": ["expanding", "ewm", "weighted", "timeseries"], "core_category": "SIGNAL_PROCESSING", "id": "SNP413"}
{"question": "How to perform efficient categorical encoding with rarity threshold?", "code": "import pandas as pd\ndf = pd.DataFrame({'category': ['A', 'B', 'A', 'C', 'D', 'D', 'E']})\ncommon = df['category'].value_counts()\ncommon_cats = common[common > 1].index\ndf['encoded'] = df['category'].where(df['category'].isin(common_cats), 'RARE')\ndf", "difficulty": "medium", "tags": ["categorical", "encoding", "threshold", "memory"], "core_category": "ML_MODELING", "id": "SNP414"}
{"question": "How to implement efficient date feature engineering?", "code": "import pandas as pd\nimport numpy as np\ndf = pd.DataFrame({'date': pd.date_range('2023-01-01', periods=3)})\ndf['year'] = df['date'].dt.year\ndf['month'] = df['date'].dt.month\ndf['day'] = df['date'].dt.day\ndf['hour_sin'] = np.sin(2 * np.pi * df['date'].dt.hour / 24)\ndf", "difficulty": "medium", "tags": ["datetime", "features", "engineering", "cyclic"], "core_category": "ML_MODELING", "id": "SNP415"}
{"question": "How to perform efficient matrix operations on DataFrame?", "code": "import numpy as np\nimport pandas as pd\ndf = pd.DataFrame({'a': [1, 2, 3], 'b': [4, 5, 6]})\nmatrix = df.values\ncentered = matrix - np.mean(matrix, axis=0)\ncentered", "difficulty": "hard", "tags": ["matrix", "linear_algebra", "covariance", "vectorized"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP416"}
{"question": "How to implement efficient outlier detection using Mahalanobis distance?", "code": "import numpy as np\nfrom scipy.linalg import inv\nX = np.array([[1, 2], [3, 4], [5, 6]])\ncov = np.cov(X.T)\ncov_inv = inv(cov)\nmean = np.mean(X, axis=0)\ndiff = X - mean\nmahal = np.sqrt(np.sum(diff @ cov_inv * diff, axis=1))\nmahal", "difficulty": "hard", "tags": ["outliers", "multivariate", "mahalanobis", "statistics"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP417"}
{"question": "How to create efficient lag features without loops?", "code": "import pandas as pd\ndf = pd.DataFrame({'value': [1, 2, 3, 4, 5]})\nfor lag in [1, 2, 3]:\n    df[f'lag_{lag}'] = df['value'].shift(lag)\ndf", "difficulty": "medium", "tags": ["lag", "features", "timeseries", "shift"], "core_category": "ML_MODELING", "id": "SNP418"}
{"question": "How to perform efficient hierarchical aggregation?", "code": "import pandas as pd\ndf = pd.DataFrame({\n    'date': pd.date_range('2023-01-01', periods=3),\n    'value': [10, 20, 30]\n})\nmonthly = df.groupby(pd.Grouper(key='date', freq='M'))['value'].sum()\nmonthly", "difficulty": "hard", "tags": ["hierarchical", "aggregation", "grouper", "multi_frequency"], "core_category": "DATA_PREPROCESSING", "id": "SNP419"}
{"question": "How to implement efficient rolling correlation between columns?", "code": "import pandas as pd\ndf = pd.DataFrame({'a': [1, 2, 3, 4, 5], 'b': [5, 4, 3, 2, 1]})\ncorr = df['a'].rolling(3).corr(df['b'])\ncorr", "difficulty": "hard", "tags": ["correlation", "rolling", "matrix", "vectorized"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP420"}
{"question": "How do I calculate the weighted average of a column within specific groups in a DataFrame?", "code": "import pandas as pd\nimport numpy as np\ndf = pd.DataFrame({\n    'cat': ['A', 'A', 'B'],\n    'val': [10, 20, 30],\n    'weight': [1, 2, 3]\n})\nresult = df.groupby('cat').apply(lambda x: np.average(x['val'], weights=x['weight']))\nresult", "difficulty": "medium", "tags": ["pandas", "groupby", "weighted-average", "apply"], "core_category": "DATA_TRANSFORMATION", "id": "SNP421"}
{"question": "How can I calculate the pairwise Euclidean distance matrix between two arrays without loops?", "code": "import numpy as np\nA = np.array([[1, 2], [3, 4]])\nB = np.array([[5, 6]])\ndist = np.sqrt(((A[:, None, :] - B[None, :, :]) ** 2).sum(axis=2))\ndist", "difficulty": "hard", "tags": ["numpy", "broadcasting", "euclidean-distance", "optimization"], "core_category": "ARRAY_OPERATIONS", "id": "SNP422"}
{"question": "How to resample time series data to business days and interpolate missing values linearly?", "code": "import pandas as pd\ndates = pd.date_range('2023-01-01', periods=3, freq='D')\ndf = pd.DataFrame({'val': [1, 2, 3]}, index=dates)\ndf_resampled = df.resample('B').mean().interpolate(method='linear')\ndf_resampled", "difficulty": "medium", "tags": ["pandas", "timeseries", "resample", "interpolation"], "core_category": "DATA_PREPROCESSING", "id": "SNP423"}
{"question": "How to minimize a scalar function with specific bounds using SciPy?", "code": "from scipy.optimize import minimize\nimport numpy as np\ndef f(x):\n    return (x[0] - 1)**2 + (x[1] - 2)**2\nres = minimize(f, x0=[0, 0], bounds=((0, 5), (0, 5)))\nres.x", "difficulty": "medium", "tags": ["scipy", "optimization", "minimize", "bounds"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP425"}
{"question": "How to perform an asof merge to match nearest keys in time series data?", "code": "import pandas as pd\ntrades = pd.DataFrame({'time': [1, 3, 5], 'price': [10, 20, 30]})\nquotes = pd.DataFrame({'time': [2, 4, 6], 'bid': [9, 19, 29]})\nresult = pd.merge_asof(trades, quotes, on='time')\nresult", "difficulty": "hard", "tags": ["pandas", "merge_asof", "timeseries", "finance"], "core_category": "DATA_TRANSFORMATION", "id": "SNP426"}
{"question": "How to implement One-Hot Encoding on a numpy array of integers?", "code": "import numpy as np\narr = np.array([0, 1, 2])\none_hot = np.eye(3)[arr]\none_hot", "difficulty": "medium", "tags": ["numpy", "one-hot-encoding", "identity-matrix", "preprocessing"], "core_category": "ARRAY_OPERATIONS", "id": "SNP428"}
{"question": "How to create a rolling window feature calculating the z-score of the last 30 days?", "code": "import pandas as pd\ndf = pd.DataFrame({'val': [1, 2, 3, 4, 5]})\nroll = df['val'].rolling(window=3)\ndf['zscore'] = (df['val'] - roll.mean()) / roll.std()\ndf", "difficulty": "medium", "tags": ["pandas", "feature-engineering", "rolling-window", "z-score"], "core_category": "DATA_TRANSFORMATION", "id": "SNP429"}
{"question": "How to apply a Butterworth lowpass filter to a noisy signal?", "code": "from scipy.signal import butter, lfilter\nimport numpy as np\nsignal = np.array([1, 2, 3, 4, 5])\nb, a = butter(N=2, Wn=0.5)\nfiltered = lfilter(b, a, signal)\nfiltered", "difficulty": "medium", "tags": ["scipy", "signal-processing", "filtering", "butterworth"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP430"}
{"question": "How to impute missing values using the mean of their respective groups?", "code": "import pandas as pd\nimport numpy as np\ndf = pd.DataFrame({\n    'cat': ['A', 'A', 'B'],\n    'val': [1, np.nan, 3]\n})\ndf['val'] = df.groupby('cat')['val'].transform(lambda x: x.fillna(x.mean()))\ndf", "difficulty": "medium", "tags": ["pandas", "imputation", "transform", "fillna"], "core_category": "DATA_PREPROCESSING", "id": "SNP434"}
{"question": "How to perform Cubic Spline interpolation on a set of data points?", "code": "from scipy.interpolate import CubicSpline\nimport numpy as np\nx = np.array([0, 1, 2])\ny = np.array([0, 1, 4])\ncs = CubicSpline(x, y)\ncs([0.5, 1.5])", "difficulty": "medium", "tags": ["scipy", "interpolation", "cubic-spline", "smoothing"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP435"}
{"question": "How to perform target encoding (mean encoding) on a categorical feature?", "code": "import pandas as pd\ndf = pd.DataFrame({\n    'cat': ['A', 'A', 'B', 'B'],\n    'target': [1, 0, 1, 1]\n})\nencoding = df.groupby('cat')['target'].mean()\ndf['cat_enc'] = df['cat'].map(encoding)\ndf", "difficulty": "hard", "tags": ["pandas", "target-encoding", "feature-engineering", "smoothing"], "core_category": "DATA_TRANSFORMATION", "id": "SNP437"}
{"question": "How to generate a random sample from a multivariate normal distribution given a covariance matrix?", "code": "import numpy as np\nmean = [0, 0]\ncov = [[1, 0.5], [0.5, 1]]\nsamples = np.random.multivariate_normal(mean, cov, 3)\nsamples", "difficulty": "medium", "tags": ["numpy", "statistics", "random-sampling", "multivariate"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP438"}
{"question": "How to perform a Kolmogorov-Smirnov test to check if data follows a normal distribution?", "code": "from scipy import stats\nimport numpy as np\ndata = np.array([1, 2, 3, 4, 5])\nstat, p = stats.kstest(data, 'norm')\nstat, p", "difficulty": "medium", "tags": ["scipy", "statistics", "hypothesis-testing", "ks-test"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP440"}
{"question": "How do I split a column containing lists into multiple rows (explode)?", "code": "import pandas as pd\ndf = pd.DataFrame({\n    'id': [1, 2],\n    'items': [[1, 2], [3, 4, 5]]\n})\ndf_exploded = df.explode('items')\ndf_exploded", "difficulty": "medium", "tags": ["pandas", "explode", "normalization", "list-splitting"], "core_category": "DATA_PREPROCESSING", "id": "SNP441"}
{"question": "How to compute the Einstein summation convention for matrix multiplication?", "code": "import numpy as np\nA = np.array([[1, 2], [3, 4]])\nB = np.array([[5, 6], [7, 8]])\nresult = np.einsum('ij,jk->ik', A, B)\nresult", "difficulty": "hard", "tags": ["numpy", "einsum", "matrix-multiplication", "optimization"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP442"}
{"question": "How can I calculate cumulative sales per group but reset the accumulation every month?", "code": "import pandas as pd\ndf = pd.DataFrame({\n    'date': pd.date_range('2023-01-01', periods=3),\n    'store': ['A', 'A', 'B'],\n    'sales': [10, 20, 30]\n})\ndf['cum'] = df.groupby(['store', df['date'].dt.month])['sales'].cumsum()\ndf", "difficulty": "hard", "tags": ["pandas", "groupby", "cumsum", "time-grouper"], "core_category": "DATA_TRANSFORMATION", "id": "SNP444"}
{"question": "How to compute the pairwise Euclidean distances between observation vectors efficiently?", "code": "from scipy.spatial.distance import pdist, squareform\nimport numpy as np\nX = np.array([[1, 2], [3, 4]])\ndistances = pdist(X)\ndist_matrix = squareform(distances)\ndist_matrix", "difficulty": "medium", "tags": ["scipy", "distance-matrix", "pdist", "spatial"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP446"}
{"question": "How to create a rolling window view of a numpy array without copying data (stride tricks)?", "code": "import numpy as np\nfrom numpy.lib.stride_tricks import sliding_window_view\narr = np.array([1, 2, 3, 4, 5])\nwindows = sliding_window_view(arr, window_shape=3)\nwindows", "difficulty": "hard", "tags": ["numpy", "stride_tricks", "rolling-window", "memory-optimization"], "core_category": "ARRAY_OPERATIONS", "id": "SNP447"}
{"question": "How to extract specific patterns from a string column using Named Groups in Regex?", "code": "import pandas as pd\ndf = pd.DataFrame({'text': ['2023-01-15', '2023-02-20']})\ndf[['year', 'month']] = df['text'].str.extract(r'(\\d{4})-(\\d{2})')\ndf", "difficulty": "medium", "tags": ["pandas", "regex", "text-extraction", "feature-engineering"], "core_category": "DATA_TRANSFORMATION", "id": "SNP448"}
{"question": "How to combine two dataframes by matching on index for one and a column for the other?", "code": "import pandas as pd\ndf1 = pd.DataFrame({'val': [10, 20]}, index=['A', 'B'])\ndf2 = pd.DataFrame({'key': ['A', 'B'], 'other': [100, 200]})\nmerged = df1.merge(df2, left_index=True, right_on='key')\nmerged", "difficulty": "medium", "tags": ["pandas", "merge", "mixed-joins", "keys"], "core_category": "DATA_TRANSFORMATION", "id": "SNP451"}
{"question": "How to perform 2D interpolation on a regular grid?", "code": "from scipy.interpolate import RegularGridInterpolator\nimport numpy as np\nx = np.array([0, 1])\ny = np.array([0, 1])\nz = np.array([[0, 1], [2, 3]])\ninterp = RegularGridInterpolator((x, y), z)\ninterp([0.5, 0.5])", "difficulty": "hard", "tags": ["scipy", "interpolation", "2d", "regular-grid"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP452"}
{"question": "How to mask elements in an array where values are NaN or Infinite?", "code": "import numpy as np\narr = np.array([1.0, np.nan, 3.0, np.inf])\nmasked = np.ma.masked_invalid(arr)\nmasked", "difficulty": "medium", "tags": ["numpy", "masking", "nan-handling", "preprocessing"], "core_category": "ARRAY_OPERATIONS", "id": "SNP453"}
{"question": "How to filter rows between two specific times of day (e.g., 9:00 to 17:00) regardless of the date?", "code": "import pandas as pd\ndates = pd.date_range('2023-01-01 08:00', periods=3, freq='H')\ndf = pd.DataFrame({'val': [1, 2, 3]}, index=dates)\ndf_filtered = df.between_time('09:00', '17:00')\ndf_filtered", "difficulty": "medium", "tags": ["pandas", "timeseries", "indexing", "filtering"], "core_category": "DATA_PREPROCESSING", "id": "SNP454"}
{"question": "How to create a Compressed Sparse Row (CSR) matrix from coordinate data?", "code": "from scipy.sparse import csr_matrix\nimport numpy as np\ndata = [1, 2, 3]\nrows = [0, 1, 2]\ncols = [0, 1, 2]\nsparse = csr_matrix((data, (rows, cols)), shape=(3, 3))\nsparse.toarray()", "difficulty": "hard", "tags": ["scipy", "sparse-matrix", "memory-efficiency", "linear-algebra"], "core_category": "ARRAY_OPERATIONS", "id": "SNP456"}
{"question": "How to perform method chaining using 'pipe' to apply a custom function that takes arguments?", "code": "import pandas as pd\ndef add_val(df, n):\n    return df + n\ndf = pd.DataFrame({'a': [1, 2, 3]})\nresult = df.pipe(add_val, n=10)\nresult", "difficulty": "medium", "tags": ["pandas", "pipe", "method-chaining", "clean-code"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP457"}
{"question": "How to compute the outer product of two vectors to create a matrix?", "code": "import numpy as np\nvec_a = np.array([1, 2])\nvec_b = np.array([3, 4])\nouter = np.outer(vec_a, vec_b)\nouter", "difficulty": "easy", "tags": ["numpy", "outer-product", "linear-algebra", "operations"], "core_category": "ARRAY_OPERATIONS", "id": "SNP459"}
{"question": "How to get the Nth largest value within each group?", "code": "import pandas as pd\ndf = pd.DataFrame({'cat': ['A', 'A', 'B'], 'val': [10, 20, 30]})\nresult = df.groupby('cat')['val'].apply(lambda x: x.nlargest(2).iloc[-1] if len(x) >= 2 else np.nan)\nresult", "difficulty": "hard", "tags": ["pandas", "groupby", "nlargest", "ranking"], "core_category": "DATA_TRANSFORMATION", "id": "SNP460"}
{"question": "How to concatenate two dataframes vertically while ignoring the original index?", "code": "import pandas as pd\ndf1 = pd.DataFrame({'a': [1, 2]})\ndf2 = pd.DataFrame({'a': [3, 4]})\ncombined = pd.concat([df1, df2], ignore_index=True)\ncombined", "difficulty": "easy", "tags": ["pandas", "concatenation", "stacking"], "core_category": "DATA_TRANSFORMATION", "id": "SNP461"}
{"question": "How to compute the Pearson correlation coefficient between two numpy arrays?", "code": "import numpy as np\nx = np.array([1, 2, 3])\ny = np.array([2, 4, 6])\ncorr = np.corrcoef(x, y)[0, 1]\ncorr", "difficulty": "medium", "tags": ["numpy", "correlation", "statistics"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP462"}
{"question": "How to fit a custom curve (function) to data using non-linear least squares?", "code": "from scipy.optimize import curve_fit\nimport numpy as np\ndef func(x, a, b):\n    return a * x + b\nxdata = [1, 2, 3]\nydata = [2, 4, 6]\nparams, _ = curve_fit(func, xdata, ydata)\nparams", "difficulty": "hard", "tags": ["scipy", "curve-fitting", "optimization", "regression"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP465"}
{"question": "How to aggregate data using a dictionary to specify different functions for different columns?", "code": "import pandas as pd\ndf = pd.DataFrame({\n    'cat': ['A', 'A', 'B'],\n    'val1': [10, 20, 30],\n    'val2': [1, 2, 3]\n})\nagg_rules = {'val1': 'sum', 'val2': 'mean'}\ndf_agg = df.groupby('cat').agg(agg_rules)\ndf_agg", "difficulty": "medium", "tags": ["pandas", "groupby", "aggregation", "dictionary-mapping"], "core_category": "DATA_TRANSFORMATION", "id": "SNP466"}
{"question": "How to bin a continuous variable into quantiles (e.g., quartiles) and label them?", "code": "import pandas as pd\ndf = pd.DataFrame({'income': [10, 20, 30, 40]})\ndf['quartile'] = pd.qcut(df['income'], q=2, labels=['Low', 'High'])\ndf", "difficulty": "medium", "tags": ["pandas", "discretization", "qcut", "binning"], "core_category": "DATA_TRANSFORMATION", "id": "SNP467"}
{"question": "How to solve a system of linear equations Ax = b?", "code": "import numpy as np\nA = np.array([[2, 1], [1, 2]])\nb = np.array([3, 3])\nx = np.linalg.solve(A, b)\nx", "difficulty": "medium", "tags": ["numpy", "linear-algebra", "solver", "equations"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP468"}
{"question": "How to calculate the time difference between consecutive rows for a specific group?", "code": "import pandas as pd\ndf = pd.DataFrame({\n    'user': [1, 1, 2],\n    'time': pd.to_datetime(['2023-01-01', '2023-01-02', '2023-01-03'])\n})\ndf['diff'] = df.groupby('user')['time'].diff()\ndf", "difficulty": "medium", "tags": ["pandas", "diff", "timeseries", "groupby"], "core_category": "DATA_PREPROCESSING", "id": "SNP470"}
{"question": "How to find peaks in a signal with a minimum height and distance?", "code": "from scipy.signal import find_peaks\nimport numpy as np\nsignal = np.array([0, 1, 0, 2, 0, 3, 0])\npeaks, _ = find_peaks(signal, height=1)\npeaks", "difficulty": "medium", "tags": ["scipy", "signal-processing", "peak-finding"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP471"}
{"question": "How to select rows where a column contains any of a list of values?", "code": "import pandas as pd\ndf = pd.DataFrame({'status': ['A', 'B', 'C']})\nsubset = df[df['status'].isin(['A', 'B'])]\nsubset", "difficulty": "easy", "tags": ["pandas", "filtering", "isin", "indexing"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP473"}
{"question": "How to shuffle two arrays in unison?", "code": "import numpy as np\nx = np.array([1, 2, 3])\ny = np.array(['a', 'b', 'c'])\np = np.random.permutation(len(x))\nx_shuffled, y_shuffled = x[p], y[p]\nx_shuffled, y_shuffled", "difficulty": "medium", "tags": ["numpy", "shuffling", "preprocessing", "random"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP474"}
{"question": "How to perform a cross join (Cartesian product) of two DataFrames?", "code": "import pandas as pd\ndf1 = pd.DataFrame({'A': [1, 2]})\ndf2 = pd.DataFrame({'B': ['x', 'y']})\ndf1['key'] = 1\ndf2['key'] = 1\ncross = pd.merge(df1, df2, on='key').drop('key', axis=1)\ncross", "difficulty": "medium", "tags": ["pandas", "cross-join", "merge", "cartesian"], "core_category": "DATA_TRANSFORMATION", "id": "SNP476"}
{"question": "How to calculate the Z-score for each value in an array (standardization)?", "code": "from scipy.stats import zscore\nimport numpy as np\narr = np.array([1, 2, 3, 4, 5])\nz_arr = zscore(arr)\nz_arr", "difficulty": "easy", "tags": ["scipy", "statistics", "standardization", "z-score"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP477"}
{"question": "How to remove duplicate rows based on a subset of columns, keeping the last occurrence?", "code": "import pandas as pd\ndf = pd.DataFrame({'id': [1, 1, 2], 'val': [10, 20, 30]})\ndf_dedup = df.drop_duplicates(subset=['id'], keep='last')\ndf_dedup", "difficulty": "easy", "tags": ["pandas", "deduplication", "data-cleaning"], "core_category": "DATA_PREPROCESSING", "id": "SNP478"}
{"question": "How to normalize a matrix so that each row sums to 1?", "code": "import numpy as np\nmatrix = np.array([[1, 2], [3, 4]])\nnorm_matrix = matrix / matrix.sum(axis=1, keepdims=True)\nnorm_matrix", "difficulty": "medium", "tags": ["numpy", "normalization", "broadcasting", "preprocessing"], "core_category": "ARRAY_OPERATIONS", "id": "SNP479"}
{"question": "How to convert a wide dataframe to long format (melt)?", "code": "import pandas as pd\ndf = pd.DataFrame({'id': [1, 2], 'Q1': [10, 20], 'Q2': [30, 40]})\ndf_long = pd.melt(df, id_vars=['id'], value_vars=['Q1', 'Q2'])\ndf_long.head()", "difficulty": "medium", "tags": ["pandas", "melt", "reshaping", "wide-to-long"], "core_category": "DATA_TRANSFORMATION", "id": "SNP481"}
{"question": "How to optimize memory usage by converting object columns to categories?", "code": "import pandas as pd\ndf = pd.DataFrame({'cat': ['A', 'B', 'A']})\ndf['cat'] = df['cat'].astype('category')\ndf.dtypes", "difficulty": "medium", "tags": ["pandas", "optimization", "dtypes", "memory"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP482"}
{"question": "How to compute the singular value decomposition (SVD) of a matrix?", "code": "from scipy.linalg import svd\nimport numpy as np\nmatrix = np.array([[1, 2], [3, 4]])\nU, s, Vh = svd(matrix)\ns", "difficulty": "medium", "tags": ["scipy", "linear-algebra", "svd", "matrix-decomposition"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP484"}
{"question": "How to filter groups that satisfy a specific condition (e.g., sum > 100)?", "code": "import pandas as pd\ndf = pd.DataFrame({'id': ['A', 'A', 'B'], 'val': [60, 50, 30]})\ndf_filtered = df.groupby('id').filter(lambda x: x['val'].sum() > 100)\ndf_filtered", "difficulty": "medium", "tags": ["pandas", "groupby", "filtering", "conditional"], "core_category": "DATA_TRANSFORMATION", "id": "SNP485"}
{"question": "How to find unique rows in a 2D numpy array?", "code": "import numpy as np\narr = np.array([[1, 2], [3, 4], [1, 2]])\nunique_rows = np.unique(arr, axis=0)\nunique_rows", "difficulty": "medium", "tags": ["numpy", "unique", "array-manipulation"], "core_category": "ARRAY_OPERATIONS", "id": "SNP486"}
{"question": "How to compute the numerical integral (trapezoidal rule) of y given x?", "code": "from scipy.integrate import trapz\nimport numpy as np\nx = [0, 1, 2]\ny = [0, 1, 4]\narea = trapz(y, x)\narea", "difficulty": "medium", "tags": ["scipy", "integration", "calculus", "trapezoidal"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP490"}
{"question": "How to pivot a table to create a spreadsheet-style view?", "code": "import pandas as pd\ndf = pd.DataFrame({\n    'date': ['2023-01-01', '2023-01-01', '2023-01-02'],\n    'cat': ['A', 'B', 'A'],\n    'val': [10, 20, 30]\n})\npivot = df.pivot_table(index='date', columns='cat', values='val')\npivot", "difficulty": "medium", "tags": ["pandas", "pivot_table", "reshaping", "summary"], "core_category": "DATA_TRANSFORMATION", "id": "SNP491"}
{"question": "How to use `where` to conditionally replace values in an array?", "code": "import numpy as np\narr = np.array([1, -2, 3, -4])\narr = np.where(arr < 0, 0, arr)\narr", "difficulty": "easy", "tags": ["numpy", "conditional", "replacement", "where"], "core_category": "ARRAY_OPERATIONS", "id": "SNP492"}
{"question": "How to read a CSV file while specifying specific columns and data types?", "code": "import pandas as pd\nimport io\ndata = io.StringIO('id,val\\n1,10.5\\n2,20.3')\ndf = pd.read_csv(data, dtype={'id': 'int32', 'val': 'float32'})\ndf.dtypes", "difficulty": "medium", "tags": ["pandas", "io", "read_csv", "optimization"], "core_category": "DATA_PREPROCESSING", "id": "SNP493"}
{"question": "How to drop columns that have more than 50% missing values?", "code": "import pandas as pd\nimport numpy as np\ndf = pd.DataFrame({'A': [1, np.nan], 'B': [np.nan, np.nan], 'C': [3, 4]})\ndf_clean = df.dropna(thresh=len(df)*0.5, axis=1)\ndf_clean", "difficulty": "medium", "tags": ["pandas", "cleaning", "dropna", "threshold"], "core_category": "DATA_PREPROCESSING", "id": "SNP495"}
{"question": "How to create a lag feature (previous row's value)?", "code": "import pandas as pd\ndf = pd.DataFrame({'val': [10, 20, 30]})\ndf['prev_val'] = df['val'].shift(1)\ndf", "difficulty": "medium", "tags": ["pandas", "feature-engineering", "lag", "shift"], "core_category": "DATA_TRANSFORMATION", "id": "SNP497"}
{"question": "How to compute the percentile (e.g., 95th) of an array?", "code": "import numpy as np\narr = np.array([1, 2, 3, 4, 5])\np95 = np.percentile(arr, 95)\np95", "difficulty": "easy", "tags": ["numpy", "statistics", "percentile", "distribution"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP498"}
{"question": "How to apply a function to every element in a DataFrame?", "code": "import pandas as pd\ndf = pd.DataFrame({'A': [1, 2, 3]})\ndf_transformed = df.applymap(lambda x: x * 2)\ndf_transformed", "difficulty": "medium", "tags": ["pandas", "applymap", "element-wise", "transformation"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP499"}
{"question": "How to compute the Convex Hull of a set of 2D points?", "code": "from scipy.spatial import ConvexHull\nimport numpy as np\npoints = np.array([[0, 0], [1, 0], [0, 1], [0.5, 0.5]])\nhull = ConvexHull(points)\nhull.vertices", "difficulty": "hard", "tags": ["scipy", "geometry", "convex-hull", "spatial"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP500"}
{"question": "How to set a column as the index and sort it?", "code": "import pandas as pd\ndf = pd.DataFrame({'date': ['2023-01-02', '2023-01-01'], 'val': [20, 10]})\ndf['date'] = pd.to_datetime(df['date'])\ndf = df.set_index('date').sort_index()\ndf", "difficulty": "easy", "tags": ["pandas", "indexing", "sorting", "structure"], "core_category": "DATA_TRANSFORMATION", "id": "SNP501"}
{"question": "How to stack a sequence of arrays horizontally (column-wise)?", "code": "import numpy as np\na = np.array([1, 2])\nb = np.array([3, 4])\nstacked = np.hstack((a, b))\nstacked", "difficulty": "easy", "tags": ["numpy", "stacking", "array-manipulation"], "core_category": "ARRAY_OPERATIONS", "id": "SNP503"}
{"question": "How to extract the day of the week (name) from a datetime column?", "code": "import pandas as pd\ndf = pd.DataFrame({'date': pd.to_datetime(['2023-01-01', '2023-01-02'])})\ndf['day_name'] = df['date'].dt.day_name()\ndf", "difficulty": "easy", "tags": ["pandas", "datetime", "extraction", "day-name"], "core_category": "DATA_PREPROCESSING", "id": "SNP505"}
{"question": "How to perform an independent t-test on two related samples?", "code": "from scipy.stats import ttest_rel\nimport numpy as np\nbefore = np.array([1, 2, 3])\nafter = np.array([2, 3, 4])\nstat, p = ttest_rel(before, after)\nstat, p", "difficulty": "medium", "tags": ["scipy", "statistics", "hypothesis-testing", "t-test"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP506"}
{"question": "How to vectorized string concatenation of two columns with a separator?", "code": "import pandas as pd\ndf = pd.DataFrame({'first': ['A', 'B'], 'last': ['X', 'Y']})\ndf['full'] = df['first'] + ' ' + df['last']\ndf", "difficulty": "easy", "tags": ["pandas", "text", "vectorization", "concatenation"], "core_category": "DATA_PREPROCESSING", "id": "SNP507"}
{"question": "How to compute the discrete Fourier Transform of a 1D sequence?", "code": "import numpy as np\na = np.array([1, 2, 3, 4])\nsp = np.fft.fft(a)\nsp[:2]", "difficulty": "medium", "tags": ["numpy", "fft", "signal-processing", "fourier"], "core_category": "SIGNAL_PROCESSING", "id": "SNP508"}
{"question": "How to transform group values to z-scores within the group?", "code": "import pandas as pd\nimport numpy as np\ndf = pd.DataFrame({'cat': ['A', 'A', 'B'], 'val': [10, 20, 30]})\ndf['z'] = df.groupby('cat')['val'].transform(lambda x: (x - x.mean()) / x.std())\ndf", "difficulty": "hard", "tags": ["pandas", "groupby", "transform", "z-score"], "core_category": "DATA_TRANSFORMATION", "id": "SNP510"}
{"question": "How to create a multidimensional histogram (3D)?", "code": "import numpy as np\nx = [1, 2, 3]\ny = [4, 5, 6]\nz = [7, 8, 9]\nH, edges = np.histogramdd((x, y, z), bins=(2, 2, 2))\nH", "difficulty": "medium", "tags": ["numpy", "histogram", "multidimensional", "statistics"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP512"}
{"question": "How to perform a one-way ANOVA test on three independent samples?", "code": "from scipy.stats import f_oneway\nimport numpy as np\ng1 = [1, 2, 3]\ng2 = [2, 3, 4]\ng3 = [3, 4, 5]\nstat, p = f_oneway(g1, g2, g3)\nstat, p", "difficulty": "medium", "tags": ["scipy", "statistics", "anova", "hypothesis-testing"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP515"}
{"question": "How to use frequency (count) encoding on a categorical column?", "code": "import pandas as pd\ndf = pd.DataFrame({'cat': ['A', 'B', 'A']})\nfreq = df['cat'].value_counts()\ndf['freq'] = df['cat'].map(freq)\ndf", "difficulty": "medium", "tags": ["pandas", "encoding", "frequency-encoding", "feature-engineering"], "core_category": "DATA_TRANSFORMATION", "id": "SNP516"}
{"question": "How to compute the 2D Fourier Transform of an image or matrix?", "code": "import numpy as np\nimg = np.array([[1, 2], [3, 4]])\nft = np.fft.fft2(img)\nft", "difficulty": "hard", "tags": ["numpy", "fft", "image-processing", "signal-processing"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP517"}
{"question": "How to replace multiple string values simultaneously using dictionary mapping?", "code": "import pandas as pd\ndf = pd.DataFrame({'col': ['A', 'B', 'C']})\nmapping = {'A': 'X', 'B': 'Y'}\ndf['col'] = df['col'].replace(mapping)\ndf", "difficulty": "easy", "tags": ["pandas", "replace", "mapping", "data-cleaning"], "core_category": "DATA_PREPROCESSING", "id": "SNP518"}
{"question": "How to find the root of a scalar function using the bisection method?", "code": "from scipy.optimize import bisect\ndef f(x):\n    return x**2 - 4\nroot = bisect(f, 0, 5)\nroot", "difficulty": "medium", "tags": ["scipy", "optimization", "root-finding", "bisect"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP521"}
{"question": "How to categorize values in an array into specific bins using thresholds?", "code": "import numpy as np\narr = np.array([1, 5, 15])\nbins = [0, 10, 20]\nindices = np.digitize(arr, bins)\nindices", "difficulty": "medium", "tags": ["numpy", "digitize", "binning", "categorization"], "core_category": "ARRAY_OPERATIONS", "id": "SNP522"}
{"question": "How to fill missing values using the last valid observation forward in time (forward fill)?", "code": "import pandas as pd\nimport numpy as np\ndf = pd.DataFrame({'val': [1, np.nan, 3, np.nan]})\ndf['val'] = df['val'].ffill()\ndf", "difficulty": "easy", "tags": ["pandas", "ffill", "imputation", "time-series"], "core_category": "DATA_PREPROCESSING", "id": "SNP523"}
{"question": "How to calculate the difference between the group mean and the individual value for each row?", "code": "import pandas as pd\ndf = pd.DataFrame({'cat': ['A', 'A', 'B'], 'val': [10, 20, 30]})\nmean_val = df.groupby('cat')['val'].transform('mean')\ndf['diff'] = df['val'] - mean_val\ndf", "difficulty": "hard", "tags": ["pandas", "groupby", "transform", "deviation"], "core_category": "DATA_TRANSFORMATION", "id": "SNP525"}
{"question": "How to fill missing values with the column mean?", "code": "import pandas as pd\nimport numpy as np\ndf = pd.DataFrame({'A': [1, np.nan, 3], 'B': [4, 5, np.nan]})\ndf_filled = df.fillna(df.mean())\ndf_filled", "difficulty": "easy", "tags": ["pandas", "fillna", "mean"], "core_category": "DATA_PREPROCESSING", "id": "SNP915"}
{"question": "How to apply a custom vectorized function using numpy.vectorize?", "code": "import numpy as np\ndef my_func(x):\n    return x**2 + 2*x + 1\nvfunc = np.vectorize(my_func)\narr = np.array([1, 2, 3])\nresult = vfunc(arr)\nresult", "difficulty": "medium", "tags": ["numpy", "vectorize", "custom function"], "core_category": "ARRAY_OPERATIONS", "id": "SNP916"}
{"question": "How to plot a histogram with cumulative distribution?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\ndata = np.array([1, 2, 2, 3, 3, 3])\nplt.hist(data, bins=3, cumulative=True)\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "histogram", "cumulative"], "core_category": "VISUALIZATION_BASICS", "id": "SNP917"}
{"question": "How to create side-by-side boxplots for multiple groups using matplotlib?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\ngroup1 = [1, 2, 3]\ngroup2 = [2, 3, 4]\ndata = [group1, group2]\nplt.boxplot(data, labels=['G1', 'G2'])\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "boxplot", "multiple groups"], "core_category": "VISUALIZATION_BASICS", "id": "SNP918"}
{"question": "How to perform cubic spline interpolation using scipy?", "code": "from scipy import interpolate\nimport numpy as np\nx = [0, 1, 2]\ny = [0, 1, 4]\ncs = interpolate.CubicSpline(x, y)\ncs([0.5, 1.5])", "difficulty": "hard", "tags": ["scipy", "interpolation", "spline"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP919"}
{"question": "How to concatenate DataFrames vertically (row-wise)?", "code": "import pandas as pd\ndf1 = pd.DataFrame({'A': [1, 2]})\ndf2 = pd.DataFrame({'A': [3, 4]})\nresult = pd.concat([df1, df2], ignore_index=True)\nresult", "difficulty": "easy", "tags": ["pandas", "concat", "row binding"], "core_category": "DATA_TRANSFORMATION", "id": "SNP920"}
{"question": "How to compute and visualize a spectrogram of a signal?", "code": "import numpy as np\nimport matplotlib.pyplot as plt\nfrom scipy.signal import spectrogram\nsignal = np.array([1, 2, 3, 4, 5])\nf, t, Sxx = spectrogram(signal, fs=1)\nplt.pcolormesh(t, f, Sxx)\nplt.show()", "difficulty": "easy", "tags": ["spectrogram", "time_frequency", "signal"], "core_category": "SIGNAL_PROCESSING", "id": "SNP921"}
{"question": "How to apply a moving average filter to smooth a signal?", "code": "import numpy as np\nsignal = np.array([1, 2, 3, 4, 5])\nwindow = 3\nsmoothed = np.convolve(signal, np.ones(window)/window, mode='valid')\nsmoothed", "difficulty": "easy", "tags": ["smoothing", "moving_average", "filter"], "core_category": "SIGNAL_PROCESSING", "id": "SNP922"}
{"question": "How to normalize a signal to zero mean and unit variance?", "code": "import numpy as np\nsignal = np.array([1, 2, 3, 4, 5])\nnormalized = (signal - np.mean(signal)) / np.std(signal)\nnormalized", "difficulty": "easy", "tags": ["normalization", "preprocessing", "signal"], "core_category": "SIGNAL_PROCESSING", "id": "SNP923"}
{"question": "How to design and apply a low-pass Butterworth filter?", "code": "from scipy.signal import butter, filtfilt\nimport numpy as np\nsignal = np.array([1, 2, 3, 4, 5])\nb, a = butter(2, 0.5)\nfiltered = filtfilt(b, a, signal)\nfiltered", "difficulty": "medium", "tags": ["butterworth", "lowpass", "filtering"], "core_category": "SIGNAL_PROCESSING", "id": "SNP924"}
{"question": "How to compute cross-correlation between two signals?", "code": "import numpy as np\nsignal1 = np.array([1, 2, 3])\nsignal2 = np.array([0, 1, 0.5])\ncorrelation = np.correlate(signal1, signal2, mode='full')\ncorrelation", "difficulty": "medium", "tags": ["correlation", "similarity", "signal"], "core_category": "SIGNAL_PROCESSING", "id": "SNP925"}
{"question": "How to perform signal resampling to a new sampling rate?", "code": "from scipy.signal import resample\nimport numpy as np\nsignal = np.array([1, 2, 3, 4, 5])\nresampled = resample(signal, 3)\nresampled", "difficulty": "medium", "tags": ["resampling", "sampling_rate", "signal"], "core_category": "SIGNAL_PROCESSING", "id": "SNP926"}
{"question": "How to compute power spectral density using Welch\u2019s method?", "code": "from scipy.signal import welch\nimport numpy as np\nsignal = np.array([1, 2, 3, 4, 5])\nf, psd = welch(signal, fs=1)\nf[:2], psd[:2]", "difficulty": "medium", "tags": ["PSD", "welch", "frequency"], "core_category": "SIGNAL_PROCESSING", "id": "SNP927"}
{"question": "How to perform Short-Time Fourier Transform (STFT)?", "code": "from scipy.signal import stft\nimport numpy as np\nsignal = np.array([1, 2, 3, 4, 5])\nf, t, Zxx = stft(signal, fs=1)\nZxx.shape", "difficulty": "hard", "tags": ["STFT", "time_frequency", "fourier"], "core_category": "SIGNAL_PROCESSING", "id": "SNP928"}
{"question": "How to remove noise using wavelet denoising?", "code": "import pywt\nimport numpy as np\nsignal = np.array([1, 2, 3, 4, 5])\ncoeffs = pywt.wavedec(signal, 'db1', level=2)\ndenoiser = lambda c: pywt.threshold(c, 0.5)\nden_coeffs = list(map(denoiser, coeffs))\nden_signal = pywt.waverec(den_coeffs, 'db1')\nden_signal", "difficulty": "hard", "tags": ["wavelet", "denoising", "signal"], "core_category": "SIGNAL_PROCESSING", "id": "SNP929"}
{"question": "How to estimate signal envelope using the Hilbert transform?", "code": "from scipy.signal import hilbert\nimport numpy as np\nsignal = np.array([1, 2, 3, 2, 1])\nanalytic = hilbert(signal)\nenvelope = np.abs(analytic)\nenvelope", "difficulty": "hard", "tags": ["hilbert", "envelope", "analytic_signal"], "core_category": "SIGNAL_PROCESSING", "id": "SNP930"}
{"question": "How to create a joint plot with a hexbin representation for dense data?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport numpy as np\n\n# Create dense correlated data\nnp.random.seed(0)\ndf = pd.DataFrame({\n    'x_var': np.random.randn(1000),\n    'y_var': np.random.randn(1000) + 0.5\n})\n\nsns.jointplot(data=df, x='x_var', y='y_var', kind='hex', cmap='inferno')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "jointplot", "hexbin", "density"], "core_category": "VISUALIZATION_BASICS", "id": "SNP526"}
{"question": "How to read a large CSV file in chunks to process it iteratively?", "code": "import pandas as pd\nimport io\n\n# Simulate large CSV data\ncsv_data = \"col1,col2\\n1,2\\n3,4\\n5,6\\n7,8\\n9,10\"\n\nchunk_size = 2\nfor chunk in pd.read_csv(io.StringIO(csv_data), chunksize=chunk_size):\n    # Process each chunk\n    print(chunk)", "difficulty": "medium", "tags": ["pandas", "io", "chunking", "memory-optimization"], "core_category": "DATA_PREPROCESSING", "id": "SNP529"}
{"question": "How to create an inset plot (zoom view) within an existing plot?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0, 10, 100)\ny = np.sin(x) + 0.1 * np.random.randn(100)\n\nax_main = plt.axes()\nax_main.plot(x, y, 'b-', alpha=0.7)\nax_main.set_title('Main Plot with Inset')\n\nax_inset = ax_main.inset_axes([0.6, 0.6, 0.3, 0.3])\nax_inset.plot(x[40:60], y[40:60], 'r-')\nax_inset.set_title('Zoom')\n\nplt.show()", "difficulty": "hard", "tags": ["matplotlib", "inset-axes", "subplots", "zooming"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP530"}
{"question": "How to customize the median line style in a Seaborn boxplot?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Create sample DataFrame\ndf = pd.DataFrame({\n    'x': np.repeat(['A', 'B'], 50),\n    'y': np.concatenate([np.random.normal(0, 1, 50),\n                        np.random.normal(1, 1, 50)])\n})\n\nsns.boxplot(data=df, x='x', y='y', \n            medianprops={'color': 'red', 'linestyle': '--', 'linewidth': 2})\nplt.title('Boxplot with Custom Median')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "boxplot", "styling", "median"], "core_category": "VISUALIZATION_BASICS", "id": "SNP531"}
{"question": "How to create a color gradient based on a log scale for a scatter plot?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.random.rand(100)\ny = np.random.rand(100)\nz = np.random.exponential(1, 100)\n\nnorm = plt.colors.LogNorm(vmin=z.min(), vmax=z.max())\nplt.scatter(x, y, c=z, norm=norm, cmap='magma', alpha=0.7)\nplt.colorbar(label='Z-value (log scale)')\nplt.title('Scatter Plot with Log Color Scale')\nplt.show()", "difficulty": "hard", "tags": ["matplotlib", "colorbar", "log-scale", "normalization"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP535"}
{"question": "How to plot the residuals of a simple linear regression model?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Create sample DataFrame\ndf = pd.DataFrame({\n    'predictor': np.random.randn(100),\n    'target': 2 * np.random.randn(100) + 3 + np.random.randn(100) * 0.5\n})\n\nsns.residplot(data=df, x='predictor', y='target')\nplt.title('Residual Plot')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "residplot", "regression", "diagnostics"], "core_category": "VISUALIZATION_BASICS", "id": "SNP537"}
{"question": "How to draw a vector field (quiver plot)?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(-2, 2, 10)\ny = np.linspace(-2, 2, 10)\nX, Y = np.meshgrid(x, y)\nU, V = np.cos(X), np.sin(Y)\n\nplt.quiver(X, Y, U, V)\nplt.title('Vector Field (Quiver Plot)')\nplt.xlabel('X')\nplt.ylabel('Y')\nplt.show()", "difficulty": "hard", "tags": ["matplotlib", "quiver", "vector-field", "flow"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP541"}
{"question": "How to create a multi-panel grid plot for categorical data visualization using a single function?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\n\n# Load sample data\ndf = sns.load_dataset('tips')\nsns.catplot(data=df, x='day', y='tip', kind='bar', col='sex', row='smoker')\nplt.show()", "difficulty": "hard", "tags": ["seaborn", "catplot", "facetgrid", "categorical"], "core_category": "VISUALIZATION_BASICS", "id": "SNP542"}
{"question": "How to manually adjust the aspect ratio of the plot?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0, 10, 100)\ny = np.sin(x)\n\nfig, ax = plt.subplots()\nax.plot(x, y)\nax.set_aspect(aspect='equal', adjustable='box')\nax.set_title('Plot with Equal Aspect Ratio')\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "aspect-ratio", "styling"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP546"}
{"question": "How to create a violin plot showing individual data points overlaid on the distribution?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\n\n# Load sample data\ndf = sns.load_dataset('tips')\n\nsns.violinplot(data=df, x='day', y='tip', inner=None)\nsns.stripplot(data=df, x='day', y='tip', color='k', size=3)\nplt.title('Violin Plot with Data Points')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "violinplot", "stripplot", "overlay"], "core_category": "VISUALIZATION_BASICS", "id": "SNP547"}
{"question": "How to hide the box but show the median and whiskers in a box plot?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\ndata = np.random.randn(100, 3)\n\nbp = plt.boxplot(data, showbox=False, medianprops={'color': 'red', 'linewidth': 2})\nplt.title('Boxplot without Box')\nplt.ylabel('Values')\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "boxplot", "customization", "whisker"], "core_category": "VISUALIZATION_BASICS", "id": "SNP552"}
{"question": "How to plot the Empirical Cumulative Distribution Function (ECDF)?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport numpy as np\n\n# Create sample data\ndf = pd.DataFrame({'value': np.random.exponential(scale=2, size=200)})\n\nsns.ecdfplot(data=df, x='value', complementary=True)\nplt.title('Empirical CDF')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "ecdfplot", "distribution", "cumulative"], "core_category": "VISUALIZATION_BASICS", "id": "SNP553"}
{"question": "How to create a horizontal bar chart?", "code": "import matplotlib.pyplot as plt\n\ncategories = ['Category A', 'Category B', 'Category C', 'Category D']\nvalues = [25, 40, 30, 35]\n\nplt.barh(categories, values, color='skyblue')\nplt.title('Horizontal Bar Chart')\nplt.xlabel('Values')\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "bar-plot", "horizontal"], "core_category": "VISUALIZATION_BASICS", "id": "SNP558"}
{"question": "How to use a diverging colormap and center the heatmap on zero?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport numpy as np\n\n# Create data centered around zero\ndata = np.random.randn(10, 10) * 2\n\nsns.heatmap(data, cmap='coolwarm', center=0)\nplt.title('Diverging Heatmap Centered at Zero')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "heatmap", "diverging", "styling"], "core_category": "VISUALIZATION_BASICS", "id": "SNP559"}
{"question": "How to plot a 2D histogram (density map) of two variables?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.random.randn(1000)\ny = np.random.randn(1000) + 1\n\nplt.hist2d(x, y, bins=30, cmap='viridis')\nplt.colorbar(label='Density')\nplt.title('2D Histogram (Density Map)')\nplt.xlabel('X')\nplt.ylabel('Y')\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "hist2d", "2d-histogram", "density"], "core_category": "VISUALIZATION_BASICS", "id": "SNP562"}
{"question": "How to visualize time series data with a confidence band around the mean estimate?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Create sample time series data\ndates = pd.date_range('2023-01-01', periods=100, freq='D')\ndf = pd.DataFrame({\n    'time': np.tile(dates, 3),\n    'value': np.concatenate([np.random.randn(100) + 10,\n                            np.random.randn(100) + 12,\n                            np.random.randn(100) + 11]),\n    'category': ['A']*100 + ['B']*100 + ['C']*100\n})\n\nsns.lineplot(data=df, x='time', y='value', hue='category', errorbar=('ci', 95))\nplt.title('Time Series with 95% Confidence Intervals')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "lineplot", "time-series", "confidence-interval"], "core_category": "VISUALIZATION_BASICS", "id": "SNP563"}
{"question": "How to set the color and position of axis spines (e.g., hiding the top and right spines)?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0, 10, 100)\ny = np.sin(x)\n\nfig, ax = plt.subplots()\nax.plot(x, y)\n\nax.spines['top'].set_visible(False)\nax.spines['right'].set_visible(False)\nax.spines['left'].set_position(('outward', 10))\nax.spines['bottom'].set_position(('outward', 10))\n\nplt.title('Plot with Custom Spine Styling')\nplt.show()", "difficulty": "hard", "tags": ["matplotlib", "spines", "styling", "customization"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP568"}
{"question": "How to plot stacked histograms for multiple categories and specify the number of bins?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Create sample DataFrame\ndf = pd.DataFrame({\n    'value': np.concatenate([np.random.normal(0, 1, 200),\n                            np.random.normal(2, 1.5, 200),\n                            np.random.normal(4, 2, 200)]),\n    'category': ['A']*200 + ['B']*200 + ['C']*200\n})\n\nsns.histplot(data=df, x='value', hue='category', multiple='stack', bins=40)\nplt.title('Stacked Histograms')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "histplot", "stacked", "distribution"], "core_category": "VISUALIZATION_BASICS", "id": "SNP569"}
{"question": "How to add text annotations to a figure in the figure coordinates, not axis coordinates?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0, 10, 100)\ny = np.sin(x)\n\nfig, ax = plt.subplots()\nax.plot(x, y)\nfig.text(0.5, 0.95, 'Global Plot Title', ha='center', va='top', fontsize=14)\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "annotations", "figure", "labeling"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP574"}
{"question": "How to create a pairplot using kernel density estimation on both the diagonal and off-diagonal plots?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\n\n# Load sample data\ndf = sns.load_dataset('iris')\nsns.pairplot(df, kind='kde', corner=True)\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "pairplot", "kde", "distribution"], "core_category": "VISUALIZATION_BASICS", "id": "SNP575"}
{"question": "How to disable the automatic setting of the plot limits?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0, 10, 100)\ny = np.sin(x)\n\nfig, ax = plt.subplots()\nax.plot(x, y)\nax.autoscale(enable=False)\nax.set_xlim(-2, 12)\nax.set_ylim(-2, 2)\nplt.title('Plot with Manual Limits')\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "limits", "autoscale", "customization"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP579"}
{"question": "How to use `relplot` to visualize relationships across a grid of subplots?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\n\n# Load sample data\ndf = sns.load_dataset('tips')\nsns.relplot(data=df, x='total_bill', y='tip', col='sex', row='smoker', kind='scatter')\nplt.show()", "difficulty": "hard", "tags": ["seaborn", "relplot", "facetgrid", "relational"], "core_category": "VISUALIZATION_BASICS", "id": "SNP580"}
{"question": "How to create a filled contour plot with custom color levels?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(-3, 3, 100)\ny = np.linspace(-3, 3, 100)\nX, Y = np.meshgrid(x, y)\nZ = np.exp(-(X**2 + Y**2))\n\nlevels = np.linspace(Z.min(), Z.max(), 10)\nplt.contourf(X, Y, Z, levels=levels, cmap='RdGy')\nplt.colorbar(label='Intensity')\nplt.title('Filled Contour Plot with Custom Levels')\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "contourf", "2d-plot", "color-mapping"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP584"}
{"question": "How to plot a scatter plot with hue and size mapping, and custom transparency?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Create sample DataFrame\ndf = pd.DataFrame({\n    'x': np.random.randn(50),\n    'y': np.random.randn(50),\n    'group': np.random.choice(['A', 'B', 'C'], 50),\n    'weight': np.random.uniform(10, 100, 50)\n})\n\nsns.scatterplot(data=df, x='x', y='y', hue='group', size='weight', alpha=0.7)\nplt.title('Scatter Plot with Hue and Size')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "scatterplot", "multivariate", "alpha"], "core_category": "VISUALIZATION_BASICS", "id": "SNP586"}
{"question": "How to normalize a histogram to show density (area sums to 1)?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\ndata = np.random.normal(0, 1, 1000)\nplt.hist(data, bins=30, density=True, edgecolor='black', alpha=0.7)\nplt.title('Density Histogram')\nplt.xlabel('Value')\nplt.ylabel('Density')\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "histogram", "density", "normalization"], "core_category": "VISUALIZATION_BASICS", "id": "SNP590"}
{"question": "How to overlay a mean marker and confidence interval inside a violin plot?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\n\n# Load sample data\ndf = sns.load_dataset('tips')\n\nsns.violinplot(data=df, x='day', y='tip', inner='box', showmeans=True, meanline=True)\nplt.title('Violin Plot with Mean Marker')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "violinplot", "mean", "inner"], "core_category": "VISUALIZATION_BASICS", "id": "SNP591"}
{"question": "How to plot multiple lines using a cyclic colormap automatically?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0, 10, 100)\ncolors = plt.cm.viridis(np.linspace(0, 1, 5))\n\nplt.figure()\nfor i in range(5):\n    y_i = np.sin(x + i * 0.5)\n    plt.plot(x, y_i, color=colors[i], label=f'Line {i+1}')\n\nplt.title('Multiple Lines with Cyclic Colormap')\nplt.legend()\nplt.show()", "difficulty": "hard", "tags": ["matplotlib", "styling", "colormap", "cycler"], "core_category": "VISUALIZATION_BASICS", "id": "SNP596"}
{"question": "How to create a regression plot with residual bands in the center and marginal histograms?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\n\n# Load sample data\ndf = sns.load_dataset('mpg')\nsns.jointplot(data=df, x='horsepower', y='mpg', kind='reg', scatter_kws={'alpha': 0.6})\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "jointplot", "regression", "visualization"], "core_category": "VISUALIZATION_BASICS", "id": "SNP597"}
{"question": "How to draw a circle patch onto the plot to highlight a region?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0, 10, 100)\ny = np.sin(x)\n\nfig, ax = plt.subplots()\nax.plot(x, y)\n\ncircle = plt.Circle((5, 0), 1, color='r', fill=False, linewidth=2)\nax.add_artist(circle)\n\nplt.title('Plot with Circle Highlight')\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "patches", "annotation", "shapes"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP601"}
{"question": "How to create a count plot showing the percentage of total for each category, rather than raw counts?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\n\n# Create sample DataFrame\ndf = pd.DataFrame({\n    'category': ['A', 'B', 'A', 'C', 'B', 'A', 'C', 'C', 'B', 'A']\n})\n\ncounts = df['category'].value_counts(normalize=True).mul(100).rename('percent').reset_index()\nsns.barplot(data=counts, x='category', y='percent')\nplt.title('Percentage Count Plot')\nplt.ylabel('Percentage (%)')\nplt.show()", "difficulty": "hard", "tags": ["seaborn", "countplot", "percentage", "normalization"], "core_category": "VISUALIZATION_BASICS", "id": "SNP602"}
{"question": "How to plot a time series with a logarithmic y-axis?", "code": "import matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Create sample time series\ndates = pd.date_range('2023-01-01', periods=100, freq='D')\ndf = pd.DataFrame({\n    'date': dates,\n    'value': np.exp(np.linspace(0, 5, 100)) + np.random.normal(0, 10, 100)\n})\n\nplt.plot(df['date'], df['value'])\nplt.yscale('log')\nplt.title('Time Series with Log Y-Axis')\nplt.xlabel('Date')\nplt.ylabel('Value (log scale)')\nplt.xticks(rotation=45)\nplt.tight_layout()\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "log-scale", "time-series", "yscale"], "core_category": "VISUALIZATION_BASICS", "id": "SNP606"}
{"question": "How to create a violin plot with the width scaled by the number of observations in each category?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Create sample DataFrame with different observation counts\ndf = pd.DataFrame({\n    'category': ['A']*50 + ['B']*30 + ['C']*10,\n    'value': np.concatenate([np.random.normal(0, 1, 50),\n                            np.random.normal(1, 1, 30),\n                            np.random.normal(2, 1, 10)])\n})\n\nsns.violinplot(data=df, x='category', y='value', scale='count')\nplt.title('Violin Plot Scaled by Count')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "violinplot", "scale", "count"], "core_category": "VISUALIZATION_BASICS", "id": "SNP607"}
{"question": "How to add a text label to a plot using LaTeX formatting?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0, 10, 100)\ny = np.sin(x)\n\nplt.plot(x, y)\nplt.text(5, 0.5, r'$\\mu = 100, \\sigma^2 = 25$', fontsize=12,\n         bbox=dict(facecolor='white', alpha=0.8))\nplt.title('Plot with LaTeX Text')\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "latex", "annotation", "styling"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP612"}
{"question": "How to create a confusion matrix heatmap with count formatting?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport numpy as np\n\n# Create sample confusion matrix\nconfusion_matrix = np.array([[50, 5, 3],\n                             [2, 45, 8],\n                             [1, 4, 55]])\n\nplt.figure(figsize=(8, 6))\nsns.heatmap(confusion_matrix, annot=True, fmt='d', cmap='Reds')\nplt.title('Confusion Matrix')\nplt.xlabel('Predicted')\nplt.ylabel('Actual')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "heatmap", "confusion-matrix", "annotation"], "core_category": "VISUALIZATION_BASICS", "id": "SNP613"}
{"question": "How to visualize hierarchical clustering results using a dendrogram?", "code": "from scipy.cluster.hierarchy import linkage, dendrogram\nimport matplotlib.pyplot as plt\nimport numpy as np\n\nX = np.random.rand(20, 3)\nZ = linkage(X, 'ward')\ndendrogram(Z, truncate_mode='lastp', p=10)\nplt.title('Dendrogram')\nplt.xlabel('Sample Index')\nplt.ylabel('Distance')\nplt.show()", "difficulty": "hard", "tags": ["scipy", "clustering", "dendrogram", "visualization"], "core_category": "ML_MODELING", "id": "SNP614"}
{"question": "How to create grouped (side-by-side) bar plots?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nlabels = ['Group 1', 'Group 2', 'Group 3', 'Group 4']\ndata1 = [20, 35, 30, 25]\ndata2 = [15, 25, 20, 30]\n\nx = np.arange(len(labels))\nwidth = 0.35\n\nplt.bar(x - width/2, data1, width, label='Series A', color='skyblue', edgecolor='black')\nplt.bar(x + width/2, data2, width, label='Series B', color='lightcoral', edgecolor='black')\nplt.title('Grouped Bar Plot')\nplt.xlabel('Groups')\nplt.ylabel('Values')\nplt.xticks(x, labels)\nplt.legend()\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "grouped-bar", "comparison"], "core_category": "VISUALIZATION_BASICS", "id": "SNP617"}
{"question": "How to visualize a categorical relationship using a scatter plot that avoids overlap (Stripplot)?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Create sample DataFrame\ndf = pd.DataFrame({\n    'category': np.repeat(['A', 'B', 'C'], 20),\n    'value': np.concatenate([np.random.normal(0, 1, 20),\n                            np.random.normal(1, 1, 20),\n                            np.random.normal(2, 1, 20)])\n})\n\nsns.stripplot(data=df, x='category', y='value', jitter=True, size=4)\nplt.title('Strip Plot with Jitter')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "stripplot", "categorical", "jitter"], "core_category": "VISUALIZATION_BASICS", "id": "SNP618"}
{"question": "How to add an arrow annotation pointing from one point to another?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0, 10, 100)\ny = np.sin(x)\n\nfig, ax = plt.subplots()\nax.plot(x, y)\n\n# Add arrow annotation\nax.annotate('Focus', xy=(5, np.sin(5)), xytext=(3, 0.5),\n            arrowprops=dict(facecolor='black', shrink=0.05))\nplt.title('Plot with Arrow Annotation')\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "annotation", "arrow", "pointing"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP622"}
{"question": "How to plot a 2D histogram with marginal plots using `jointplot`?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport numpy as np\n\n# Create sample data\ndf = pd.DataFrame({\n    'x': np.random.randn(200),\n    'y': np.random.randn(200) + 1\n})\n\nsns.jointplot(data=df, x='x', y='y', kind='hist')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "jointplot", "histogram", "2d"], "core_category": "VISUALIZATION_BASICS", "id": "SNP624"}
{"question": "How to share the x-axis across all subplots in a figure?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0, 10, 100)\ny1 = np.sin(x)\ny2 = np.cos(x)\ny3 = np.tan(x)\n\nfig, axes = plt.subplots(1, 3, figsize=(12, 4), sharex=True)\naxes[0].plot(x, y1)\naxes[0].set_title('Sine')\naxes[1].plot(x, y2)\naxes[1].set_title('Cosine')\naxes[2].plot(x, y3)\naxes[2].set_title('Tangent')\nplt.tight_layout()\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "subplots", "sharex", "layout"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP628"}
{"question": "How to create a multi-level boxplot using hierarchical categories?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Create sample DataFrame\ndf = pd.DataFrame({\n    'GroupA': np.repeat(['X', 'Y'], 50),\n    'GroupB': np.tile(['A', 'B'], 50),\n    'Value': np.concatenate([np.random.normal(0, 1, 50),\n                            np.random.normal(1, 1, 50)])\n})\n\nsns.boxplot(data=df, x='GroupA', y='Value', hue='GroupB')\nplt.title('Multi-level Boxplot')\nplt.legend(title='GroupB')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "boxplot", "hierarchical", "comparison"], "core_category": "VISUALIZATION_BASICS", "id": "SNP629"}
{"question": "How to use the built-in XKCD comic style for plotting?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0, 10, 100)\ny = np.sin(x)\n\nwith plt.xkcd():\n    plt.plot(x, y)\n    plt.title('XKCD Style Plot')\n    plt.xlabel('X axis')\n    plt.ylabel('Y axis')\n    plt.show()", "difficulty": "medium", "tags": ["matplotlib", "xkcd", "styling", "theme"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP633"}
{"question": "How to plot a 2D KDE plot using customized contour lines (levels)?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Create sample data\ndf = pd.DataFrame({\n    'x': np.random.randn(200),\n    'y': np.random.randn(200) + 1\n})\n\nsns.kdeplot(data=df, x='x', y='y', levels=5, linewidths=1.5, color='purple')\nplt.title('2D KDE with Custom Contour Lines')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "kdeplot", "2d", "contours"], "core_category": "VISUALIZATION_BASICS", "id": "SNP634"}
{"question": "How to create a figure with two subplots of unequal width (e.g., 2:1 ratio)?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0, 10, 100)\n\nfig, (ax1, ax2) = plt.subplots(1, 2, figsize=(10, 4), gridspec_kw={'width_ratios': [2, 1]})\n\nax1.plot(x, np.sin(x), color='blue')\nax1.set_title('Wider Plot (2/3)')\n\nax2.plot(x, np.cos(x), color='red')\nax2.set_title('Narrower Plot (1/3)')\n\nplt.tight_layout()\nplt.show()", "difficulty": "hard", "tags": ["matplotlib", "subplots", "gridspec", "layout"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP639"}
{"question": "How to create a bar plot that calculates the median of the y-variable per x-category?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Create sample DataFrame\ndf = pd.DataFrame({\n    'category': np.repeat(['A', 'B', 'C'], 20),\n    'value': np.concatenate([np.random.normal(10, 2, 20),\n                            np.random.normal(15, 3, 20),\n                            np.random.normal(12, 2.5, 20)])\n})\n\nsns.barplot(data=df, x='category', y='value', estimator='median')\nplt.title('Bar Plot with Median Estimator')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "barplot", "median", "estimator"], "core_category": "VISUALIZATION_BASICS", "id": "SNP640"}
{"question": "How to create a scatter plot where marker size is proportional to a third variable (bubble chart)?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.random.rand(50)\ny = np.random.rand(50)\narea = np.random.rand(50) * 500  # Size values\n\nplt.scatter(x, y, s=area, alpha=0.5)\nplt.title('Bubble Chart')\nplt.xlabel('X')\nplt.ylabel('Y')\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "scatter-plot", "bubble-chart", "size"], "core_category": "VISUALIZATION_BASICS", "id": "SNP644"}
{"question": "How to visualize distributions across groups using a boxplot with a scatterplot overlay (Swarmplot)?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Create sample DataFrame\ndf = pd.DataFrame({\n    'category': np.repeat(['A', 'B', 'C'], 20),\n    'value': np.concatenate([np.random.normal(0, 1, 20),\n                            np.random.normal(1, 1, 20),\n                            np.random.normal(2, 1, 20)]),\n    'gender': np.tile(['M', 'F'], 30)\n})\n\nsns.swarmplot(data=df, x='category', y='value', dodge=True, hue='gender')\nplt.title('Swarmplot with Dodge')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "swarmplot", "categorical", "distribution"], "core_category": "VISUALIZATION_BASICS", "id": "SNP645"}
{"question": "How to add a shaded region to a plot between two x-coordinates?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0, 10, 100)\ny = np.sin(x)\n\nplt.plot(x, y, 'b-')\nplt.axvspan(xmin=2, xmax=4, color='gray', alpha=0.3)\nplt.title('Plot with Shaded Region')\nplt.xlabel('X')\nplt.ylabel('Y')\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "axvspan", "annotation", "shading"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP649"}
{"question": "How to plot multiple lines from different columns in a single Seaborn lineplot?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Create sample DataFrame\ndates = pd.date_range('2023-01-01', periods=20, freq='D')\ndf = pd.DataFrame({\n    'time': np.tile(dates, 3),\n    'value': np.concatenate([np.random.randn(20) + 10,\n                            np.random.randn(20) + 12,\n                            np.random.randn(20) + 11]),\n    'Metric': ['A']*20 + ['B']*20 + ['C']*20\n})\n\nsns.lineplot(data=df, x='time', y='value', hue='Metric')\nplt.title('Multiple Time Series in Single Plot')\nplt.xticks(rotation=45)\nplt.tight_layout()\nplt.show()", "difficulty": "hard", "tags": ["seaborn", "lineplot", "melt", "reshaping"], "core_category": "VISUALIZATION_BASICS", "id": "SNP650"}
{"question": "How to draw a vertical line spanning the entire height of the plot at a specific x-coordinate?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0, 10, 100)\ny = np.sin(x)\n\ndate_value = 5\n\nplt.plot(x, y)\nplt.axvline(x=date_value, color='r', linestyle=':', label='Event')\nplt.title('Plot with Vertical Reference Line')\nplt.legend()\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "axvline", "annotation", "reference-line"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP653"}
{"question": "How to plot multiple lines from different columns by melting the DataFrame first?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Create sample DataFrame\ndates = pd.date_range('2023-01-01', periods=10, freq='D')\ndf = pd.DataFrame({\n    'time': dates,\n    'A': np.random.randn(10) + 10,\n    'B': np.random.randn(10) + 12\n})\n\ndf_melted = df.melt(id_vars='time', value_vars=['A', 'B'], var_name='Series')\nsns.lineplot(data=df_melted, x='time', y='value', hue='Series')\nplt.title('Multiple Series Line Plot')\nplt.xticks(rotation=45)\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "melt", "lineplot", "time-series"], "core_category": "VISUALIZATION_BASICS", "id": "SNP654"}
{"question": "How to display a 2D NumPy array as an image with a custom color map?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nmatrix = np.random.rand(10, 10)\nplt.imshow(matrix, cmap='coolwarm', interpolation='nearest')\nplt.colorbar(label='Value')\nplt.title('2D Array as Image')\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "imshow", "image-visualization", "colormap"], "core_category": "VISUALIZATION_BASICS", "id": "SNP659"}
{"question": "How to create a 1D KDE plot and shade the area beneath the curve?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport numpy as np\n\n# Create sample data\ndata = np.random.normal(0, 1, 200)\ndf = pd.DataFrame({'value': data})\n\nsns.kdeplot(data=df, x='value', fill=True, alpha=0.5)\nplt.title('KDE Plot with Fill')\nplt.xlabel('Value')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "kdeplot", "distribution", "fill"], "core_category": "VISUALIZATION_BASICS", "id": "SNP660"}
{"question": "How to plot two different datasets on the same figure using two separate Y-axes?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0, 10, 100)\ny1 = np.sin(x)\ny2 = np.cos(x) * 100\n\nfig, ax1 = plt.subplots()\nax1.plot(x, y1, 'g-', label='y1')\nax1.set_xlabel('X data')\nax1.set_ylabel('y1', color='g')\n\nax2 = ax1.twinx()\nax2.plot(x, y2, 'b-', label='y2')\nax2.set_ylabel('y2', color='b')\n\nplt.title('Two Datasets with Separate Y-axes')\nplt.show()", "difficulty": "hard", "tags": ["matplotlib", "twinx", "secondary-axis", "subplots"], "core_category": "VISUALIZATION_BASICS", "id": "SNP664"}
{"question": "How to create a horizontal boxplot with a specific order for the categories?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Create sample DataFrame\ndf = pd.DataFrame({\n    'category': np.repeat(['A', 'B', 'C'], 20),\n    'value': np.concatenate([np.random.normal(10, 2, 20),\n                            np.random.normal(15, 3, 20),\n                            np.random.normal(12, 2.5, 20)])\n})\n\norder = ['C', 'A', 'B']\nsns.boxplot(data=df, x='value', y='category', order=order)\nplt.title('Horizontal Boxplot with Custom Order')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "boxplot", "order", "horizontal"], "core_category": "VISUALIZATION_BASICS", "id": "SNP665"}
{"question": "How to create a 3D surface plot from a 2D array (Z-data) and coordinate arrays (X, Y)?", "code": "import matplotlib.pyplot as plt\nfrom mpl_toolkits.mplot3d import Axes3D\nimport numpy as np\n\nx = np.linspace(-5, 5, 50)\ny = np.linspace(-5, 5, 50)\nX, Y = np.meshgrid(x, y)\nZ = np.sin(np.sqrt(X**2 + Y**2))\n\nfig = plt.figure()\nax = fig.add_subplot(111, projection='3d')\nax.plot_surface(X, Y, Z, cmap='viridis', edgecolor='none')\nax.set_title('3D Surface Plot')\nax.set_xlabel('X')\nax.set_ylabel('Y')\nax.set_zlabel('Z')\nplt.show()", "difficulty": "hard", "tags": ["matplotlib", "3d-plot", "surface", "projection"], "core_category": "VISUALIZATION_BASICS", "id": "SNP669"}
{"question": "How to turn off the confidence interval shading in a Seaborn lineplot?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Create sample DataFrame\ndf = pd.DataFrame({\n    'time': np.arange(10),\n    'value': np.random.randn(10) + 5\n})\n\nsns.lineplot(data=df, x='time', y='value', errorbar=None)\nplt.title('Line Plot without Confidence Interval')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "lineplot", "confidence-interval", "styling"], "core_category": "VISUALIZATION_BASICS", "id": "SNP670"}
{"question": "How to add a semi-transparent grid to the plot?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0, 10, 100)\ny = np.sin(x)\n\nplt.plot(x, y)\nplt.grid(True, linestyle='--', alpha=0.6)\nplt.title('Plot with Semi-transparent Grid')\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "grid", "styling", "transparency"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP674"}
{"question": "How to use `displot` to generate a generalized distribution plot with a rug plot underneath?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport numpy as np\n\n# Create sample data\ndata = np.random.normal(0, 1, 200)\ndf = pd.DataFrame({'value': data})\n\nsns.displot(data=df, x='value', kind='kde', rug=True)\nplt.title('Distribution Plot with Rug')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "displot", "kde", "rugplot"], "core_category": "VISUALIZATION_BASICS", "id": "SNP675"}
{"question": "How to compute the Cholesky decomposition of a positive definite matrix?", "code": "import numpy as np\nfrom scipy.linalg import cholesky\nA = np.array([[4, 2], [2, 5]])\nL = cholesky(A, lower=True)\nL", "difficulty": "hard", "tags": ["scipy", "linear-algebra", "cholesky", "decomposition"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP527"}
{"question": "How to add a rank-1 array (vector) to the columns of a 2D array (matrix)?", "code": "import numpy as np\nmatrix = np.array([[1, 2], [3, 4]])\nvector = np.array([10, 20])\nresult = matrix + vector[:, np.newaxis]\nresult", "difficulty": "medium", "tags": ["numpy", "broadcasting", "array-ops", "matrix"], "core_category": "ARRAY_OPERATIONS", "id": "SNP528"}
{"question": "How to perform linear interpolation to estimate values between known data points?", "code": "from scipy.interpolate import interp1d\nimport numpy as np\nx = np.array([0, 1, 2])\ny = np.array([0, 2, 4])\nf = interp1d(x, y)\nf([0.5, 1.5])", "difficulty": "easy", "tags": ["scipy", "interpolation", "interp1d"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP532"}
{"question": "How to perform an outer subtraction between two arrays?", "code": "import numpy as np\na = np.array([1, 2])\nb = np.array([3, 4])\nresult = a[:, None] - b[None, :]\nresult", "difficulty": "hard", "tags": ["numpy", "outer-operation", "broadcasting"], "core_category": "ARRAY_OPERATIONS", "id": "SNP533"}
{"question": "How to fill NaNs in a DataFrame using values from a matching column in another DataFrame?", "code": "import pandas as pd\nimport numpy as np\ndf1 = pd.DataFrame({'A': [1, np.nan], 'B': [np.nan, 2]})\ndf2 = pd.DataFrame({'A': [10, 20], 'B': [30, 40]})\ndf_filled = df1.combine_first(df2)\ndf_filled", "difficulty": "medium", "tags": ["pandas", "combine_first", "missing-values", "data-cleaning"], "core_category": "DATA_PREPROCESSING", "id": "SNP534"}
{"question": "How to calculate the percentage change between the current and a prior element (period=5)?", "code": "import pandas as pd\ndf = pd.DataFrame({'value': [100, 102, 105, 103, 107, 110]})\ndf['pct_change'] = df['value'].pct_change(periods=2)\ndf", "difficulty": "medium", "tags": ["pandas", "feature-engineering", "pct-change", "time-series"], "core_category": "DATA_TRANSFORMATION", "id": "SNP536"}
{"question": "How to compute numerical integration using Simpson's rule?", "code": "from scipy.integrate import simps\nimport numpy as np\nx = np.array([0, 1, 2])\ny = np.array([0, 1, 4])\narea = simps(y, x)\narea", "difficulty": "medium", "tags": ["scipy", "integration", "simpson", "calculus"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP538"}
{"question": "How to generate an array of non-repeating random integers within a range?", "code": "import numpy as np\nrandom_indices = np.random.choice(5, size=3, replace=False)\nrandom_indices", "difficulty": "easy", "tags": ["numpy", "random", "sampling", "choice"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP539"}
{"question": "How to use the vectorized `eval` method for fast expression evaluation?", "code": "import pandas as pd\nimport numpy as np\ndf = pd.DataFrame({'A': [1, 2], 'B': [3, 4], 'C': [5, 6]})\ndf['new'] = df.eval('A + B / C')\ndf", "difficulty": "medium", "tags": ["pandas", "eval", "vectorization", "performance"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP540"}
{"question": "How to perform cubic interpolation and extrapolate beyond the original data range?", "code": "from scipy.interpolate import interp1d\nimport numpy as np\nx = np.array([0, 1, 2])\ny = np.array([0, 2, 4])\nf = interp1d(x, y, kind='cubic', fill_value='extrapolate')\nf([-1, 3])", "difficulty": "hard", "tags": ["scipy", "interpolation", "extrapolation", "cubic"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP543"}
{"question": "How to downcast numeric columns to smaller dtypes to reduce memory consumption?", "code": "import pandas as pd\nimport numpy as np\ndf = pd.DataFrame({'A': [1.0, 2.0, 3.0], 'B': [100, 200, 300]})\ndf['A'] = pd.to_numeric(df['A'], downcast='float')\ndf['B'] = pd.to_numeric(df['B'], downcast='integer')\ndf.dtypes", "difficulty": "hard", "tags": ["pandas", "optimization", "dtypes", "memory"], "core_category": "DATA_PREPROCESSING", "id": "SNP544"}
{"question": "How to pad an array with a constant value (e.g., zero) around the edges?", "code": "import numpy as np\narr = np.array([[1, 2], [3, 4]])\npadded = np.pad(arr, pad_width=1, constant_values=0)\npadded", "difficulty": "medium", "tags": ["numpy", "padding", "array-manipulation"], "core_category": "ARRAY_OPERATIONS", "id": "SNP545"}
{"question": "How to localize a naive timestamp column to a specific timezone (e.g., UTC)?", "code": "import pandas as pd\ndf = pd.DataFrame({'time': pd.to_datetime(['2023-01-01', '2023-01-02'])})\ndf['time'] = df['time'].dt.tz_localize('UTC')\ndf['time'].dt.tz", "difficulty": "medium", "tags": ["pandas", "datetime", "timezone", "localization"], "core_category": "DATA_PREPROCESSING", "id": "SNP548"}
{"question": "How to compute the spectrogram of a signal?", "code": "from scipy.signal import spectrogram\nimport numpy as np\nx = np.array([1, 2, 3, 4, 5])\nf, t, Sxx = spectrogram(x, fs=1)\nSxx.shape", "difficulty": "hard", "tags": ["scipy", "signal-processing", "spectrogram", "frequency-analysis"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP549"}
{"question": "How to calculate the eigenvalues and eigenvectors of a square matrix?", "code": "import numpy as np\nA = np.array([[2, 1], [1, 2]])\neigenvalues, eigenvectors = np.linalg.eig(A)\neigenvalues, eigenvectors", "difficulty": "medium", "tags": ["numpy", "linear-algebra", "eigenvectors", "eigendecomposition"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP550"}
{"question": "How to convert column levels in a MultiIndex to row indices (unstack)?", "code": "import pandas as pd\ndf = pd.DataFrame({'val': [10, 20, 30, 40]},\n                  index=pd.MultiIndex.from_tuples([('A', 1), ('A', 2), ('B', 1), ('B', 2)]))\ndf_unstacked = df.unstack(level=1)\ndf_unstacked", "difficulty": "hard", "tags": ["pandas", "multiindex", "unstack", "reshaping"], "core_category": "DATA_TRANSFORMATION", "id": "SNP551"}
{"question": "How to calculate the entropy of a categorical column?", "code": "import pandas as pd\nimport numpy as np\ndf = pd.DataFrame({'cat': ['A', 'B', 'A', 'C']})\nprobs = df['cat'].value_counts(normalize=True)\nentropy = -np.sum(probs * np.log2(probs))\nentropy", "difficulty": "hard", "tags": ["pandas", "entropy", "information-theory", "value-counts"], "core_category": "DATA_PREPROCESSING", "id": "SNP554"}
{"question": "How to compute the covariance matrix of a dataset (2D array)?", "code": "import numpy as np\ndata = np.array([[1, 2], [3, 4], [5, 6]])\ncov_matrix = np.cov(data, rowvar=False)\ncov_matrix", "difficulty": "medium", "tags": ["numpy", "covariance", "statistics", "matrix"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP555"}
{"question": "How to calculate the exact p-value for a Chi-squared test of independence?", "code": "from scipy.stats import chi2_contingency\nimport numpy as np\ncontingency = np.array([[10, 20], [30, 40]])\nchi2, p, dof, expected = chi2_contingency(contingency)\np", "difficulty": "medium", "tags": ["scipy", "statistics", "chi-squared", "hypothesis-testing"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP556"}
{"question": "How to perform an advanced grouped ranking using `rank`?", "code": "import pandas as pd\ndf = pd.DataFrame({'cat': ['A', 'A', 'B'], 'val': [10, 20, 30]})\ndf['rank'] = df.groupby('cat')['val'].rank(method='dense', ascending=False)\ndf", "difficulty": "medium", "tags": ["pandas", "groupby", "ranking", "dense"], "core_category": "DATA_TRANSFORMATION", "id": "SNP557"}
{"question": "How to perform an outer merge and efficiently fill NaNs in the resulting DataFrame?", "code": "import pandas as pd\ndf1 = pd.DataFrame({'key': [1, 2], 'val1': [10, 20]})\ndf2 = pd.DataFrame({'key': [2, 3], 'val2': [200, 300]})\nmerged = df1.merge(df2, on='key', how='outer').fillna({'val1': 0, 'val2': -1})\nmerged", "difficulty": "medium", "tags": ["pandas", "outer-merge", "fillna", "data-cleaning"], "core_category": "DATA_TRANSFORMATION", "id": "SNP560"}
{"question": "How to compute the inverse of a square matrix?", "code": "import numpy as np\nmatrix = np.array([[2, 1], [1, 2]])\ninv_matrix = np.linalg.inv(matrix)\ninv_matrix", "difficulty": "medium", "tags": ["numpy", "inverse", "linear-algebra"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP561"}
{"question": "How to perform the Kruskal-Wallis H-test (non-parametric ANOVA) on three or more independent samples?", "code": "from scipy.stats import kruskal\nimport numpy as np\ng1 = [1, 2, 3]\ng2 = [2, 3, 4]\ng3 = [3, 4, 5]\nstat, p = kruskal(g1, g2, g3)\nstat, p", "difficulty": "medium", "tags": ["scipy", "statistics", "non-parametric", "kruskal"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP564"}
{"question": "How to use `stack` to convert column labels to a row MultiIndex?", "code": "import pandas as pd\ndf = pd.DataFrame({'id': [1, 2], 'A': [10, 20], 'B': [30, 40]})\nstacked = df.set_index('id').stack()\nstacked", "difficulty": "hard", "tags": ["pandas", "stack", "multiindex", "reshaping"], "core_category": "DATA_TRANSFORMATION", "id": "SNP565"}
{"question": "How to find the unique elements that are in array A but not in array B (set difference)?", "code": "import numpy as np\nA = np.array([1, 2, 3])\nB = np.array([3, 4, 5])\ndiff = np.setdiff1d(A, B)\ndiff", "difficulty": "easy", "tags": ["numpy", "set-operations", "array-ops"], "core_category": "ARRAY_OPERATIONS", "id": "SNP566"}
{"question": "How to perform string searching and filtering using case-insensitive regex flags?", "code": "import pandas as pd\ndf = pd.DataFrame({'text': ['Error', 'No error', 'ERROR']})\ndf_filtered = df[df['text'].str.contains('error', case=False)]\ndf_filtered", "difficulty": "medium", "tags": ["pandas", "string-operations", "regex", "filtering"], "core_category": "DATA_PREPROCESSING", "id": "SNP567"}
{"question": "How to calculate the linkage matrix for hierarchical clustering?", "code": "from scipy.cluster.hierarchy import linkage\nimport numpy as np\nX = np.array([[1, 2], [3, 4], [5, 6]])\nZ = linkage(X, method='ward')\nZ", "difficulty": "hard", "tags": ["scipy", "clustering", "hierarchical", "linkage"], "core_category": "ML_MODELING", "id": "SNP570"}
{"question": "How to slice a MultiIndex DataFrame along a specific level using `xs`?", "code": "import pandas as pd\ndf = pd.DataFrame({'val': [10, 20, 30, 40]},\n                  index=pd.MultiIndex.from_tuples([('A', 1), ('A', 2), ('B', 1), ('B', 2)]))\ndf_slice = df.xs('A', level=0)\ndf_slice", "difficulty": "medium", "tags": ["pandas", "multiindex", "xs", "slicing"], "core_category": "DATA_TRANSFORMATION", "id": "SNP571"}
{"question": "How to calculate the polynomial coefficients that best fit a set of data points?", "code": "import numpy as np\nx = [0, 1, 2]\ny = [0, 1, 4]\ncoeff = np.polyfit(x, y, deg=2)\ncoeff", "difficulty": "medium", "tags": ["numpy", "polyfit", "regression", "curve-fitting"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP572"}
{"question": "How to save a DataFrame directly to a SQL database table?", "code": "from sqlalchemy import create_engine\nimport pandas as pd\ndf = pd.DataFrame({'id': [1, 2], 'name': ['A', 'B']})\nengine = create_engine('sqlite:///:memory:')\ndf.to_sql('table', con=engine, if_exists='replace', index=False)", "difficulty": "hard", "tags": ["pandas", "io", "to_sql", "database"], "core_category": "DATA_PREPROCESSING", "id": "SNP573"}
{"question": "How to find the minimum of a multivariate function subject to constraints (SLSQP method)?", "code": "from scipy.optimize import minimize\nimport numpy as np\ndef f(x):\n    return x[0]**2 + x[1]**2\ncons = ({'type': 'ineq', 'fun': lambda x: x[0] - 1})\nres = minimize(f, [0, 0], method='SLSQP', constraints=cons)\nres.x", "difficulty": "hard", "tags": ["scipy", "optimization", "multivariate", "constraints"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP576"}
{"question": "How to compute the numerical gradient of a function (approximation of the derivative)?", "code": "import numpy as np\ndata = np.array([1, 4, 9])\ngradient = np.gradient(data)\ngradient", "difficulty": "medium", "tags": ["numpy", "gradient", "derivative", "numerical-method"], "core_category": "ARRAY_OPERATIONS", "id": "SNP577"}
{"question": "How to use a rolling window to apply a custom aggregation function (e.g., range)?", "code": "import pandas as pd\ndf = pd.DataFrame({'val': [1, 2, 3, 4, 5]})\ndf['roll_range'] = df['val'].rolling(window=3).apply(lambda x: x.max() - x.min())\ndf", "difficulty": "hard", "tags": ["pandas", "rolling", "custom-function", "feature-engineering"], "core_category": "DATA_TRANSFORMATION", "id": "SNP578"}
{"question": "How to apply a custom function element-wise across a DataFrame and suppress warnings about Series objects?", "code": "import pandas as pd\ndf = pd.DataFrame({'A': [1, 2], 'B': [3, 4]})\ndef f(x):\n    return x * 2\ndf_transformed = df.apply(f)\ndf_transformed", "difficulty": "hard", "tags": ["pandas", "apply", "custom-function", "performance"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP581"}
{"question": "How to apply a lowpass filter to an image (2D convolution)?", "code": "from scipy.ndimage import gaussian_filter\nimport numpy as np\nimg = np.array([[1, 2], [3, 4]])\nfiltered = gaussian_filter(img, sigma=1)\nfiltered", "difficulty": "hard", "tags": ["scipy", "signal-processing", "image-processing", "filter"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP582"}
{"question": "How to calculate the pseudo-inverse of a matrix (useful for non-square matrices)?", "code": "import numpy as np\nA = np.array([[1, 2], [3, 4], [5, 6]])\npinv = np.linalg.pinv(A)\npinv", "difficulty": "medium", "tags": ["numpy", "pseudo-inverse", "linear-algebra", "moore-penrose"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP583"}
{"question": "How to impute missing values using the Exponentially Weighted Moving Average (EWMA)?", "code": "import pandas as pd\nimport numpy as np\ndf = pd.DataFrame({'val': [1, np.nan, 3, np.nan, 5]})\ndf['filled'] = df['val'].fillna(df['val'].ewm(span=2).mean())\ndf", "difficulty": "hard", "tags": ["pandas", "ewm", "imputation", "time-series"], "core_category": "DATA_PREPROCESSING", "id": "SNP585"}
{"question": "How to calculate the correlation distance (1 - absolute correlation) between all pairs of observations?", "code": "from scipy.spatial.distance import pdist, squareform\nimport numpy as np\nX = np.array([[1, 2], [3, 4]])\ndistances = pdist(X, metric='correlation')\ndist_matrix = squareform(distances)\ndist_matrix", "difficulty": "hard", "tags": ["scipy", "distance", "correlation", "clustering"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP587"}
{"question": "How to perform one-hot encoding while dropping one category to avoid multicollinearity?", "code": "import pandas as pd\ndf = pd.DataFrame({'cat': ['A', 'B', 'C']})\ndf_encoded = pd.get_dummies(df, columns=['cat'], drop_first=True)\ndf_encoded", "difficulty": "medium", "tags": ["pandas", "one-hot-encoding", "get_dummies", "preprocessing"], "core_category": "DATA_TRANSFORMATION", "id": "SNP588"}
{"question": "How to generate random integers following a Poisson distribution?", "code": "import numpy as np\nsamples = np.random.poisson(lam=3, size=5)\nsamples", "difficulty": "medium", "tags": ["numpy", "random", "poisson", "distribution"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP589"}
{"question": "How to pivot a table that uses a MultiIndex for both rows and columns?", "code": "import pandas as pd\ndf = pd.DataFrame({\n    'Year': [2022, 2022, 2023, 2023],\n    'Prod': ['A', 'B', 'A', 'B'],\n    'Sales': [100, 200, 150, 250]\n})\npivot = df.pivot_table(index='Year', columns='Prod', values='Sales')\npivot", "difficulty": "hard", "tags": ["pandas", "pivot_table", "multiindex", "reshaping"], "core_category": "DATA_TRANSFORMATION", "id": "SNP592"}
{"question": "How to check if two distributions are statistically the same using the KS-2 sample test?", "code": "from scipy.stats import ks_2samp\nimport numpy as np\ndist1 = [1, 2, 3]\ndist2 = [2, 3, 4]\nstat, p = ks_2samp(dist1, dist2)\nstat, p", "difficulty": "medium", "tags": ["scipy", "statistics", "ks-test", "hypothesis-testing"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP593"}
{"question": "How to replace elements in an array based on values from another array using advanced indexing?", "code": "import numpy as np\narr = np.array([1, 2, 3, 4, 5])\nindices = [0, 2, 4]\nnew_values = [10, 30, 50]\narr[indices] = new_values\narr", "difficulty": "easy", "tags": ["numpy", "indexing", "replacement"], "core_category": "ARRAY_OPERATIONS", "id": "SNP594"}
{"question": "How to calculate the time elapsed from the beginning of the month for each record?", "code": "import pandas as pd\ndf = pd.DataFrame({'date': pd.to_datetime(['2023-01-15', '2023-02-10'])})\ndf['days'] = df['date'].dt.day\ndf", "difficulty": "hard", "tags": ["pandas", "datetime", "feature-engineering", "timeseries"], "core_category": "DATA_PREPROCESSING", "id": "SNP595"}
{"question": "How to apply an optimal Wiener filter to smooth a signal, assuming known noise characteristics?", "code": "from scipy.signal import wiener\nimport numpy as np\nsignal = np.array([1, 2, 3, 4, 5])\nfiltered = wiener(signal, mysize=3)\nfiltered", "difficulty": "hard", "tags": ["scipy", "signal-processing", "wiener-filter", "smoothing"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP598"}
{"question": "How to normalize a column of strings by removing non-alphanumeric characters and converting to lowercase?", "code": "import pandas as pd\ndf = pd.DataFrame({'text': ['Hello!', 'Python3']})\ndf['clean'] = df['text'].str.replace(r'[^A-Za-z0-9]', '', regex=True).str.lower()\ndf", "difficulty": "medium", "tags": ["pandas", "string-operations", "data-cleaning", "regex"], "core_category": "DATA_PREPROCESSING", "id": "SNP599"}
{"question": "How to efficiently calculate the Vandermonde matrix (polynomial basis matrix)?", "code": "import numpy as np\nx = np.array([1, 2, 3])\nV = np.vander(x, N=3)\nV", "difficulty": "medium", "tags": ["numpy", "vander", "linear-algebra", "polynomial"], "core_category": "ARRAY_OPERATIONS", "id": "SNP600"}
{"question": "How to calculate the exponential decay (half-life) of a time series feature?", "code": "import pandas as pd\ndf = pd.DataFrame({'val': [100, 50, 25]})\ndf['decay'] = df['val'].ewm(halflife=1).mean()\ndf", "difficulty": "hard", "tags": ["pandas", "ewm", "halflife", "time-series"], "core_category": "DATA_TRANSFORMATION", "id": "SNP603"}
{"question": "How to pivot a table to include margins (totals) for rows and columns?", "code": "import pandas as pd\ndf = pd.DataFrame({'Region': ['N', 'S'], 'Sales': [100, 200]})\npivot = df.pivot_table(index='Region', values='Sales', aggfunc='sum', margins=True)\npivot", "difficulty": "medium", "tags": ["pandas", "pivot_table", "aggregation", "margins"], "core_category": "DATA_TRANSFORMATION", "id": "SNP604"}
{"question": "How to calculate the median absolute deviation (MAD) as a robust measure of variability?", "code": "import numpy as np\narr = np.array([1, 2, 3, 4, 5])\nmad = np.median(np.abs(arr - np.median(arr)))\nmad", "difficulty": "medium", "tags": ["numpy", "statistics", "mad", "robust"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP605"}
{"question": "How to compute the Student's t-distribution probability density function (PDF)?", "code": "from scipy.stats import t\nimport numpy as np\nx = np.array([-2, -1, 0, 1, 2])\npdf_val = t.pdf(x, df=5)\npdf_val", "difficulty": "medium", "tags": ["scipy", "statistics", "t-distribution", "pdf"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP608"}
{"question": "How to cap (clip) outliers in a column based on the 1st and 99th percentiles?", "code": "import pandas as pd\ndf = pd.DataFrame({'value': [1, 2, 3, 1000]})\nlower = df['value'].quantile(0.01)\nupper = df['value'].quantile(0.99)\ndf['value'] = df['value'].clip(lower, upper)\ndf", "difficulty": "medium", "tags": ["pandas", "clipping", "outliers", "feature-engineering"], "core_category": "DATA_TRANSFORMATION", "id": "SNP609"}
{"question": "How to generate random integers from a specified range and reshape the result?", "code": "import numpy as np\nrand_mat = np.random.randint(0, 10, size=(2, 3))\nrand_mat", "difficulty": "easy", "tags": ["numpy", "random", "randint", "generation"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP610"}
{"question": "How to fill NaNs using interpolation based on a cubic spline?", "code": "import pandas as pd\nimport numpy as np\ndf = pd.DataFrame({'value': [1, np.nan, 3, np.nan, 5]})\ndf['value'] = df['value'].interpolate(method='spline', order=2)\ndf", "difficulty": "hard", "tags": ["pandas", "interpolation", "spline", "missing-values"], "core_category": "DATA_PREPROCESSING", "id": "SNP611"}
{"question": "How to calculate the power of each element in an array?", "code": "import numpy as np\narr = np.array([1, 2, 3])\nresult = np.power(arr, 2)\nresult", "difficulty": "easy", "tags": ["numpy", "power", "element-wise"], "core_category": "ARRAY_OPERATIONS", "id": "SNP615"}
{"question": "How to create a MultiIndex from date and category columns and perform slicing on it?", "code": "import pandas as pd\ndf = pd.DataFrame({\n    'date': ['2023-01-01', '2023-01-01', '2023-01-02'],\n    'cat': ['A', 'B', 'A'],\n    'val': [10, 20, 30]\n})\ndf['date'] = pd.to_datetime(df['date'])\ndf = df.set_index(['date', 'cat'])\ndf_slice = df.loc[(pd.Timestamp('2023-01-01'), 'A'), :]\ndf_slice", "difficulty": "hard", "tags": ["pandas", "multiindex", "slicing", "loc"], "core_category": "DATA_PREPROCESSING", "id": "SNP616"}
{"question": "How to compute the Spearman rank correlation between two variables?", "code": "from scipy.stats import spearmanr\nimport numpy as np\nx = [1, 2, 3]\ny = [2, 3, 1]\ncorr, p = spearmanr(x, y)\ncorr, p", "difficulty": "medium", "tags": ["scipy", "statistics", "spearman", "correlation"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP619"}
{"question": "How to use `pd.crosstab` to create a frequency table from two columns?", "code": "import pandas as pd\ndf = pd.DataFrame({'col1': ['A', 'A', 'B'], 'col2': ['X', 'Y', 'X']})\nfreq_table = pd.crosstab(df['col1'], df['col2'])\nfreq_table", "difficulty": "medium", "tags": ["pandas", "crosstab", "frequency", "reshaping"], "core_category": "DATA_TRANSFORMATION", "id": "SNP620"}
{"question": "How to compute the rank of a matrix?", "code": "import numpy as np\nA = np.array([[1, 2], [3, 4]])\nrank = np.linalg.matrix_rank(A)\nrank", "difficulty": "medium", "tags": ["numpy", "matrix-rank", "linear-algebra"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP621"}
{"question": "How to check if any row in a DataFrame contains any NaN value?", "code": "import pandas as pd\nimport numpy as np\ndf = pd.DataFrame({'A': [1, np.nan], 'B': [3, 4]})\nhas_nan = df.isnull().any(axis=1).any()\nhas_nan", "difficulty": "medium", "tags": ["pandas", "isnull", "nan-check", "boolean"], "core_category": "DATA_PREPROCESSING", "id": "SNP623"}
{"question": "How to minimize a function using the Nelder-Mead simplex algorithm?", "code": "from scipy.optimize import minimize\nimport numpy as np\ndef f(x):\n    return (x[0] - 1)**2 + (x[1] - 2)**2\nres = minimize(f, [0, 0], method='Nelder-Mead')\nres.x", "difficulty": "medium", "tags": ["scipy", "optimization", "nelder-mead", "simplex"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP625"}
{"question": "How to efficiently check if all elements in a boolean array are True?", "code": "import numpy as np\nbool_arr = np.array([True, True, False])\nall_true = bool_arr.all()\nall_true", "difficulty": "easy", "tags": ["numpy", "boolean", "all", "check"], "core_category": "ARRAY_OPERATIONS", "id": "SNP626"}
{"question": "How to compute the difference between the current row and the row 5 periods before it?", "code": "import pandas as pd\ndf = pd.DataFrame({'value': [1, 2, 3, 4, 5, 6]})\ndf['lag5_diff'] = df['value'].diff(periods=2)\ndf", "difficulty": "medium", "tags": ["pandas", "diff", "lag", "time-series"], "core_category": "DATA_TRANSFORMATION", "id": "SNP627"}
{"question": "How to compute the determinant of a square matrix?", "code": "import numpy as np\nA = np.array([[2, 1], [1, 2]])\ndet = np.linalg.det(A)\ndet", "difficulty": "easy", "tags": ["numpy", "scipy", "determinant", "linear-algebra"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP630"}
{"question": "How to replace infinite values (inf, -inf) with NaNs?", "code": "import pandas as pd\nimport numpy as np\ndf = pd.DataFrame({'A': [1, np.inf, 3]})\ndf = df.replace([np.inf, -np.inf], np.nan)\ndf", "difficulty": "medium", "tags": ["pandas", "data-cleaning", "replace", "inf"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP631"}
{"question": "How to compute the Kronecker product of two arrays (outer product generalization)?", "code": "import numpy as np\nA = np.array([[1, 2]])\nB = np.array([[0, 5]])\nkronecker = np.kron(A, B)\nkronecker", "difficulty": "hard", "tags": ["numpy", "kron", "kronecker", "linear-algebra"], "core_category": "ARRAY_OPERATIONS", "id": "SNP632"}
{"question": "How to split a string column based on a delimiter and expand into new columns?", "code": "import pandas as pd\ndf = pd.DataFrame({'full_col': ['A_100', 'B_200']})\ndf[['col_a', 'col_b']] = df['full_col'].str.split('_', expand=True)\ndf", "difficulty": "medium", "tags": ["pandas", "string-operations", "split", "expansion"], "core_category": "DATA_PREPROCESSING", "id": "SNP635"}
{"question": "How to apply a Median filter to a 1D signal to remove salt-and-pepper noise?", "code": "from scipy.signal import medfilt\nimport numpy as np\nsignal = np.array([1, 2, 100, 4, 5])\nfiltered = medfilt(signal, kernel_size=3)\nfiltered", "difficulty": "medium", "tags": ["scipy", "signal-processing", "median-filter", "noise-reduction"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP636"}
{"question": "How to generate samples from a standard normal distribution (mean=0, std=1)?", "code": "import numpy as np\nsamples = np.random.standard_normal(size=5)\nsamples", "difficulty": "easy", "tags": ["numpy", "random", "normal-distribution", "standard"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP637"}
{"question": "How to read JSON data where records are stored line-by-line?", "code": "import pandas as pd\nimport io\njsonl_data = '{\"a\": 1}\\n{\"a\": 2}\\n'\ndf = pd.read_json(io.StringIO(jsonl_data), lines=True)\ndf", "difficulty": "medium", "tags": ["pandas", "io", "read_json", "jsonl"], "core_category": "DATA_PREPROCESSING", "id": "SNP638"}
{"question": "How to compute the eigenvalues of a large, sparse matrix?", "code": "from scipy.sparse.linalg import eigs\nfrom scipy.sparse import csr_matrix\nimport numpy as np\nsparse_mat = csr_matrix([[1, 0], [0, 2]])\neigenvalues = eigs(sparse_mat, k=2, return_eigenvectors=False)\neigenvalues", "difficulty": "hard", "tags": ["scipy", "sparse-matrix", "eigenvalues", "linear-algebra"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP641"}
{"question": "How to calculate the total sum of sales after grouping by category and month?", "code": "import pandas as pd\ndf = pd.DataFrame({\n    'date': pd.to_datetime(['2023-01-01', '2023-01-02', '2023-02-01']),\n    'cat': ['A', 'A', 'B'],\n    'sales': [10, 20, 30]\n})\ndf_sum = df.groupby(['cat', df['date'].dt.month])['sales'].sum()\ndf_sum", "difficulty": "medium", "tags": ["pandas", "groupby", "time-aggregation", "to_period"], "core_category": "DATA_TRANSFORMATION", "id": "SNP642"}
{"question": "How to compute the generalized inner product (e.g., vector-matrix-vector multiplication)?", "code": "import numpy as np\nx = np.array([1, 2])\nA = np.array([[2, 1], [1, 3]])\ny = np.array([3, 4])\nresult = x @ A @ y\nresult", "difficulty": "medium", "tags": ["numpy", "dot-product", "linear-algebra", "matmul"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP643"}
{"question": "How to efficiently count the number of distinct (unique) values in a DataFrame column?", "code": "import pandas as pd\ndf = pd.DataFrame({'col': [1, 2, 2, 3]})\ncount = df['col'].nunique()\ncount", "difficulty": "easy", "tags": ["pandas", "nunique", "counting", "basics"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP646"}
{"question": "How to perform nearest neighbor interpolation to estimate grid data?", "code": "from scipy.interpolate import NearestNDInterpolator\nimport numpy as np\npoints = np.array([[0, 0], [1, 1]])\nvalues = np.array([10, 20])\ninterp = NearestNDInterpolator(points, values)\ninterp([0.5, 0.5])", "difficulty": "hard", "tags": ["scipy", "interpolation", "nearest-neighbor", "nd"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP647"}
{"question": "How to convert a list of binary arrays into a single decimal integer array?", "code": "import numpy as np\nbinary = np.array([[1, 0, 1], [0, 1, 1]])\ndecimal = binary.dot(1 << np.arange(binary.shape[1]-1, -1, -1))\ndecimal", "difficulty": "hard", "tags": ["numpy", "binary", "conversion", "dot-product"], "core_category": "ARRAY_OPERATIONS", "id": "SNP648"}
{"question": "How to convert a column of lists (or arrays) into separate indicator/dummy columns?", "code": "import pandas as pd\ndf = pd.DataFrame({'list_col': [['A', 'B'], ['C'], ['A', 'C']]})\nexpanded = pd.get_dummies(df['list_col'].explode()).groupby(level=0).sum()\nexpanded", "difficulty": "hard", "tags": ["pandas", "dummy-variables", "one-hot-encoding", "list-splitting"], "core_category": "DATA_PREPROCESSING", "id": "SNP651"}
{"question": "How to compute the outer product of two vectors, resulting in a matrix?", "code": "import numpy as np\nv1 = np.array([1, 2])\nv2 = np.array([3, 4])\nouter = np.outer(v1, v2)\nouter", "difficulty": "easy", "tags": ["numpy", "outer-product", "linear-algebra"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP652"}
{"question": "How to perform the Mann-Whitney U rank test (non-parametric comparison of two independent samples)?", "code": "from scipy.stats import mannwhitneyu\nimport numpy as np\nsample1 = [1, 2, 3]\nsample2 = [2, 3, 4]\nstat, p = mannwhitneyu(sample1, sample2)\nstat, p", "difficulty": "medium", "tags": ["scipy", "statistics", "non-parametric", "hypothesis-testing"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP655"}
{"question": "How to create a DataFrame from a dictionary where values are arrays or lists?", "code": "import pandas as pd\ndata = {'a': [1, 2, 3], 'b': [4, 5, 6]}\ndf = pd.DataFrame(data)\ndf", "difficulty": "easy", "tags": ["pandas", "creation", "basics", "dictionary"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP656"}
{"question": "How to tile a 1D array to create a 2D array where the 1D array is repeated row-wise?", "code": "import numpy as np\narr = np.array([1, 2, 3])\ntiled = np.tile(arr, (2, 1))\ntiled", "difficulty": "medium", "tags": ["numpy", "tile", "repetition", "broadcasting"], "core_category": "ARRAY_OPERATIONS", "id": "SNP657"}
{"question": "How to use `pivot` (not `pivot_table`) to reshape a DataFrame when there are no aggregate functions needed?", "code": "import pandas as pd\ndf = pd.DataFrame({\n    'date': ['2023-01-01', '2023-01-01', '2023-01-02'],\n    'item': ['A', 'B', 'A'],\n    'price': [10, 20, 15]\n})\npivoted = df.pivot(index='date', columns='item', values='price')\npivoted", "difficulty": "medium", "tags": ["pandas", "pivot", "reshaping", "wide-to-long"], "core_category": "DATA_TRANSFORMATION", "id": "SNP658"}
{"question": "How to compute the probability of a value falling in a certain range using a standard normal CDF?", "code": "from scipy.stats import norm\nprob = norm.cdf(1) - norm.cdf(-1)\nprob", "difficulty": "medium", "tags": ["scipy", "statistics", "cdf", "norm"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP661"}
{"question": "How to compute the 25th, 50th, and 75th percentiles simultaneously?", "code": "import numpy as np\narr = [1, 2, 3, 4, 5]\nquantiles = np.percentile(arr, [25, 50, 75])\nquantiles", "difficulty": "easy", "tags": ["numpy", "percentile", "statistics", "quantiles"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP662"}
{"question": "How to strip whitespace from both ends of every string element in a column?", "code": "import pandas as pd\ndf = pd.DataFrame({'col': ['  a  ', ' b ', 'c  ']})\ndf['col'] = df['col'].str.strip()\ndf", "difficulty": "easy", "tags": ["pandas", "string-operations", "strip", "data-cleaning"], "core_category": "DATA_PREPROCESSING", "id": "SNP663"}
{"question": "How to compute the matrix exponential?", "code": "from scipy.linalg import expm\nimport numpy as np\nA = np.array([[0, -1], [1, 0]])\nexpA = expm(A)\nexpA", "difficulty": "hard", "tags": ["scipy", "linear-algebra", "matrix-exponential"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP666"}
{"question": "How to compute the size (count) of each group?", "code": "import pandas as pd\ndf = pd.DataFrame({'cat': ['A', 'A', 'B', 'B']})\ncounts = df.groupby('cat').size()\ncounts", "difficulty": "easy", "tags": ["pandas", "groupby", "size", "counting"], "core_category": "DATA_TRANSFORMATION", "id": "SNP667"}
{"question": "How to compute the difference between adjacent elements in a 1D array?", "code": "import numpy as np\narr = np.array([1, 3, 6, 10])\ndiff = np.diff(arr)\ndiff", "difficulty": "easy", "tags": ["numpy", "diff", "difference", "adjacent"], "core_category": "ARRAY_OPERATIONS", "id": "SNP668"}
{"question": "How to find the parameters of a sine wave that best fit noisy data?", "code": "from scipy.optimize import curve_fit\nimport numpy as np\ndef sine(x, a, b, c):\n    return a * np.sin(b * x + c)\nx = [0, 1, 2]\ny = [0, 1, 0]\nparams, _ = curve_fit(sine, x, y)\nparams", "difficulty": "hard", "tags": ["scipy", "curve-fitting", "optimization", "sine-wave"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP671"}
{"question": "How to reset the index of a DataFrame, converting the existing index into a column?", "code": "import pandas as pd\ndf = pd.DataFrame({'val': [10, 20]}, index=['A', 'B'])\ndf_reset = df.reset_index()\ndf_reset", "difficulty": "easy", "tags": ["pandas", "reset_index", "indexing", "basics"], "core_category": "DATA_TRANSFORMATION", "id": "SNP672"}
{"question": "How to generate indices that would sort an array (indirect sorting)?", "code": "import numpy as np\narr = np.array([3, 1, 2])\nsort_idx = np.argsort(arr)\nsort_idx", "difficulty": "medium", "tags": ["numpy", "argsort", "sorting", "indexing"], "core_category": "ARRAY_OPERATIONS", "id": "SNP673"}
{"question": "How to sample a time series DataFrame at regular intervals (e.g., end of the month)?", "code": "import pandas as pd\ndf = pd.DataFrame({'val': [1, 2, 3, 4]},\n                  index=pd.date_range('2023-01-01', periods=4, freq='D'))\nsampled = df.resample('2D').mean()\nsampled", "difficulty": "medium", "tags": ["pandas", "resample", "time-series", "sampling"], "core_category": "DATA_PREPROCESSING", "id": "SNP676"}
{"question": "How to perform an F-test to compare the variances of two samples (Levene's test)?", "code": "from scipy.stats import levene\nimport numpy as np\ns1 = [1, 2, 3]\ns2 = [2, 3, 4]\nstat, p = levene(s1, s2)\nstat, p", "difficulty": "medium", "tags": ["scipy", "statistics", "levene", "variance"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP677"}
{"question": "How to calculate the trace (sum of diagonal elements) of a square matrix?", "code": "import numpy as np\nA = np.array([[1, 2], [3, 4]])\ntrace = np.trace(A)\ntrace", "difficulty": "easy", "tags": ["numpy", "trace", "linear-algebra"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP678"}
{"question": "How to check which column has the most missing values?", "code": "import pandas as pd\nimport numpy as np\ndf = pd.DataFrame({'A': [1, np.nan], 'B': [np.nan, 2], 'C': [3, 4]})\nmost_missing = df.isnull().sum().idxmax()\nmost_missing", "difficulty": "medium", "tags": ["pandas", "isnull", "missing-values", "aggregation"], "core_category": "DATA_PREPROCESSING", "id": "SNP679"}
{"question": "How to add an overall title to a figure containing multiple subplots (`suptitle`)?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0, 10, 100)\n\nfig, (ax1, ax2) = plt.subplots(1, 2, figsize=(10, 4))\nax1.plot(x, np.sin(x))\nax2.plot(x, np.cos(x))\n\nfig.suptitle('Global Figure Title', fontsize=16)\nplt.tight_layout()\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "suptitle", "title", "subplots"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP680"}
{"question": "How to create a simple linear regression plot without plotting the raw data points?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\n\n# Load sample data\ndf = sns.load_dataset('tips')\nsns.regplot(data=df, x='total_bill', y='tip', scatter=False)\nplt.title('Linear Regression Line Only')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "regplot", "regression", "scatter"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP681"}
{"question": "How to save a plot to a file, specifying a high resolution (DPI)?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0, 10, 100)\ny = np.sin(x)\n\nplt.plot(x, y)\nplt.title('Sample Plot')\nplt.savefig('plot.png', dpi=300, bbox_inches='tight')", "difficulty": "easy", "tags": ["matplotlib", "save", "dpi", "resolution"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP685"}
{"question": "How to visualize the count of observations in each category with Seaborn's `countplot`?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\n\n# Create sample DataFrame\ndf = pd.DataFrame({\n    'category': ['A', 'B', 'A', 'C', 'B', 'A', 'C', 'C', 'B', 'A'],\n    'group': ['X', 'X', 'Y', 'Y', 'X', 'Y', 'X', 'Y', 'X', 'Y']\n})\n\nsns.countplot(data=df, y='category', hue='group')\nplt.title('Countplot with Hue')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "countplot", "categorical", "counting"], "core_category": "ML_MODELING", "id": "SNP686"}
{"question": "How to hide the tick labels on both the x and y axes?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0, 10, 100)\ny = np.sin(x)\n\nfig, ax = plt.subplots()\nax.plot(x, y)\nax.tick_params(labelbottom=False, labelleft=False)\nplt.title('Plot without Tick Labels')\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "ticks", "styling", "hiding"], "core_category": "VISUALIZATION_BASICS", "id": "SNP691"}
{"question": "How to fit and plot a quadratic regression line using `regplot`?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Create sample data\nx = np.linspace(0, 10, 50)\ny = 2 * x**2 - 3 * x + 5 + np.random.normal(0, 10, 50)\ndf = pd.DataFrame({'x': x, 'y': y})\n\nsns.regplot(data=df, x='x', y='y', order=2)\nplt.title('Quadratic Regression')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "regplot", "quadratic", "regression"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP692"}
{"question": "How to set the exact position and size of a subplot using normalized figure coordinates (e.g., for custom placement)?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nfig = plt.figure(figsize=(8, 6))\nax = fig.add_axes([0.1, 0.1, 0.8, 0.8])  # left, bottom, width, height\n\nx = np.linspace(0, 10, 100)\nax.plot(x, np.sin(x))\nax.set_title('Custom Positioned Subplot')\nplt.show()", "difficulty": "hard", "tags": ["matplotlib", "add_axes", "normalized-coordinates", "layout"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP698"}
{"question": "How to visualize the relationship between two categorical variables using a categorical line plot?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\n\n# Load sample data\ndf = sns.load_dataset('tips')\nsns.pointplot(data=df, x='day', y='total_bill', hue='sex', dodge=True)\nplt.title('Categorical Line Plot')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "pointplot", "categorical", "line-plot"], "core_category": "VISUALIZATION_BASICS", "id": "SNP699"}
{"question": "How to create a step plot?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.arange(10)\ny = np.random.randint(1, 10, 10)\n\nplt.step(x, y, where='pre', linestyle='--', marker='o')\nplt.title('Step Plot')\nplt.xlabel('X')\nplt.ylabel('Y')\nplt.grid(True, alpha=0.3)\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "step-plot", "time-series"], "core_category": "VISUALIZATION_BASICS", "id": "SNP703"}
{"question": "How to customize the diagonal of a `pairplot` to show a KDE plot instead of a histogram?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\n\n# Load sample data\ndf = sns.load_dataset('iris')\nsns.pairplot(df, diag_kind='kde')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "pairplot", "kde", "distribution"], "core_category": "VISUALIZATION_BASICS", "id": "SNP704"}
{"question": "How to create a 3D scatter plot?", "code": "import matplotlib.pyplot as plt\nfrom mpl_toolkits.mplot3d import Axes3D\nimport numpy as np\n\nnp.random.seed(42)\nx = np.random.rand(50)\ny = np.random.rand(50)\nz = np.random.rand(50)\n\nfig = plt.figure()\nax = fig.add_subplot(111, projection='3d')\nax.scatter(x, y, z, c=z, cmap='viridis')\nax.set_xlabel('X')\nax.set_ylabel('Y')\nax.set_zlabel('Z')\nplt.title('3D Scatter Plot')\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "3d-plot", "scatter", "projection"], "core_category": "VISUALIZATION_BASICS", "id": "SNP709"}
{"question": "How to create a boxenplot that splits the distributions by the hue variable?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\n\n# Load sample data\ndf = sns.load_dataset('tips')\nsns.boxenplot(data=df, x='day', y='total_bill', hue='sex', dodge=True)\nplt.title('Boxenplot with Split')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "boxenplot", "split", "distribution"], "core_category": "VISUALIZATION_BASICS", "id": "SNP710"}
{"question": "How to customize the marker style for a line plot (e.g., star marker)?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0, 10, 10)\ny = x**2\n\nplt.plot(x, y, marker='*', markersize=10, linestyle='--', linewidth=2)\nplt.title('Line Plot with Star Markers')\nplt.xlabel('X')\nplt.ylabel('Y')\nplt.grid(True, alpha=0.3)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "markers", "linestyle", "styling"], "core_category": "VISUALIZATION_BASICS", "id": "SNP714"}
{"question": "How to show the full range of distribution for each category using a wide boxplot (width proportional to count)?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Create sample DataFrame\ndf = pd.DataFrame({\n    'category': np.repeat(['A', 'B', 'C'], [50, 30, 20]),\n    'value': np.concatenate([np.random.normal(10, 2, 50),\n                            np.random.normal(15, 3, 30),\n                            np.random.normal(12, 2.5, 20)])\n})\n\nsns.boxplot(data=df, x='category', y='value', width=0.8, notch=True)\nplt.title('Notched Boxplot with Custom Width')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "boxplot", "notch", "width"], "core_category": "ML_MODELING", "id": "SNP715"}
{"question": "How to display a grayscale image and customize the colormap to 'gray'?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\n# Create sample image\ngray_image = np.random.rand(100, 100)\n\nplt.imshow(gray_image, cmap='gray')\nplt.colorbar(label='Intensity')\nplt.title('Grayscale Image')\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "imshow", "grayscale", "colormap"], "core_category": "VISUALIZATION_BASICS", "id": "SNP719"}
{"question": "How to visualize a categorical column's distribution using a bar plot that shows the proportion of the total?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\n\n# Create sample DataFrame\ndf = pd.DataFrame({'category': ['A', 'B', 'C', 'A', 'B', 'A', 'C', 'C', 'B', 'A']})\n\ntotal_count = len(df)\nax = sns.countplot(data=df, x='category')\n\n# Add percentage labels\nfor p in ax.patches:\n    percentage = p.get_height()/total_count * 100\n    ax.annotate(f'{percentage:.1f}%', \n                (p.get_x() + p.get_width() / 2., p.get_height()), \n                ha='center', va='bottom', fontsize=10)\n\nplt.title('Percentage Count Plot')\nplt.ylabel('Count')\nplt.show()", "difficulty": "hard", "tags": ["seaborn", "countplot", "proportion", "annotation"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP720"}
{"question": "How to customize the font family and weight of the plot title?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0, 10, 100)\ny = np.sin(x)\n\nplt.plot(x, y)\nplt.title('Plot Title', fontfamily='serif', fontweight='bold', fontsize=14)\nplt.xlabel('X')\nplt.ylabel('Y')\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "title", "font", "styling"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP725"}
{"question": "How to use `FacetGrid` to map a scatter plot with shared x-axes and independent y-axes across columns?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\n\n# Load sample data\ndf = sns.load_dataset('tips')\ng = sns.FacetGrid(df, col='sex', sharex=True, sharey=False)\ng.map(sns.scatterplot, 'total_bill', 'tip')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "facetgrid", "sharey=False", "scatter"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP726"}
{"question": "How to create a pie chart with slices exploded and percentage labels formatted?", "code": "import matplotlib.pyplot as plt\n\nsizes = [15, 30, 45, 10]\nlabels = ['A', 'B', 'C', 'D']\nexplode = [0, 0.1, 0, 0]\n\nplt.pie(sizes, explode=explode, labels=labels, autopct='%1.1f%%', startangle=90)\nplt.title('Pie Chart with Exploded Slices')\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "pie-chart", "explode", "autopct"], "core_category": "VISUALIZATION_BASICS", "id": "SNP729"}
{"question": "How to plot a time series as a step function with Seaborn?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Create sample time series\ndates = pd.date_range('2023-01-01', periods=10, freq='D')\ndf = pd.DataFrame({\n    'time': dates,\n    'value': np.cumsum(np.random.randn(10))\n})\n\nsns.lineplot(data=df, x='time', y='value', drawstyle='steps-pre')\nplt.title('Step Function Time Series')\nplt.xticks(rotation=45)\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "lineplot", "step-plot", "drawstyle"], "core_category": "VISUALIZATION_BASICS", "id": "SNP730"}
{"question": "How to set the axis labels using different colors?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0, 10, 100)\ny = np.sin(x)\n\nfig, ax = plt.subplots()\nax.plot(x, y)\nax.set_xlabel('X Axis', color='red')\nax.set_ylabel('Y Axis', color='blue')\nplt.title('Plot with Colored Axis Labels')\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "labels", "color", "styling"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP735"}
{"question": "How to customize the size and placement of the legend in Seaborn?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Create sample DataFrame\ndf = pd.DataFrame({\n    'x': np.linspace(0, 10, 50),\n    'y': np.sin(np.linspace(0, 10, 50)),\n    'group': ['A']*25 + ['B']*25\n})\n\nsns.lineplot(data=df, x='x', y='y', hue='group')\nplt.legend(loc='lower right', title='Group', fontsize='small')\nplt.title('Plot with Custom Legend')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "legend", "placement", "styling"], "core_category": "VISUALIZATION_BASICS", "id": "SNP736"}
{"question": "How to fill the area between two line plots?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0, 10, 100)\ny1 = np.sin(x)\ny2 = np.cos(x)\n\nplt.fill_between(x, y1, y2, where=(y1 > y2), interpolate=True, alpha=0.5, color='green')\nplt.plot(x, y1, 'b-', label='y1')\nplt.plot(x, y2, 'r-', label='y2')\nplt.title('Area Between Two Lines')\nplt.legend()\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "fill_between", "area-plot", "comparison"], "core_category": "VISUALIZATION_BASICS", "id": "SNP740"}
{"question": "How to visualize the relationship between two variables when one is categorical and the other is numeric (Violinplot + Swarmplot overlay)?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Create sample DataFrame\ndf = pd.DataFrame({\n    'cat': np.repeat(['A', 'B', 'C'], 20),\n    'val': np.concatenate([np.random.normal(0, 1, 20),\n                          np.random.normal(1, 1, 20),\n                          np.random.normal(2, 1, 20)])\n})\n\nsns.violinplot(data=df, x='cat', y='val', inner=None, color='.8')\nsns.swarmplot(data=df, x='cat', y='val', size=3, color='k')\nplt.title('Violin Plot with Swarmplot Overlay')\nplt.show()", "difficulty": "hard", "tags": ["seaborn", "violinplot", "swarmplot", "overlay"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP741"}
{"question": "How to annotate the maximum value in a plot with an arrow pointing to it?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0, 10, 100)\ny = np.sin(x) * np.exp(-x/10)\n\nmax_y = y.max()\nmax_x = x[y.argmax()]\n\nplt.plot(x, y)\nplt.annotate(f'Max: {max_y:.2f}', xy=(max_x, max_y), xytext=(max_x + 2, max_y - 0.1),\n             arrowprops=dict(facecolor='black', shrink=0.05))\nplt.title('Plot with Max Value Annotation')\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "annotation", "argmax", "max-value"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP746"}
{"question": "How to show individual observation values overlaid on a bar plot to check underlying data spread?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Create sample DataFrame\ndf = pd.DataFrame({\n    'cat': np.repeat(['A', 'B', 'C'], 15),\n    'val': np.concatenate([np.random.normal(10, 2, 15),\n                          np.random.normal(15, 3, 15),\n                          np.random.normal(12, 2.5, 15)])\n})\n\nsns.barplot(data=df, x='cat', y='val', errorbar=None, color='.7')\nsns.swarmplot(data=df, x='cat', y='val', size=3, color='k')\nplt.title('Bar Plot with Swarmplot Overlay')\nplt.show()", "difficulty": "hard", "tags": ["seaborn", "barplot", "swarmplot", "overlay"], "core_category": "VISUALIZATION_BASICS", "id": "SNP747"}
{"question": "How to remove the default padding around the data (setting tight limits)?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0, 10, 100)\ny = np.sin(x)\n\nfig, ax = plt.subplots()\nax.plot(x, y)\nax.margins(x=0, y=0)\nplt.title('Plot with No Margins')\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "margins", "limits", "padding"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP751"}
{"question": "How to create a clustered heatmap (dendrogram-enabled heatmap) for visualizing correlations?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Create sample DataFrame\ndf = pd.DataFrame(np.random.randn(100, 5), columns=['A', 'B', 'C', 'D', 'E'])\n\nsns.clustermap(df.corr(), annot=True, cmap='vlag', fmt='.2f', figsize=(7, 7))\nplt.title('Clustered Correlation Heatmap')\nplt.show()", "difficulty": "hard", "tags": ["seaborn", "clustermap", "heatmap", "correlation"], "core_category": "VISUALIZATION_BASICS", "id": "SNP752"}
{"question": "How to add a colorbar to an `imshow` plot and label it?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nmatrix = np.random.rand(10, 10)\n\nim = plt.imshow(matrix, cmap='viridis')\ncbar = plt.colorbar(im)\ncbar.set_label('Value Density')\nplt.title('Matrix Visualization with Colorbar')\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "colorbar", "imshow", "labeling"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP756"}
{"question": "How to use a point plot to visualize the mean (or median) of a time series over fixed periods?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Create sample time series data\ndates = pd.date_range('2023-01-01', periods=100, freq='D')\ndf = pd.DataFrame({\n    'date': dates,\n    'value': np.random.randn(100).cumsum() + 100\n})\n\ndf['month'] = df['date'].dt.month\nsns.pointplot(data=df, x='month', y='value', errorbar=('sd', 1))\nplt.title('Point Plot of Monthly Values')\nplt.xlabel('Month')\nplt.ylabel('Value')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "pointplot", "time-series", "mean"], "core_category": "VISUALIZATION_BASICS", "id": "SNP757"}
{"question": "How to remove the axis ticks completely (keeping the labels)?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0, 10, 100)\ny = np.sin(x)\n\nfig, ax = plt.subplots()\nax.plot(x, y)\nax.tick_params(axis='both', length=0)\nplt.title('Plot without Ticks')\nplt.xlabel('X Axis')\nplt.ylabel('Y Axis')\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "ticks", "styling", "axis"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP761"}
{"question": "How to fit a robust linear regression model (RLM) with Seaborn?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\n\n# Load sample data\ndf = sns.load_dataset('tips')\nsns.regplot(data=df, x='total_bill', y='tip', ci=None, robust=True)\nplt.title('Robust Linear Regression')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "regplot", "robust-regression", "outliers"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP762"}
{"question": "How to plot a stacked histogram for multiple datasets?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\ndata_list = [np.random.normal(0, 1, 1000), \n             np.random.normal(2, 1.5, 800),\n             np.random.normal(4, 2, 600)]\n\nplt.hist(data_list, bins=20, stacked=True)\nplt.title('Stacked Histogram')\nplt.xlabel('Value')\nplt.ylabel('Frequency')\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "histogram", "stacked", "multiple-datasets"], "core_category": "VISUALIZATION_BASICS", "id": "SNP767"}
{"question": "How to visualize the distribution of a numeric variable using only the probability density (KDE) across categories?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Create sample DataFrame\ndf = pd.DataFrame({\n    'value': np.concatenate([np.random.normal(0, 1, 200),\n                            np.random.normal(2, 1.5, 200),\n                            np.random.normal(4, 2, 200)]),\n    'category': ['A']*200 + ['B']*200 + ['C']*200\n})\n\nsns.kdeplot(data=df, x='value', hue='category', multiple='stack', fill=True)\nplt.title('Stacked KDE Plot')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "kdeplot", "categorical", "stacked"], "core_category": "ML_MODELING", "id": "SNP768"}
{"question": "How to remove the space between subplots horizontally and vertically?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0, 10, 100)\n\nfig, (ax1, ax2) = plt.subplots(1, 2, figsize=(10, 4))\nax1.plot(x, np.sin(x))\nax1.set_title('Sine')\nax2.plot(x, np.cos(x))\nax2.set_title('Cosine')\nplt.subplots_adjust(wspace=0, hspace=0)\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "subplots", "layout", "spacing"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP772"}
{"question": "How to set individual titles for subplots within a FacetGrid?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\n\n# Load sample data\ndf = sns.load_dataset('tips')\ng = sns.FacetGrid(df, col='sex')\ng.map(sns.histplot, 'total_bill')\ng.set_titles(col_template='{col_name} Group')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "facetgrid", "titles", "customization"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP773"}
{"question": "How to create a scatter plot with logarithmic axes for both X and Y?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.logspace(0, 2, 50)\ny = x**1.5\n\nplt.scatter(x, y)\nplt.xscale('log')\nplt.yscale('log')\nplt.title('Log-Log Scatter Plot')\nplt.xlabel('X (log scale)')\nplt.ylabel('Y (log scale)')\nplt.grid(True, alpha=0.3)\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "log-scale", "scatter-plot"], "core_category": "VISUALIZATION_BASICS", "id": "SNP778"}
{"question": "How to create nested boxplots showing the interaction of two categorical variables?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Create sample DataFrame\ndf = pd.DataFrame({\n    'major_cat': np.repeat(['X', 'Y'], 100),\n    'minor_cat': np.tile(['A', 'B'], 100),\n    'value': np.concatenate([np.random.normal(0, 1, 50),\n                            np.random.normal(1, 1, 50),\n                            np.random.normal(2, 1, 50),\n                            np.random.normal(3, 1, 50)])\n})\n\nsns.boxplot(data=df, x='major_cat', y='value', hue='minor_cat', dodge=True)\nplt.title('Nested Boxplots')\nplt.legend(title='Minor Category')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "boxplot", "nested", "interaction"], "core_category": "VISUALIZATION_BASICS", "id": "SNP779"}
{"question": "How to use a Butterworth filter (lowpass) on a signal?", "code": "from scipy.signal import butter, filtfilt\nimport numpy as np\nsignal = np.array([1, 2, 3, 4, 5])\nb, a = butter(N=2, Wn=0.5)\nfiltered = filtfilt(b, a, signal)\nfiltered", "difficulty": "hard", "tags": ["scipy", "signal-processing", "butterworth", "filter"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP682"}
{"question": "How to count the number of unique items within each group?", "code": "import pandas as pd\ndf = pd.DataFrame({'cat': ['A', 'A', 'B'], 'val': ['X', 'Y', 'X']})\ncounts = df.groupby('cat')['val'].nunique()\ncounts", "difficulty": "medium", "tags": ["pandas", "groupby", "nunique", "counting"], "core_category": "DATA_TRANSFORMATION", "id": "SNP683"}
{"question": "How to generate random samples from a uniform distribution between a and b?", "code": "import numpy as np\nsamples = np.random.uniform(low=0, high=1, size=5)\nsamples", "difficulty": "easy", "tags": ["numpy", "random", "uniform-distribution", "sampling"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP684"}
{"question": "How to fill NaNs in a column based on the value from another column for the same row?", "code": "import pandas as pd\nimport numpy as np\ndf = pd.DataFrame({'A': [1, np.nan, 3], 'B': [10, 20, 30]})\ndf['A'] = df['A'].fillna(df['B'])\ndf", "difficulty": "easy", "tags": ["pandas", "fillna", "data-cleaning", "column-reference"], "core_category": "DATA_PREPROCESSING", "id": "SNP687"}
{"question": "How to compute the two-sided p-value for a given z-score using the standard normal distribution?", "code": "from scipy.stats import norm\nz = 1.96\np_value = 2 * norm.sf(abs(z))\np_value", "difficulty": "medium", "tags": ["scipy", "statistics", "z-score", "p-value"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP688"}
{"question": "How to replace all values in an array greater than a threshold with that threshold value?", "code": "import numpy as np\narr = np.array([1, 5, 10, 15])\nthreshold = 10\narr = np.minimum(arr, threshold)\narr", "difficulty": "easy", "tags": ["numpy", "minimum", "clipping", "threshold"], "core_category": "ARRAY_OPERATIONS", "id": "SNP689"}
{"question": "How to use `stack` to convert a regular DataFrame into a Series with a MultiIndex?", "code": "import pandas as pd\ndf = pd.DataFrame({'A': [1, 2], 'B': [3, 4]})\ns_multi = df.stack()\ns_multi", "difficulty": "medium", "tags": ["pandas", "stack", "series", "multiindex"], "core_category": "DATA_TRANSFORMATION", "id": "SNP690"}
{"question": "How to apply a simple convolution filter (e.g., moving average) to a 1D signal?", "code": "from scipy.ndimage import convolve1d\nimport numpy as np\nsignal = np.array([1, 2, 3, 4, 5])\nweights = np.ones(3) / 3\nsmoothed = convolve1d(signal, weights)\nsmoothed", "difficulty": "medium", "tags": ["scipy", "signal-processing", "convolve", "smoothing"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP693"}
{"question": "How to check if two arrays are element-wise equal within a tolerance?", "code": "import numpy as np\na = np.array([1.0, 2.0])\nb = np.array([1.00001, 2.00001])\nis_close = np.allclose(a, b, atol=1e-4)\nis_close", "difficulty": "medium", "tags": ["numpy", "allclose", "comparison", "tolerance"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP694"}
{"question": "How to generate a sequence of evenly spaced dates (e.g., business days)?", "code": "import pandas as pd\ndates = pd.bdate_range(start='2023-01-01', periods=3)\ndates", "difficulty": "medium", "tags": ["pandas", "date_range", "timeseries", "business-days"], "core_category": "DATA_PREPROCESSING", "id": "SNP695"}
{"question": "How to create a binary feature where '1' means the value is an outlier (beyond 3 standard deviations)?", "code": "import pandas as pd\nimport numpy as np\ndf = pd.DataFrame({'val': [1, 2, 3, 100]})\nstd_val = df['val'].std()\nmean_val = df['val'].mean()\ndf['outlier'] = ((df['val'] - mean_val).abs() > 3 * std_val).astype(int)\ndf", "difficulty": "medium", "tags": ["pandas", "outliers", "z-score", "binary-feature"], "core_category": "DATA_TRANSFORMATION", "id": "SNP696"}
{"question": "How to create a diagonal matrix from a 1D array of diagonal elements?", "code": "import numpy as np\narr = np.array([1, 2, 3])\ndiag_mat = np.diag(arr)\ndiag_mat", "difficulty": "easy", "tags": ["numpy", "diag", "matrix-creation"], "core_category": "ARRAY_OPERATIONS", "id": "SNP697"}
{"question": "How to use the Levenberg-Marquardt algorithm for non-linear least squares fitting?", "code": "from scipy.optimize import least_squares\nimport numpy as np\ndef model(p, x):\n    return p[0] * np.exp(p[1] * x)\nx = [0, 1, 2]\ny = [1, 2.7, 7.4]\nres = least_squares(lambda p: model(p, x) - y, [1, 1])\nres.x", "difficulty": "hard", "tags": ["scipy", "least-squares", "optimization", "fitting"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP700"}
{"question": "How to aggregate data using a named aggregation dictionary, allowing multiple outputs per group?", "code": "import pandas as pd\ndf = pd.DataFrame({'id': ['A', 'A', 'B'], 'val': [10, 20, 30]})\nresult = df.groupby('id').agg(mean_val=('val', 'mean'), sum_val=('val', 'sum'))\nresult", "difficulty": "medium", "tags": ["pandas", "groupby", "named-aggregation", "multiple-metrics"], "core_category": "DATA_TRANSFORMATION", "id": "SNP701"}
{"question": "How to get the indices of the N largest elements in an array?", "code": "import numpy as np\narr = np.array([3, 1, 4, 2])\nN = 2\nindices = np.argsort(arr)[-N:]\nindices", "difficulty": "medium", "tags": ["numpy", "argsort", "indexing", "selection"], "core_category": "ARRAY_OPERATIONS", "id": "SNP702"}
{"question": "How to replace values that occur less than N times with a single category ('Other')?", "code": "import pandas as pd\ndf = pd.DataFrame({'col': ['A', 'A', 'B', 'C', 'D']})\nN = 2\ncounts = df['col'].value_counts()\nrare = counts[counts < N].index\ndf['col'] = df['col'].replace(rare, 'Other')\ndf", "difficulty": "hard", "tags": ["pandas", "value-counts", "data-cleaning", "rare-values"], "core_category": "DATA_PREPROCESSING", "id": "SNP705"}
{"question": "How to compute the two-sample Kolmogorov-Smirnov test (KS-test) for equality of distributions?", "code": "from scipy.stats import ks_2samp\nimport numpy as np\nd1 = [1, 2, 3]\nd2 = [2, 3, 4]\nstat, p = ks_2samp(d1, d2)\nstat, p", "difficulty": "medium", "tags": ["scipy", "statistics", "ks-test", "distribution"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP706"}
{"question": "How to clip array values to be between a minimum and maximum threshold?", "code": "import numpy as np\narr = np.array([-5, 2, 15, 25])\nclipped = np.clip(arr, 0, 10)\nclipped", "difficulty": "easy", "tags": ["numpy", "clip", "data-cleaning", "threshold"], "core_category": "ARRAY_OPERATIONS", "id": "SNP707"}
{"question": "How to combine two Series into a single DataFrame of two columns?", "code": "import pandas as pd\ns1 = pd.Series([1, 2, 3], name='col1')\ns2 = pd.Series([4, 5, 6], name='col2')\ndf = pd.concat([s1, s2], axis=1)\ndf", "difficulty": "easy", "tags": ["pandas", "concat", "series-to-df", "reshaping"], "core_category": "DATA_TRANSFORMATION", "id": "SNP708"}
{"question": "How to compute the cross-correlation of two 1D signals?", "code": "from scipy.signal import correlate\nimport numpy as np\ns1 = [1, 2, 3]\ns2 = [0, 1, 0.5]\ncorr = correlate(s1, s2, mode='full')\ncorr", "difficulty": "medium", "tags": ["scipy", "signal-processing", "correlate", "cross-correlation"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP711"}
{"question": "How to compute the dot product of a stack of matrices and a vector (multi-dot product)?", "code": "import numpy as np\nA = np.array([[[1, 2], [3, 4]], [[5, 6], [7, 8]]])  # shape (2, 2, 2)\nv = np.array([1, 1])\nresult = np.tensordot(A, v, axes=([2], [0]))\nresult", "difficulty": "hard", "tags": ["numpy", "tensordot", "dot-product", "linear-algebra"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP712"}
{"question": "How to calculate the business day difference between two date columns?", "code": "import pandas as pd\nimport numpy as np\ndf = pd.DataFrame({\n    'start': pd.to_datetime(['2023-01-01', '2023-01-15']),\n    'end': pd.to_datetime(['2023-01-05', '2023-01-20'])\n})\ndf['bday_diff'] = np.busday_count(df['start'].dt.date, df['end'].dt.date)\ndf", "difficulty": "hard", "tags": ["pandas", "numpy", "busday_count", "datetime"], "core_category": "DATA_PREPROCESSING", "id": "SNP713"}
{"question": "How to fit a spline curve to data points and evaluate it smoothly?", "code": "from scipy.interpolate import UnivariateSpline\nimport numpy as np\nx = [0, 1, 2]\ny = [0, 1, 4]\nspline = UnivariateSpline(x, y)\nspline([0.5, 1.5])", "difficulty": "hard", "tags": ["scipy", "spline", "interpolation", "smoothing"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP716"}
{"question": "How to replace multiple values in a column using nested list replacement?", "code": "import pandas as pd\ndf = pd.DataFrame({'col': ['a', 'b', 'c']})\ndf['col'] = df['col'].replace(['a', 'b'], 'x')\ndf", "difficulty": "easy", "tags": ["pandas", "replace", "data-cleaning"], "core_category": "DATA_PREPROCESSING", "id": "SNP717"}
{"question": "How to compute the general matrix power (A^n)?", "code": "import numpy as np\nA = np.array([[1, 1], [0, 1]])\npower = np.linalg.matrix_power(A, 2)\npower", "difficulty": "medium", "tags": ["numpy", "matrix-power", "linear-algebra"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP718"}
{"question": "How to select rows where the value of a column is the maximum within the entire DataFrame?", "code": "import pandas as pd\ndf = pd.DataFrame({'name': ['A', 'B', 'C'], 'val': [10, 30, 20]})\nmax_row = df[df['val'] == df['val'].max()]\nmax_row", "difficulty": "easy", "tags": ["pandas", "filtering", "max", "selection"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP721"}
{"question": "How to perform the Wilcoxon signed-rank test (non-parametric paired test)?", "code": "from scipy.stats import wilcoxon\nimport numpy as np\nbefore = [1, 2, 3]\nafter = [2, 3, 4]\nstat, p = wilcoxon(before, after)\nstat, p", "difficulty": "medium", "tags": ["scipy", "statistics", "wilcoxon", "non-parametric"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP722"}
{"question": "How to calculate a weighted average of an array?", "code": "import numpy as np\ndata = [10, 20, 30]\nweights = [1, 2, 3]\nw_avg = np.average(data, weights=weights)\nw_avg", "difficulty": "easy", "tags": ["numpy", "average", "weighted", "statistics"], "core_category": "ARRAY_OPERATIONS", "id": "SNP723"}
{"question": "How to get the N largest values for each group?", "code": "import pandas as pd\ndf = pd.DataFrame({'cat': ['A', 'A', 'B'], 'val': [10, 20, 30]})\ntop_n = df.groupby('cat')['val'].nlargest(1)\ntop_n", "difficulty": "medium", "tags": ["pandas", "groupby", "nlargest", "selection"], "core_category": "DATA_TRANSFORMATION", "id": "SNP724"}
{"question": "How to perform a permutation test (Monte Carlo test) to compute a p-value?", "code": "from scipy.stats import permutation_test\nimport numpy as np\ndef stat(x, y):\n    return np.mean(x) - np.mean(y)\ns1 = [1, 2, 3]\ns2 = [2, 3, 4]\nres = permutation_test((s1, s2), stat, n_resamples=100)\nres.pvalue", "difficulty": "hard", "tags": ["scipy", "permutation-test", "statistics", "monte-carlo"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP727"}
{"question": "How to change the shape of an array without changing its data (reshape to multiple dimensions)?", "code": "import numpy as np\narr = np.array([1, 2, 3, 4, 5, 6])\nreshaped = arr.reshape(2, 3)\nreshaped", "difficulty": "easy", "tags": ["numpy", "reshape", "array-manipulation"], "core_category": "ARRAY_OPERATIONS", "id": "SNP728"}
{"question": "How to compute the difference between the minimum and maximum value within a rolling window?", "code": "import pandas as pd\ndf = pd.DataFrame({'val': [1, 2, 3, 4, 5]})\ndf['range'] = df['val'].rolling(window=3).apply(lambda x: x.max() - x.min())\ndf", "difficulty": "hard", "tags": ["pandas", "rolling", "range", "feature-engineering"], "core_category": "DATA_TRANSFORMATION", "id": "SNP731"}
{"question": "How to compute the magnitude (absolute value) spectrum from a 1D FFT result?", "code": "import numpy as np\nsignal = np.array([0, 1, 0, 1])\nY = np.fft.fft(signal)\nmagnitude = np.abs(Y)\nmagnitude", "difficulty": "hard", "tags": ["scipy", "fft", "signal-processing", "spectrum"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP732"}
{"question": "How to combine two arrays element-wise, taking the maximum value at each position?", "code": "import numpy as np\na = np.array([1, 5, 3])\nb = np.array([4, 2, 6])\nresult = np.maximum(a, b)\nresult", "difficulty": "easy", "tags": ["numpy", "maximum", "element-wise"], "core_category": "ARRAY_OPERATIONS", "id": "SNP733"}
{"question": "How to efficiently access a single scalar value at a specific row and column index using integer location?", "code": "import pandas as pd\ndf = pd.DataFrame({'A': [1, 2], 'B': [3, 4]})\nval = df.iat[0, 1]\nval", "difficulty": "easy", "tags": ["pandas", "iat", "scalar-access", "performance"], "core_category": "DATA_TRANSFORMATION", "id": "SNP734"}
{"question": "How to perform multidimensional interpolation (e.g., bilinear) on a structured grid?", "code": "from scipy.interpolate import RegularGridInterpolator\nimport numpy as np\nx = [0, 1]\ny = [0, 1]\nZ = [[1, 2], [3, 4]]\ninterp = RegularGridInterpolator((x, y), Z)\ninterp([0.5, 0.5])", "difficulty": "hard", "tags": ["scipy", "interpolation", "multidimensional", "grid"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP737"}
{"question": "How to compute the Cumulative Sum (CUMSUM) within each group?", "code": "import pandas as pd\ndf = pd.DataFrame({'cat': ['A', 'A', 'B'], 'val': [10, 20, 30]})\ndf['cumsum'] = df.groupby('cat')['val'].cumsum()\ndf", "difficulty": "medium", "tags": ["pandas", "groupby", "cumsum", "cumulative-sum"], "core_category": "DATA_TRANSFORMATION", "id": "SNP738"}
{"question": "How to convert an array of booleans into an array of integers (0s and 1s)?", "code": "import numpy as np\nbool_arr = np.array([True, False, True])\nint_arr = bool_arr.astype(int)\nint_arr", "difficulty": "easy", "tags": ["numpy", "astype", "boolean", "conversion"], "core_category": "ARRAY_OPERATIONS", "id": "SNP739"}
{"question": "How to compute the confidence interval for the mean of a sample using the t-distribution?", "code": "from scipy.stats import t\nimport numpy as np\ndata = np.array([1, 2, 3, 4, 5])\nci = t.interval(0.95, len(data)-1, loc=np.mean(data), scale=np.std(data)/np.sqrt(len(data)))\nci", "difficulty": "hard", "tags": ["scipy", "statistics", "confidence-interval", "t-distribution"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP742"}
{"question": "How to check if a Series contains duplicate values, ignoring the first occurrence?", "code": "import pandas as pd\ns = pd.Series([1, 2, 2, 3])\nhas_dups = s.duplicated().any()\nhas_dups", "difficulty": "easy", "tags": ["pandas", "duplicated", "data-cleaning", "boolean"], "core_category": "DATA_PREPROCESSING", "id": "SNP743"}
{"question": "How to compute the one-dimensional discrete Fourier Transform (DFT)?", "code": "import numpy as np\nsignal = np.array([1, 2, 3, 4])\nY = np.fft.fft(signal)\nY", "difficulty": "medium", "tags": ["numpy", "fft", "signal-processing", "dft"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP744"}
{"question": "How to use `.loc` to slice based on both row and column labels in a single call?", "code": "import pandas as pd\ndf = pd.DataFrame({'A': [1, 2, 3], 'B': [4, 5, 6]}, index=['X', 'Y', 'Z'])\ndf_slice = df.loc[df['A'] > 1, ['B']]\ndf_slice", "difficulty": "easy", "tags": ["pandas", "loc", "indexing", "filtering"], "core_category": "DATA_TRANSFORMATION", "id": "SNP745"}
{"question": "How to calculate the power of a statistical test given effect size, alpha, and sample size?", "code": "from statsmodels.stats.power import TTestIndPower\npower_analysis = TTestIndPower()\npower = power_analysis.solve_power(effect_size=0.5, nobs1=30, alpha=0.05)\npower", "difficulty": "hard", "tags": ["scipy", "statsmodels", "power-analysis", "hypothesis-testing"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP748"}
{"question": "How to efficiently count the number of non-zero elements in a NumPy array?", "code": "import numpy as np\narr = np.array([0, 1, 0, 3, 0])\ncount = np.count_nonzero(arr)\ncount", "difficulty": "easy", "tags": ["numpy", "count", "non-zero", "basics"], "core_category": "ARRAY_OPERATIONS", "id": "SNP749"}
{"question": "How to calculate the duration (time delta) between two datetime columns?", "code": "import pandas as pd\ndf = pd.DataFrame({\n    'start': pd.to_datetime(['2023-01-01', '2023-01-02']),\n    'end': pd.to_datetime(['2023-01-03', '2023-01-05'])\n})\ndf['duration'] = df['end'] - df['start']\ndf", "difficulty": "easy", "tags": ["pandas", "datetime", "timedelta", "duration"], "core_category": "DATA_PREPROCESSING", "id": "SNP750"}
{"question": "How to read data from an Excel file, specifying multiple sheets by name or index?", "code": "import pandas as pd\nimport io\nexcel_data = {\n    'Sheet1': pd.DataFrame({'A': [1, 2]}),\n    'Sheet2': pd.DataFrame({'B': [3, 4]})\n}\noutput = io.BytesIO()\nwith pd.ExcelWriter(output, engine='xlsxwriter') as writer:\n    for name, df in excel_data.items():\n        df.to_excel(writer, sheet_name=name)\noutput.seek(0)\ndata = pd.read_excel(output, sheet_name=['Sheet1'])\ndata['Sheet1']", "difficulty": "medium", "tags": ["pandas", "io", "read_excel", "multiple-sheets"], "core_category": "DATA_PREPROCESSING", "id": "SNP754"}
{"question": "How to swap the axes of a 2D array (transpose)?", "code": "import numpy as np\narr = np.array([[1, 2], [3, 4]])\ntransposed = arr.T\ntransposed", "difficulty": "easy", "tags": ["numpy", "transpose", "matrix-manipulation"], "core_category": "ARRAY_OPERATIONS", "id": "SNP755"}
{"question": "How to perform cubic spline interpolation on a grid of 2D data?", "code": "from scipy.interpolate import RectBivariateSpline\nimport numpy as np\nx = np.linspace(0, 1, 3)\ny = np.linspace(0, 1, 3)\nZ = np.random.rand(3, 3)\ninterp = RectBivariateSpline(x, y, Z)\ninterp(0.5, 0.5)", "difficulty": "hard", "tags": ["scipy", "interpolation", "spline", "2d"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP758"}
{"question": "How to remove rows that contain any value equal to zero?", "code": "import pandas as pd\ndf = pd.DataFrame({'A': [1, 0, 3], 'B': [4, 5, 6]})\ndf_filtered = df[(df != 0).all(axis=1)]\ndf_filtered", "difficulty": "medium", "tags": ["pandas", "filtering", "zero-removal", "data-cleaning"], "core_category": "DATA_PREPROCESSING", "id": "SNP759"}
{"question": "How to compute the geometric mean of an array?", "code": "from scipy.stats import gmean\nimport numpy as np\narr = np.array([1, 2, 3, 4])\nresult = gmean(arr)\nresult", "difficulty": "medium", "tags": ["numpy", "scipy", "geometric-mean", "statistics"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP760"}
{"question": "How to count the number of rows based on a condition within each group?", "code": "import pandas as pd\ndf = pd.DataFrame({'cat': ['A', 'A', 'B'], 'val': [5, 15, 8]})\nresult = df.groupby('cat')['val'].apply(lambda x: (x > 10).sum())\nresult", "difficulty": "hard", "tags": ["pandas", "groupby", "conditional-count", "apply"], "core_category": "DATA_TRANSFORMATION", "id": "SNP763"}
{"question": "How to compute the minimum and maximum value of a function over a given interval?", "code": "from scipy.optimize import minimize_scalar\nimport numpy as np\ndef f(x):\n    return x**2 - 4*x + 5\nres_min = minimize_scalar(f, bounds=(0, 5))\nres_max = minimize_scalar(lambda x: -f(x), bounds=(0, 5))\nres_min.x, -f(res_max.x)", "difficulty": "hard", "tags": ["scipy", "optimization", "fminbound", "minimum"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP764"}
{"question": "How to concatenate arrays along the depth dimension (stack arrays along the third axis)?", "code": "import numpy as np\na = np.array([[1, 2], [3, 4]])\nb = np.array([[5, 6], [7, 8]])\nstacked = np.dstack((a, b))\nstacked", "difficulty": "medium", "tags": ["numpy", "dstack", "concatenation", "3d"], "core_category": "ARRAY_OPERATIONS", "id": "SNP765"}
{"question": "How to normalize numerical columns to a specific range (Min-Max Scaling)?", "code": "import pandas as pd\ndf = pd.DataFrame({'val': [10, 20, 30, 40]})\ndf['norm'] = (df['val'] - df['val'].min()) / (df['val'].max() - df['val'].min())\ndf", "difficulty": "medium", "tags": ["pandas", "normalization", "min-max-scaling", "feature-engineering"], "core_category": "DATA_TRANSFORMATION", "id": "SNP766"}
{"question": "How to use a Hann window function on a signal before applying FFT?", "code": "from scipy.signal import windows\nimport numpy as np\nsignal = np.array([1, 2, 3, 4])\nwindow = windows.hann(len(signal))\nwindowed = signal * window\nwindowed", "difficulty": "medium", "tags": ["scipy", "signal-processing", "window-function", "hann"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP769"}
{"question": "How to get the index of the first occurrence of the maximum value in an array?", "code": "import numpy as np\narr = np.array([3, 1, 4, 1, 5])\nidx = np.argmax(arr)\nidx", "difficulty": "easy", "tags": ["numpy", "argmax", "indexing", "maximum"], "core_category": "ARRAY_OPERATIONS", "id": "SNP770"}
{"question": "How to convert column headers to uppercase or lowercase?", "code": "import pandas as pd\ndf = pd.DataFrame({'ColA': [1, 2], 'ColB': [3, 4]})\ndf.columns = df.columns.str.lower()\ndf.columns", "difficulty": "easy", "tags": ["pandas", "column-names", "string-operations", "data-cleaning"], "core_category": "DATA_TRANSFORMATION", "id": "SNP771"}
{"question": "How to extract the year and week number from a datetime column?", "code": "import pandas as pd\ndf = pd.DataFrame({'date': pd.to_datetime(['2023-01-01', '2023-01-08'])})\ndf['year_week'] = df['date'].dt.strftime('%Y-%W')\ndf", "difficulty": "medium", "tags": ["pandas", "datetime", "strftime", "feature-engineering"], "core_category": "DATA_PREPROCESSING", "id": "SNP774"}
{"question": "How to calculate the Singular Value Decomposition (SVD) of a matrix?", "code": "from scipy.linalg import svd\nimport numpy as np\nA = np.array([[1, 2], [3, 4]])\nU, s, Vh = svd(A)\ns", "difficulty": "hard", "tags": ["scipy", "svd", "linear-algebra", "decomposition"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP775"}
{"question": "How to perform element-wise multiplication of two arrays (Hadamard product)?", "code": "import numpy as np\na = np.array([1, 2, 3])\nb = np.array([4, 5, 6])\nresult = a * b\nresult", "difficulty": "easy", "tags": ["numpy", "multiplication", "hadamard-product"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP776"}
{"question": "How to remove leading and trailing zeros from an object column containing numeric strings?", "code": "import pandas as pd\ndf = pd.DataFrame({'str': ['00123.4500', '000.5000']})\ndf['clean'] = df['str'].str.strip('0').str.strip('.')\ndf", "difficulty": "hard", "tags": ["pandas", "string-operations", "strip", "data-cleaning"], "core_category": "DATA_PREPROCESSING", "id": "SNP777"}
{"question": "How to compute the power spectral density (PSD) using Welch's method?", "code": "from scipy.signal import welch\nimport numpy as np\nsignal = np.array([1, 2, 3, 4])\nf, Pxx = welch(signal, fs=1)\nPxx[:2]", "difficulty": "hard", "tags": ["scipy", "welch", "psd", "signal-processing"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP780"}
{"question": "How to repeat each element of an array multiple times?", "code": "import numpy as np\narr = np.array([1, 2, 3])\nrepeated = np.repeat(arr, repeats=2)\nrepeated", "difficulty": "easy", "tags": ["numpy", "repeat", "array-manipulation"], "core_category": "ARRAY_OPERATIONS", "id": "SNP781"}
{"question": "How to customize the position of the axis labels (e.g., placing the Y label at the top)?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0, 10, 100)\ny = np.sin(x)\n\nfig, ax = plt.subplots()\nax.plot(x, y)\nax.set_ylabel('Y Axis', loc='top', rotation='horizontal', labelpad=-50)\nax.set_xlabel('X Axis')\nplt.title('Plot with Custom Label Position')\nplt.show()", "difficulty": "hard", "tags": ["matplotlib", "labels", "positioning", "styling"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP783"}
{"question": "How to plot multiple time series with a custom palette and markers?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Create sample DataFrame\ndates = pd.date_range('2023-01-01', periods=20, freq='D')\ndf = pd.DataFrame({\n    'time': np.tile(dates, 3),\n    'value': np.concatenate([np.random.randn(20) + 10,\n                            np.random.randn(20) + 12,\n                            np.random.randn(20) + 11]),\n    'group': ['A']*20 + ['B']*20 + ['C']*20\n})\n\nsns.lineplot(data=df, x='time', y='value', hue='group', style='group', markers=True, dashes=False, palette='Set2')\nplt.title('Time Series with Custom Palette and Markers')\nplt.xticks(rotation=45)\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "lineplot", "palette", "markers"], "core_category": "VISUALIZATION_BASICS", "id": "SNP784"}
{"question": "How to plot a bar chart with custom error bars (e.g., standard deviation) from aggregated data?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nmeans = [20, 35, 30, 35, 27]\nsd = [2, 3, 4, 1, 2]\nx = np.arange(len(means))\nplt.bar(x, means, yerr=sd, capsize=4, color='skyblue', edgecolor='black')\nplt.title('Bar Chart with Error Bars')\nplt.xlabel('Categories')\nplt.ylabel('Values')\nplt.xticks(x, ['A', 'B', 'C', 'D', 'E'])\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "bar-plot", "error-bars", "statistics"], "core_category": "VISUALIZATION_BASICS", "id": "SNP786"}
{"question": "How to create a 2D histogram with marginal distributions using `jointplot` with a hexbin style?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\ndf = pd.DataFrame({'x': np.random.randn(500), 'y': 2 * np.random.randn(500) + 1})\nsns.jointplot(data=df, x='x', y='y', kind='hex', cmap='viridis')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "jointplot", "hexbin", "2d-histogram"], "core_category": "VISUALIZATION_BASICS", "id": "SNP787"}
{"question": "How to create a donut chart (or ring plot) by using a white circle patch to cut out the center of a pie chart?", "code": "import matplotlib.pyplot as plt\n\nsizes = [15, 30, 45, 10]\nlabels = ['A', 'B', 'C', 'D']\n\nfig, ax = plt.subplots()\nax.pie(sizes, labels=labels, autopct='%1.1f%%', startangle=90)\ncentre_circle = plt.Circle((0,0), 0.70, fc='white')\nfig.gca().add_artist(centre_circle)\nplt.title('Donut Chart')\nplt.show()", "difficulty": "hard", "tags": ["matplotlib", "pie-chart", "donut-chart", "patch"], "core_category": "VISUALIZATION_BASICS", "id": "SNP790"}
{"question": "How to add jitter (random noise) to the X-axis points in a regression plot to better visualize data density?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\n\ndf = sns.load_dataset('tips')\nsns.regplot(data=df, x='size', y='tip', x_jitter=0.2, ci=None)\nplt.title('Regression Plot with Jitter')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "regplot", "jitter", "data-density"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP791"}
{"question": "How to create a basic polar plot (circular plot)?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\ntheta = np.linspace(0, 2 * np.pi, 100)\nradius = 5 * np.sin(2 * theta)\n\nax = plt.subplot(111, projection='polar')\nax.plot(theta, radius)\nplt.title('Polar Plot')\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "polar-plot", "projection", "circular"], "core_category": "VISUALIZATION_BASICS", "id": "SNP794"}
{"question": "How to normalize the scale of a density plot (`kdeplot`) to the whole dataset across a `FacetGrid`?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\n\ndf = sns.load_dataset('iris')\ng = sns.FacetGrid(df, col='species')\ng.map(sns.kdeplot, 'sepal_length', fill=True, common_norm=False)\nplt.show()", "difficulty": "hard", "tags": ["seaborn", "facetgrid", "kdeplot", "normalization"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP795"}
{"question": "How to display a 2D array as an image with specific extent (spatial coordinates) and aspect ratio?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nZ = np.random.rand(10, 20)\nplt.imshow(Z, extent=[0, 10, 0, 5], aspect='auto')\nplt.colorbar(label='Value')\nplt.title('Image with Custom Extent and Aspect Ratio')\nplt.xlabel('X Coordinate')\nplt.ylabel('Y Coordinate')\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "imshow", "extent", "aspect-ratio"], "core_category": "VISUALIZATION_BASICS", "id": "SNP799"}
{"question": "How to create a boxenplot (letter-value plot) showing multiple quantiles of the distribution?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\n\ndf = sns.load_dataset('tips')\nsns.boxenplot(data=df, x='day', y='total_bill', hue='time')\nplt.title('Boxenplot with Multiple Quantiles')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "boxenplot", "distribution", "quantiles"], "core_category": "VISUALIZATION_BASICS", "id": "SNP800"}
{"question": "How to plot a line with specific transparency (alpha) and linewidth?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0, 10, 50)\ny = np.sin(x)\nplt.plot(x, y, color='red', alpha=0.6, linewidth=3)\nplt.title('Line with Custom Alpha and Linewidth')\nplt.xlabel('X')\nplt.ylabel('Y')\nplt.grid(True, alpha=0.3)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "line-plot", "alpha", "styling"], "core_category": "VISUALIZATION_BASICS", "id": "SNP804"}
{"question": "How to plot a 2D KDE with a specific bandwidth method (e.g., silverman)?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\ndf = pd.DataFrame({'x': np.random.randn(200), 'y': 2 * np.random.randn(200)})\nsns.kdeplot(data=df, x='x', y='y', fill=True, bw_method='silverman')\nplt.title('2D KDE with Silverman Bandwidth')\nplt.show()", "difficulty": "hard", "tags": ["seaborn", "kdeplot", "bandwidth", "silverman"], "core_category": "VISUALIZATION_BASICS", "id": "SNP805"}
{"question": "How to apply a specific Matplotlib style (e.g., 'ggplot') temporarily?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0, 10, 10)\ny = x**2\n\nwith plt.style.context('ggplot'):\n    plt.plot(x, y)\n    plt.title('Dark Mode Plot')\n    plt.show()", "difficulty": "medium", "tags": ["matplotlib", "styling", "style-context", "ggplot"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP809"}
{"question": "How to add a label to the entire column of subplots in a figure array?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nfig, axes = plt.subplots(2, 2, figsize=(8, 6))\nfig.text(0.04, 0.5, 'Common Y Label', va='center', rotation='vertical', fontsize=12)\nplt.tight_layout()\nplt.show()", "difficulty": "hard", "tags": ["matplotlib", "subplots", "figure-text", "labeling"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP813"}
{"question": "How to visualize the empirical cumulative distribution function (ECDF) for a variable?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport numpy as np\n\ndata = np.random.exponential(scale=2, size=500)\ndf = pd.DataFrame({'value': data})\nsns.displot(df, x='value', kind='ecdf')\nplt.title('Empirical CDF')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "displot", "ecdf", "distribution"], "core_category": "VISUALIZATION_BASICS", "id": "SNP814"}
{"question": "How to plot a density-normalized histogram with a custom number of bins and border color?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\ndata = np.random.randn(500)\nplt.hist(data, bins=25, density=True, edgecolor='black', alpha=0.7)\nplt.title('Density Histogram with Custom Bins')\nplt.xlabel('Value')\nplt.ylabel('Density')\nplt.grid(True, alpha=0.3)\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "histogram", "density", "styling"], "core_category": "VISUALIZATION_BASICS", "id": "SNP818"}
{"question": "How to use a dark background style for a plot?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0, 10, 10)\ny = x**2\n\nwith plt.style.context('dark_background'):\n    plt.plot(x, y)\n    plt.title('Dark Mode Plot')\n    plt.show()", "difficulty": "easy", "tags": ["matplotlib", "styling", "dark-background", "theme"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP821"}
{"question": "How to create a multi-layered categorical plot that separates categories by column and hue (e.g., using `catplot`)?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\n\ndf = sns.load_dataset('titanic')\nsns.catplot(data=df, x='sex', y='age', hue='pclass', col='survived', kind='box')\nplt.show()", "difficulty": "hard", "tags": ["seaborn", "catplot", "facetgrid", "multi-layer"], "core_category": "VISUALIZATION_BASICS", "id": "SNP822"}
{"question": "How to create a scatter plot with logarithmic scales on both axes?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.logspace(0, 2, 50)\ny = x**2\nplt.scatter(x, y)\nplt.xscale('log')\nplt.yscale('log')\nplt.title('Log-Log Scatter Plot')\nplt.xlabel('X (log scale)')\nplt.ylabel('Y (log scale)')\nplt.grid(True, alpha=0.3)\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "log-scale", "scatter-plot"], "core_category": "VISUALIZATION_BASICS", "id": "SNP826"}
{"question": "How to plot a distribution with both a histogram and a kernel density estimate (KDE) line?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport numpy as np\n\ndata = np.random.normal(loc=10, scale=2, size=500)\ndf = pd.DataFrame({'value': data})\nsns.histplot(data=df, x='value', kde=True)\nplt.title('Histogram with KDE')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "histplot", "kde", "distribution"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP827"}
{"question": "How to fit and plot a high-order polynomial regression line (e.g., 3rd order) with Seaborn?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\nx = np.linspace(0, 20, 50)\ny = 5 * np.sin(x) + np.random.randn(50) * 2\ndf = pd.DataFrame({'x': x, 'y': y})\nsns.regplot(data=df, x='x', y='y', order=3, scatter_kws={'s': 20})\nplt.title('Cubic Regression')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "regplot", "polynomial-regression", "order"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP831"}
{"question": "How to create non-rectangular subplots using `GridSpec` to define custom layouts?", "code": "import matplotlib.pyplot as plt\nimport matplotlib.gridspec as gridspec\n\ngs = gridspec.GridSpec(3, 3)\n\nax1 = plt.subplot(gs[0, :])  # Span all columns\nax1.set_title('Top Spanning')\n\nax2 = plt.subplot(gs[1:, :2])  # Span rows 1-2, cols 0-1\nax2.set_title('Left Large')\n\nax3 = plt.subplot(gs[1:, 2])  # Span rows 1-2, col 2\nax3.set_title('Right Small')\n\nplt.tight_layout()\nplt.show()", "difficulty": "hard", "tags": ["matplotlib", "gridspec", "subplots", "layout"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP833"}
{"question": "How to create a violin plot where the violins are split to compare two hues within one category?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\n\ndf = sns.load_dataset('tips')\nsns.violinplot(data=df, x='day', y='total_bill', hue='sex', split=True)\nplt.title('Split Violin Plot')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "violinplot", "split", "hue-comparison"], "core_category": "VISUALIZATION_BASICS", "id": "SNP834"}
{"question": "How to display a plot's legend outside the axes boundary to avoid overlap?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0, 10, 10)\nplt.plot(x, x, label='Line A')\nplt.plot(x, x**2, label='Line B')\nplt.legend(bbox_to_anchor=(1.05, 1), loc='upper left', borderaxespad=0.)\nplt.title('Plot with Legend Outside')\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "legend", "bbox_to_anchor", "styling"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP838"}
{"question": "How to add an arrow annotation pointing from one point to another using fractional coordinates for the text position?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0, 10, 100)\ny = np.sin(x)\n\nplt.plot(x, y)\nplt.annotate('Target', xy=(5, 0), xytext=(0.8, 0.2), textcoords='axes fraction',\n             arrowprops=dict(facecolor='black', shrink=0.05))\nplt.title('Plot with Annotation using Fractional Coordinates')\nplt.show()", "difficulty": "hard", "tags": ["matplotlib", "annotation", "axes-fraction", "arrow"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP841"}
{"question": "How to plot a distribution, specifying the bin size instead of the number of bins?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport numpy as np\n\ndata = np.random.gamma(shape=5, scale=1, size=500)\ndf = pd.DataFrame({'value': data})\nsns.displot(df, x='value', binwidth=1, kind='hist')\nplt.title('Histogram with Bin Width=1')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "displot", "binwidth", "histogram"], "core_category": "VISUALIZATION_BASICS", "id": "SNP842"}
{"question": "How to add a vertical reference line to a plot and label it with a text box (textbox style)?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nplt.plot([0, 10], [0, 10])\nplt.axvline(x=5, color='gray', linestyle='--')\nplt.text(5.2, 8, 'Threshold', bbox=dict(facecolor='white', alpha=0.5))\nplt.title('Plot with Vertical Reference Line')\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "axvline", "text", "annotation"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP849"}
{"question": "How to customize a `pairplot` to use a regression line for the off-diagonal elements?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\n\ndf = sns.load_dataset('iris')\nsns.pairplot(df, kind='reg', plot_kws={'line_kws': {'color': 'red'}})\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "pairplot", "reg", "customization"], "core_category": "VISUALIZATION_BASICS", "id": "SNP850"}
{"question": "How to create a `swarmplot` that uses the hue variable to separate points horizontally (dodge)?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\n\ndf = sns.load_dataset('iris')\nsns.swarmplot(data=df, x='species', y='sepal_length', hue=df['petal_width'] > 1.5, dodge=True)\nplt.title('Swarmplot with Dodge')\nplt.show()", "difficulty": "hard", "tags": ["seaborn", "swarmplot", "dodge", "categorical"], "core_category": "ML_MODELING", "id": "SNP855"}
{"question": "How to set the tick rotation for the X-axis labels?", "code": "import matplotlib.pyplot as plt\nx=['Jan','Feb','Mar','Apr']\ny=[1,2,3,4]\nplt.bar(x,y)\nplt.xticks(rotation=45,ha='right')\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "xticks", "rotation", "styling"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP858"}
{"question": "How to plot a correlation matrix heatmap and only show the upper triangle?", "code": "import seaborn as sns\nimport numpy as np\nimport matplotlib.pyplot as plt\ndf=sns.load_dataset('flights').pivot_table(index='month',columns='year',values='passengers')\ncorr=df.corr()\nmask=np.triu(corr)\nsns.heatmap(corr,annot=True,fmt='.2f',mask=mask,cmap='coolwarm')\nplt.show()", "difficulty": "hard", "tags": ["seaborn", "heatmap", "mask", "correlation"], "core_category": "VISUALIZATION_BASICS", "id": "SNP859"}
{"question": "How to change the line style and color of the grid lines?", "code": "import matplotlib.pyplot as plt\nplt.plot([0,1],[0,1])\nplt.grid(True,linestyle=':',color='gray',linewidth=0.5)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "grid", "linestyle", "styling"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP862"}
{"question": "How to plot the distribution of two variables on the same axis for easy comparison (overlapping KDEs)?", "code": "import seaborn as sns\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\ndf=pd.DataFrame({'val_a':np.random.normal(10,2,100),'val_b':np.random.normal(15,2,100)})\nsns.kdeplot(df['val_a'],fill=True,label='A')\nsns.kdeplot(df['val_b'],fill=True,label='B')\nplt.legend()\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "kdeplot", "comparison", "distribution"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP863"}
{"question": "How to create a 3D wireframe plot?", "code": "import numpy as np\nimport matplotlib.pyplot as plt\nfrom mpl_toolkits.mplot3d import Axes3D\nX=np.arange(-5,5,0.25)\nY=np.arange(-5,5,0.25)\nX,Y=np.meshgrid(X,Y)\nZ=np.sin(np.sqrt(X**2+Y**2))\nax=plt.axes(projection='3d')\nax.plot_wireframe(X,Y,Z)\nplt.show()", "difficulty": "hard", "tags": ["matplotlib", "3d-plot", "wireframe", "meshgrid"], "core_category": "VISUALIZATION_BASICS", "id": "SNP864"}
{"question": "How to create a jointplot showing scatter and marginal distributions with seaborn?", "code": "import seaborn as sns\nimport numpy as np\nimport matplotlib.pyplot as plt\nnp.random.seed(42)\nx=np.random.randn(200)\ny=x+np.random.randn(200)*0.5\ng=sns.jointplot(x=x,y=y,kind='scatter',alpha=0.6)\ng.fig.suptitle('Joint Plot of X and Y')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "jointplot", "scatter", "distribution"], "core_category": "VISUALIZATION_BASICS", "id": "SNP865"}
{"question": "How do I create a simple DataFrame with three columns?", "code": "import pandas as pd\n# Create a simple DataFrame\ndf = pd.DataFrame({\n    'Name': ['Alice', 'Bob', 'Charlie'],\n    'Age': [25, 30, 35],\n    'Score': [85.5, 92.0, 78.3]\n})\nprint(df)", "difficulty": "easy", "tags": ["pandas", "dataframe", "creation"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP870"}
{"question": "How to create a 1D array of zeros with 10 elements?", "code": "import numpy as np\narr = np.zeros(10)\nprint(arr)", "difficulty": "easy", "tags": ["numpy", "array", "zeros"], "core_category": "ARRAY_OPERATIONS", "id": "SNP871"}
{"question": "How to plot a simple line graph with matplotlib?", "code": "import matplotlib.pyplot as plt\nx = [1, 2, 3, 4, 5]\ny = [2, 4, 6, 8, 10]\nplt.plot(x, y, marker='o')\nplt.title('Simple Line Plot')\nplt.xlabel('X Axis')\nplt.ylabel('Y Axis')\nplt.grid(True)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "line", "plot"], "core_category": "VISUALIZATION_BASICS", "id": "SNP872"}
{"question": "How to create a bar plot with seaborn?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\n# Create toy data\ndata = {'Category': ['A', 'B', 'C', 'D'], 'Value': [10, 15, 7, 12]}\ndf = pd.DataFrame(data)\nsns.barplot(x='Category', y='Value', data=df)\nplt.title('Seaborn Bar Plot')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "barplot"], "core_category": "VISUALIZATION_BASICS", "id": "SNP873"}
{"question": "How to compute the t-statistic and p-value for two independent samples using scipy?", "code": "from scipy import stats\n# Generate two sample datasets\ngroup1 = np.random.normal(loc=5, scale=1.0, size=30)\ngroup2 = np.random.normal(loc=5.5, scale=1.0, size=30)\nt_stat, p_val = stats.ttest_ind(group1, group2)\nprint(f\"T-statistic: {t_stat:.4f}\")\nprint(f\"P-value: {p_val:.4f}\")", "difficulty": "medium", "tags": ["scipy", "statistics", "t-test"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP874"}
{"question": "How to drop duplicate rows from a DataFrame?", "code": "import pandas as pd\n# Create DataFrame with duplicates\ndf = pd.DataFrame({\n    'A': [1, 2, 2, 3, 1],\n    'B': [5, 6, 6, 7, 5]\n})\nprint(\"Before:\\n\", df)\ndf_clean = df.drop_duplicates()\nprint(\"\\nAfter:\\n\", df_clean)", "difficulty": "easy", "tags": ["pandas", "duplicates", "cleaning"], "core_category": "DATA_PREPROCESSING", "id": "SNP875"}
{"question": "How to add two NumPy arrays element-wise?", "code": "import numpy as np\na = np.array([1, 2, 3, 4])\nb = np.array([5, 6, 7, 8])\nresult = a + b\nprint(result)", "difficulty": "easy", "tags": ["numpy", "array", "addition"], "core_category": "ARRAY_OPERATIONS", "id": "SNP876"}
{"question": "How to make a scatter plot with matplotlib?", "code": "import matplotlib.pyplot as plt\nx = np.random.randn(50)\ny = x + np.random.randn(50) * 0.5\nplt.scatter(x, y, alpha=0.6, color='green')\nplt.title('Scatter Plot Example')\nplt.xlabel('X values')\nplt.ylabel('Y values')\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "scatter"], "core_category": "VISUALIZATION_BASICS", "id": "SNP877"}
{"question": "How to create a countplot for a categorical column using seaborn?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\n# Toy categorical data\ndata = pd.DataFrame({'Fruit': ['Apple', 'Banana', 'Apple', 'Cherry', 'Banana', 'Apple', 'Cherry']})\nsns.countplot(x='Fruit', data=data)\nplt.title('Count of Fruits')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "countplot", "categorical"], "core_category": "VISUALIZATION_BASICS", "id": "SNP878"}
{"question": "How to group by one column and calculate the mean of another?", "code": "import pandas as pd\n# Toy sales data\ndf = pd.DataFrame({\n    'City': ['NY', 'LA', 'NY', 'LA', 'NY'],\n    'Sales': [100, 150, 200, 120, 180]\n})\nresult = df.groupby('City')['Sales'].mean()\nprint(result)", "difficulty": "easy", "tags": ["pandas", "groupby", "mean"], "core_category": "DATA_TRANSFORMATION", "id": "SNP879"}
{"question": "How to check for missing values in each column of a DataFrame?", "code": "import pandas as pd\nimport numpy as np\n# DataFrame with NaN\ndf = pd.DataFrame({\n    'Col1': [1, np.nan, 3],\n    'Col2': [np.nan, 5, 6],\n    'Col3': [7, 8, 9]\n})\nprint(df.isnull().sum())", "difficulty": "easy", "tags": ["pandas", "missing", "NaN"], "core_category": "DATA_PREPROCESSING", "id": "SNP880"}
{"question": "How to apply a vectorized function to every element of a NumPy array?", "code": "import numpy as np\narr = np.array([1.0, 4.0, 9.0, 16.0])\n# Vectorized square root\nresult = np.sqrt(arr)\nprint(result)", "difficulty": "easy", "tags": ["numpy", "vectorization", "sqrt"], "core_category": "ARRAY_OPERATIONS", "id": "SNP881"}
{"question": "How to plot a histogram with matplotlib?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\ndata = np.random.randn(1000) * 10 + 50  # Normal distribution\nplt.hist(data, bins=30, edgecolor='black', alpha=0.7)\nplt.title('Histogram of Random Data')\nplt.xlabel('Value')\nplt.ylabel('Frequency')\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "histogram"], "core_category": "VISUALIZATION_BASICS", "id": "SNP882"}
{"question": "How to create a boxplot with seaborn?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\n# Generate sample data\ndata = pd.DataFrame({\n    'Group': ['A']*30 + ['B']*30,\n    'Value': np.concatenate([np.random.randn(30)*1.5 + 5, np.random.randn(30)*1.0 + 7])\n})\nsns.boxplot(x='Group', y='Value', data=data)\nplt.title('Boxplot by Group')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "boxplot"], "core_category": "VISUALIZATION_BASICS", "id": "SNP883"}
{"question": "How to perform linear interpolation on a 1D dataset using scipy?", "code": "from scipy import interpolate\nimport numpy as np\n# Known points\nx = np.array([0, 1, 2, 3, 4])\ny = np.array([0, 2, 1, 4, 3])\n# Create linear interpolation function\nf_linear = interpolate.interp1d(x, y, kind='linear')\n# Interpolate at new point\nx_new = 2.5\ny_new = f_linear(x_new)\nprint(f\"Interpolated value at x={x_new}: {y_new}\")", "difficulty": "medium", "tags": ["scipy", "interpolation"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP884"}
{"question": "How to merge two DataFrames on a common column?", "code": "import pandas as pd\n# Create two DataFrames\ndf1 = pd.DataFrame({'ID': [1, 2, 3], 'Name': ['Alice', 'Bob', 'Charlie']})\ndf2 = pd.DataFrame({'ID': [1, 2, 4], 'Score': [88, 92, 85]})\n# Inner merge on 'ID'\ndf_merged = pd.merge(df1, df2, on='ID', how='inner')\nprint(df_merged)", "difficulty": "easy", "tags": ["pandas", "merge", "join"], "core_category": "DATA_TRANSFORMATION", "id": "SNP885"}
{"question": "How to generate an array of random integers within a range?", "code": "import numpy as np\n# Generate 10 random integers between 0 and 100\nrand_ints = np.random.randint(0, 101, size=10)\nprint(rand_ints)", "difficulty": "easy", "tags": ["numpy", "random"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP886"}
{"question": "How to create a vertical bar chart with matplotlib?", "code": "import matplotlib.pyplot as plt\nlabels = ['Q1', 'Q2', 'Q3', 'Q4']\nvalues = [450, 520, 490, 600]\nplt.bar(labels, values, color='skyblue', edgecolor='navy')\nplt.title('Quarterly Revenue')\nplt.ylabel('Revenue ($)')\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "bar", "plot"], "core_category": "VISUALIZATION_BASICS", "id": "SNP887"}
{"question": "How to make a violin plot to compare distributions using seaborn?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\n# Sample data\ndf = pd.DataFrame({\n    'Category': ['A']*50 + ['B']*50,\n    'Value': np.concatenate([np.random.normal(10, 2, 50), np.random.normal(15, 3, 50)])\n})\nsns.violinplot(x='Category', y='Value', data=df, inner='quartile')\nplt.title('Violin Plot Example')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "violinplot", "distribution"], "core_category": "VISUALIZATION_BASICS", "id": "SNP888"}
{"question": "How to convert a string column to datetime format in pandas?", "code": "import pandas as pd\n# DataFrame with date strings\ndf = pd.DataFrame({\n    'date_str': ['2023-01-15', '2023-02-20', '2023-03-10'],\n    'value': [100, 200, 150]\n})\ndf['date'] = pd.to_datetime(df['date_str'])\nprint(df.dtypes)\nprint(df)", "difficulty": "easy", "tags": ["pandas", "datetime", "conversion"], "core_category": "DATA_PREPROCESSING", "id": "SNP889"}
{"question": "How to read a CSV file into a pandas DataFrame?", "code": "import pandas as pd\n# Assuming 'data.csv' exists in the current directory\n# df = pd.read_csv('data.csv')\n# For this example, we'll create and read a temporary CSV\nimport io\ncsv_data = \"A,B,C\\n1,4,7\\n2,5,8\\n3,6,9\"\ndf = pd.read_csv(io.StringIO(csv_data))\nprint(df)", "difficulty": "easy", "tags": ["pandas", "csv", "read"], "core_category": "DATA_PREPROCESSING", "id": "SNP890"}
{"question": "How to encode a categorical column using one-hot encoding?", "code": "import pandas as pd\n# Create DataFrame with a categorical column\ndf = pd.DataFrame({\n    'Color': ['Red', 'Blue', 'Green', 'Blue', 'Red']\n})\n# Apply one-hot encoding\ndf_encoded = pd.get_dummies(df, columns=['Color'])\nprint(df_encoded)", "difficulty": "easy", "tags": ["pandas", "one-hot", "encoding"], "core_category": "DATA_TRANSFORMATION", "id": "SNP891"}
{"question": "How to add a scalar to every element of a 2D array using NumPy broadcasting?", "code": "import numpy as np\n# Create a 2D array\narr = np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9]])\n# Add 10 to every element using broadcasting\nresult = arr + 10\nprint(result)", "difficulty": "easy", "tags": ["numpy", "broadcasting"], "core_category": "ARRAY_OPERATIONS", "id": "SNP892"}
{"question": "How to create two subplots side by side?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\nfig, (ax1, ax2) = plt.subplots(1, 2, figsize=(10,4))\n# First subplot\nx = np.linspace(0, 10, 100)\nax1.plot(x, np.sin(x), color='red')\nax1.set_title('Sine Wave')\n# Second subplot\nax2.plot(x, np.cos(x), color='blue')\nax2.set_title('Cosine Wave')\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "subplots"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP893"}
{"question": "How to apply a simple moving average filter to a 1D signal using scipy?", "code": "from scipy import signal\nimport numpy as np\n# Create a noisy signal\nt = np.linspace(0, 10, 200)\ny = np.sin(t) + np.random.normal(0, 0.3, t.shape)\n# Apply moving average filter (window length 5)\nwindow_size = 5\nb = np.ones(window_size) / window_size\ny_filtered = signal.lfilter(b, 1, y)\n# Plotting (optional)\nimport matplotlib.pyplot as plt\nplt.plot(t, y, alpha=0.5, label='Noisy')\nplt.plot(t, y_filtered, 'r', label='Filtered')\nplt.legend()\nplt.title('Moving Average Filter')\nplt.show()", "difficulty": "hard", "tags": ["scipy", "signal-processing", "filter"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP894"}
{"question": "How to create a new feature by binning a numeric column into categories?", "code": "import pandas as pd\n# Create sample data\ndf = pd.DataFrame({\n    'Score': [45, 78, 92, 61, 55, 85, 70, 39]\n})\n# Bin into categories: Fail, Pass, Good, Excellent\ndf['Grade'] = pd.cut(df['Score'], bins=[0, 50, 70, 85, 100],\n                      labels=['Fail', 'Pass', 'Good', 'Excellent'])\nprint(df)", "difficulty": "medium", "tags": ["pandas", "binning", "cut"], "core_category": "DATA_TRANSFORMATION", "id": "SNP895"}
{"question": "How to compute descriptive statistics (mean, median, std) for a NumPy array?", "code": "import numpy as np\narr = np.array([12.5, 15.2, 14.8, 16.0, 13.7, 15.9])\nprint(f\"Mean: {np.mean(arr):.2f}\")\nprint(f\"Median: {np.median(arr):.2f}\")\nprint(f\"Standard Deviation: {np.std(arr):.2f}\")\nprint(f\"Min: {np.min(arr):.2f}\")\nprint(f\"Max: {np.max(arr):.2f}\")", "difficulty": "easy", "tags": ["numpy", "statistics"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP896"}
{"question": "How to create a correlation matrix heatmap using seaborn?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n# Generate a small dataset with some correlation\ndf = pd.DataFrame(np.random.randn(100, 4), columns=['A', 'B', 'C', 'D'])\ndf['B'] = df['A'] * 0.7 + np.random.randn(100) * 0.3  # Make B correlated with A\ncorr_matrix = df.corr()\nsns.heatmap(corr_matrix, annot=True, cmap='coolwarm', center=0)\nplt.title('Correlation Matrix Heatmap')\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "heatmap", "correlation"], "core_category": "VISUALIZATION_BASICS", "id": "SNP897"}
{"question": "How to annotate a specific point on a matplotlib plot?", "code": "import matplotlib.pyplot as plt\nx = [1, 2, 3, 4, 5]\ny = [2, 5, 3, 8, 6]\nplt.plot(x, y, marker='o')\nplt.title('Plot with Annotation')\n# Annotate the peak\npeak_x, peak_y = 4, 8\nplt.annotate('Peak', xy=(peak_x, peak_y), xytext=(peak_x-1, peak_y+1),\n             arrowprops=dict(facecolor='black', shrink=0.05),\n             fontsize=10)\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "annotation"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP898"}
{"question": "How to create a pairplot to visualize relationships between multiple variables using seaborn?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n# Create a sample DataFrame\ndf = pd.DataFrame({\n    'Feature1': np.random.randn(150),\n    'Feature2': np.random.randn(150) * 0.5 + 2,\n    'Feature3': np.random.randn(150) * 1.5 - 1,\n    'Class': np.random.choice(['X', 'Y', 'Z'], 150)\n})\nsns.pairplot(df, hue='Class', diag_kind='kde', palette='Set2')\nplt.suptitle('Pairplot with Hue', y=1.02)\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "pairplot", "multivariate"], "core_category": "VISUALIZATION_BASICS", "id": "SNP899"}
{"question": "How to find the minimum of a simple quadratic function using scipy?", "code": "from scipy.optimize import minimize_scalar\ndef quadratic(x):\n    return (x - 5) ** 2 + 2  # Minimum at x=5, value=2\nresult = minimize_scalar(quadratic)\nprint(f\"Minimum at x = {result.x:.4f}\")\nprint(f\"Minimum value = {result.fun:.4f}\")", "difficulty": "medium", "tags": ["scipy", "optimization", "minimize"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP900"}
{"question": "How to change the figure size and line style in matplotlib?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\nx = np.linspace(0, 2*np.pi, 100)\ny = np.sin(x)\nplt.figure(figsize=(8, 5))  # Set figure size\nplt.plot(x, y, linestyle='--', linewidth=2, color='darkgreen', marker='s', markersize=4, markerfacecolor='orange')\nplt.title('Styled Sine Wave')\nplt.grid(True, linestyle=':', alpha=0.7)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "styling", "figure"], "core_category": "VISUALIZATION_CONFIGURATION", "id": "SNP901"}
{"question": "How to create a scatter plot with hue (color by category) using seaborn?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n# Create sample data with categories\ndf = pd.DataFrame({\n    'X': np.random.randn(80),\n    'Y': np.random.randn(80) * 0.8 + 2,\n    'Group': ['A']*40 + ['B']*40\n})\nsns.scatterplot(data=df, x='X', y='Y', hue='Group', style='Group', s=80)\nplt.title('Scatter Plot with Groups')\nplt.legend(title='Group')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "scatterplot", "hue"], "core_category": "VISUALIZATION_BASICS", "id": "SNP902"}
{"question": "How to compute the element-wise product of two NumPy arrays?", "code": "import numpy as np\na = np.array([1, 2, 3, 4])\nb = np.array([2, 3, 4, 5])\nproduct = a * b  # Element-wise multiplication\nprint(product)", "difficulty": "easy", "tags": ["numpy", "multiplication", "element-wise"], "core_category": "ARRAY_OPERATIONS", "id": "SNP903"}
{"question": "How to drop all rows that contain any missing values?", "code": "import pandas as pd\nimport numpy as np\ndf = pd.DataFrame({\n    'A': [1, np.nan, 3, 4],\n    'B': [5, 6, np.nan, 8],\n    'C': [9, 10, 11, 12]\n})\nprint(\"Before:\\n\", df)\ndf_dropped = df.dropna()\nprint(\"\\nAfter dropping rows with NaN:\\n\", df_dropped)", "difficulty": "easy", "tags": ["pandas", "dropna", "missing"], "core_category": "DATA_PREPROCESSING", "id": "SNP904"}
{"question": "How do I create a DataFrame from a list of dictionaries?", "code": "import pandas as pd\ndata = [\n    {'Product': 'Apple', 'Price': 1.2, 'Quantity': 50},\n    {'Product': 'Banana', 'Price': 0.8, 'Quantity': 75},\n    {'Product': 'Cherry', 'Price': 3.5, 'Quantity': 20}\n]\ndf = pd.DataFrame(data)\nprint(df)", "difficulty": "easy", "tags": ["pandas", "dataframe", "list of dicts"], "core_category": "LIBRARY_FUNDAMENTALS", "id": "SNP905"}
{"question": "How to create a 3x3 identity matrix?", "code": "import numpy as np\nidentity_matrix = np.eye(3)\nprint(identity_matrix)", "difficulty": "easy", "tags": ["numpy", "matrix", "identity"], "core_category": "ARRAY_OPERATIONS", "id": "SNP906"}
{"question": "How to plot multiple lines on the same graph?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\nx = np.arange(0, 10, 0.5)\ny1 = np.sin(x)\ny2 = np.cos(x)\nplt.plot(x, y1, label='Sine', color='blue')\nplt.plot(x, y2, label='Cosine', color='red', linestyle='--')\nplt.title('Multiple Line Plot')\nplt.xlabel('X')\nplt.ylabel('Y')\nplt.legend()\nplt.grid(True)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "line", "multiple lines"], "core_category": "VISUALIZATION_BASICS", "id": "SNP907"}
{"question": "How to create a horizontal bar plot with seaborn?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\ndata = {'City': ['New York', 'London', 'Tokyo', 'Paris'], 'Visitors': [500, 400, 300, 350]}\ndf = pd.DataFrame(data)\nsns.barplot(x='Visitors', y='City', data=df, palette='viridis')\nplt.title('Visitors by City')\nplt.tight_layout()\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "barplot", "horizontal"], "core_category": "VISUALIZATION_BASICS", "id": "SNP908"}
{"question": "How to perform a one-sample t-test using scipy?", "code": "from scipy import stats\nimport numpy as np\nsample = np.random.normal(loc=105, scale=15, size=30)  # Sample data\npopulation_mean = 100  # Hypothesized population mean\nt_stat, p_val = stats.ttest_1samp(sample, population_mean)\nprint(f\"T-statistic: {t_stat:.4f}\")\nprint(f\"P-value: {p_val:.4f}\")", "difficulty": "medium", "tags": ["scipy", "t-test", "hypothesis testing"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP909"}
{"question": "How to rename columns in a pandas DataFrame?", "code": "import pandas as pd\ndf = pd.DataFrame({'old_name1': [1,2,3], 'old_name2': [4,5,6]})\nprint(\"Original columns:\", df.columns.tolist())\ndf.rename(columns={'old_name1': 'new_A', 'old_name2': 'new_B'}, inplace=True)\nprint(\"Renamed columns:\", df.columns.tolist())\nprint(df)", "difficulty": "easy", "tags": ["pandas", "rename", "columns"], "core_category": "DATA_PREPROCESSING", "id": "SNP910"}
{"question": "How to calculate the dot product of two vectors in NumPy?", "code": "import numpy as np\nv1 = np.array([1, 2, 3])\nv2 = np.array([4, 5, 6])\ndot_product = np.dot(v1, v2)\nprint(f\"Dot product: {dot_product}\")", "difficulty": "easy", "tags": ["numpy", "dot product", "linear algebra"], "core_category": "ARRAY_OPERATIONS", "id": "SNP911"}
{"question": "How to change marker size and color in a scatter plot?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\nx = np.random.rand(50)\ny = np.random.rand(50)\nsizes = np.random.randint(20, 200, 50)\ncolors = np.random.rand(50)\nplt.scatter(x, y, s=sizes, c=colors, cmap='plasma', alpha=0.7, edgecolor='black')\nplt.colorbar(label='Color intensity')\nplt.title('Scatter Plot with Variable Size and Color')\nplt.xlabel('X')\nplt.ylabel('Y')\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "scatter", "colormap"], "core_category": "VISUALIZATION_BASICS", "id": "SNP912"}
{"question": "How to order categories in a seaborn countplot?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\ndata = pd.DataFrame({'Grade': ['B', 'A', 'C', 'B', 'A', 'A', 'C', 'B', 'C']})\n# Specify order\norder = ['A', 'B', 'C']\nsns.countplot(x='Grade', data=data, order=order, palette='Set2')\nplt.title('Count of Grades (Ordered)')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "countplot", "ordering"], "core_category": "VISUALIZATION_BASICS", "id": "SNP913"}
{"question": "How to group by multiple columns and compute multiple aggregations?", "code": "import pandas as pd\n# Sales data\ndf = pd.DataFrame({\n    'Region': ['North', 'North', 'South', 'South', 'North', 'South'],\n    'Product': ['A', 'B', 'A', 'B', 'A', 'B'],\n    'Sales': [100, 150, 200, 120, 180, 90]\n})\nresult = df.groupby(['Region', 'Product']).agg({'Sales': ['sum', 'mean', 'count']})\nprint(result)", "difficulty": "medium", "tags": ["pandas", "groupby", "aggregation"], "core_category": "DATA_TRANSFORMATION", "id": "SNP914"}
{"question": "How to calculate the continuous wavelet transform (CWT) of a signal?", "code": "from scipy.signal import cwt, ricker\nimport numpy as np\nsignal = np.array([1, 2, 3, 4])\nwidths = [1, 2]\ncwt_matrix = cwt(signal, ricker, widths)\ncwt_matrix.shape", "difficulty": "hard", "tags": ["scipy", "cwt", "wavelet", "signal-processing"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP828"}
{"question": "How to use `map` with a dictionary to replace categorical values in a column?", "code": "import pandas as pd\ndf = pd.DataFrame({'col': ['A', 'B', 'C']})\nmapping = {'A': 'X', 'B': 'Y'}\ndf['mapped'] = df['col'].map(mapping)\ndf", "difficulty": "medium", "tags": ["pandas", "map", "replace", "data-cleaning"], "core_category": "DATA_PREPROCESSING", "id": "SNP829"}
{"question": "How to replace values in an array that are less than a threshold with a specified fill value?", "code": "import numpy as np\narr = np.array([1, -2, 3, -4])\nresult = np.where(arr < 0, 0, arr)\nresult", "difficulty": "medium", "tags": ["numpy", "where", "replacement", "threshold"], "core_category": "ARRAY_OPERATIONS", "id": "SNP832"}
{"question": "How to perform an ANOVA (Analysis of Variance) F-test for three or more independent groups?", "code": "from scipy.stats import f_oneway\ng1 = [1, 2, 3]\ng2 = [2, 3, 4]\ng3 = [3, 4, 5]\nstat, p = f_oneway(g1, g2, g3)\nstat, p", "difficulty": "medium", "tags": ["scipy", "statistics", "anova", "f_oneway"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP835"}
{"question": "How to compute the difference between two time series and express the result in total days (float)?", "code": "import pandas as pd\ndf = pd.DataFrame({\n    'start': pd.to_datetime(['2023-01-01']),\n    'end': pd.to_datetime(['2023-01-10'])\n})\ndf['diff'] = (df['end'] - df['start']).dt.days\ndf", "difficulty": "medium", "tags": ["pandas", "timedelta", "datetime", "difference"], "core_category": "DATA_PREPROCESSING", "id": "SNP836"}
{"question": "How to compute the cumulative product of elements along a specified axis?", "code": "import numpy as np\narr = np.array([1, 2, 3])\ncum_prod = np.cumprod(arr)\ncum_prod", "difficulty": "medium", "tags": ["numpy", "cumprod", "cumulative-product"], "core_category": "ARRAY_OPERATIONS", "id": "SNP837"}
{"question": "How to numerically integrate a set of 1D data points using the trapezoidal rule?", "code": "from scipy.integrate import trapz\nimport numpy as np\nx = [0, 1, 2]\ny = [0, 1, 4]\nintegral = trapz(y, x)\nintegral", "difficulty": "easy", "tags": ["scipy", "integration", "trapz", "numerical"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP839"}
{"question": "How to detect and count the number of duplicate rows across a specific subset of columns?", "code": "import pandas as pd\ndf = pd.DataFrame({'A': [1, 2, 1], 'B': ['x', 'y', 'x']})\ndup_count = df.duplicated(subset=['A', 'B']).sum()\ndup_count", "difficulty": "medium", "tags": ["pandas", "duplicated", "subset", "data-cleaning"], "core_category": "DATA_PREPROCESSING", "id": "SNP840"}
{"question": "How to compute the Fast Fourier Transform (FFT) and its inverse (IFFT)?", "code": "import numpy as np\nsignal = np.array([1, 2, 3, 4])\nY = np.fft.fft(signal)\ny_restored = np.fft.ifft(Y)\ny_restored", "difficulty": "easy", "tags": ["scipy", "fft", "ifft", "signal-processing"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP843"}
{"question": "How to perform a melt operation and simultaneously manage multiple value variables and variable names?", "code": "import pandas as pd\ndf = pd.DataFrame({'id': [1, 2], 'A': [10, 20], 'B': [30, 40]})\ndf_melted = df.melt(id_vars=['id'], value_vars=['A', 'B'])\ndf_melted.head()", "difficulty": "medium", "tags": ["pandas", "melt", "reshaping", "long-format"], "core_category": "DATA_TRANSFORMATION", "id": "SNP844"}
{"question": "How to calculate the median along a specific axis of a 2D array?", "code": "import numpy as np\narr_2d = np.array([[1, 2], [3, 4]])\nmedian_row = np.median(arr_2d, axis=1)\nmedian_row", "difficulty": "easy", "tags": ["numpy", "median", "statistics", "axis"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP845"}
{"question": "How to find the minimum of a 1D function over a given range (bracketed minimization)?", "code": "from scipy.optimize import minimize_scalar\nimport numpy as np\ndef f(x):\n    return x**2 - 4\nres = minimize_scalar(f, bounds=(0, 5))\nres.x", "difficulty": "medium", "tags": ["scipy", "optimization", "minimize-scalar", "bounded"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP846"}
{"question": "How to check if a column contains specific words from a list and create a boolean mask?", "code": "import pandas as pd\ndf = pd.DataFrame({'text': ['apple pie', 'banana bread', 'cherry']})\nkeywords = ['pie', 'cherry']\nmask = df['text'].str.contains('|'.join(keywords))\nmask", "difficulty": "medium", "tags": ["pandas", "contains", "regex", "boolean-mask"], "core_category": "DATA_PREPROCESSING", "id": "SNP847"}
{"question": "How to fill forward (LOCF) and backward (NOCB) in a single column to impute missing values?", "code": "import pandas as pd\ndf = pd.DataFrame({'val': [1, np.nan, 3, np.nan, 5]})\ndf['filled'] = df['val'].fillna(method='ffill').fillna(method='bfill')\ndf", "difficulty": "medium", "tags": ["pandas", "fillna", "ffill", "bfill"], "core_category": "DATA_PREPROCESSING", "id": "SNP852"}
{"question": "How to compute the discrete difference of an array along the second axis?", "code": "import numpy as np\narr = np.array([[1, 2, 4], [5, 7, 10]])\ndiff = np.diff(arr, axis=1)\ndiff", "difficulty": "medium", "tags": ["numpy", "diff", "difference", "axis"], "core_category": "ARRAY_OPERATIONS", "id": "SNP853"}
{"question": "How to calculate the Shapiro-Wilk test statistic for checking the normality of a sample?", "code": "from scipy.stats import shapiro\nimport numpy as np\ndata = np.array([1, 2, 3, 4, 5])\nstat, p = shapiro(data)\nstat, p", "difficulty": "medium", "tags": ["scipy", "statistics", "shapiro-wilk", "normality"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP856"}
{"question": "How to generate a single random integer from a specific range?", "code": "import numpy as np\nrand_int = np.random.randint(1, 10)\nrand_int", "difficulty": "easy", "tags": ["numpy", "randint", "random", "generation"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP857"}
{"question": "How to perform 2D convolution (e.g., blurring an image) using a Gaussian kernel?", "code": "from scipy.ndimage import gaussian_filter\nimport numpy as np\nimg = np.array([[1, 2], [3, 4]])\nblurred = gaussian_filter(img, sigma=1)\nblurred", "difficulty": "medium", "tags": ["scipy", "gaussian-filter", "convolution", "image-processing"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP860"}
{"question": "How to compute the indices that sort an array in descending order?", "code": "import numpy as np\narr = np.array([3, 1, 4, 2])\ndesc_idx = np.argsort(arr)[::-1]\ndesc_idx", "difficulty": "medium", "tags": ["numpy", "argsort", "descending", "sorting"], "core_category": "ARRAY_OPERATIONS", "id": "SNP861"}
{"question": "How to determine the optimal number of clusters using the elbow method and $k$-means distortion?", "code": "from scipy.cluster.vq import kmeans\nimport numpy as np\ndata = np.array([[1, 2], [3, 4], [5, 6]])\ndistortions = []\nfor k in range(1, 4):\n    _, distortion = kmeans(data, k)\n    distortions.append(distortion)\ndistortions", "difficulty": "hard", "tags": ["scipy", "kmeans", "distortion", "elbow-method"], "core_category": "ML_MODELING", "id": "SNP866"}
{"question": "How to compute the inner product (dot product) of two vectors?", "code": "import numpy as np\nv1 = np.array([1, 2, 3])\nv2 = np.array([4, 5, 6])\ninner = np.dot(v1, v2)\ninner", "difficulty": "easy", "tags": ["numpy", "dot-product", "linear-algebra"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP868"}
{"question": "How to customize the appearance of the confidence band (e.g., color and alpha) in a line plot?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\ndf = pd.DataFrame({'x': [1, 2, 3], 'y': [2, 4, 6]})\nsns.lineplot(data=df, x='x', y='y', color='blue', linewidth=2)\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "lineplot", "confidence-interval", "customization"], "core_category": "VISUALIZATION_BASICS", "id": "SNP869"}
{"question": "How to calculate the mode (most frequent value) within each group?", "code": "import pandas as pd\n\n# Create sample DataFrame\ndf = pd.DataFrame({\n    'category': ['A', 'A', 'A', 'B', 'B', 'B', 'B'],\n    'value': [1, 2, 2, 3, 4, 4, 4]\n})\n\nresult = df.groupby('category')['value'].agg(lambda x: x.mode().iloc[0] if not x.mode().empty else None)\nprint(result)", "difficulty": "hard", "tags": ["pandas", "groupby", "mode", "aggregation"], "core_category": "DATA_TRANSFORMATION", "id": "SNP782"}
{"question": "How to compute the percentage share of each item within its respective group using `transform`?", "code": "import pandas as pd\n\ndata = {'group': ['A', 'A', 'B', 'B', 'B'], 'value': [10, 20, 5, 10, 15]}\ndf = pd.DataFrame(data)\ndf['share'] = df['value'] / df.groupby('group')['value'].transform('sum')\nprint(df)", "difficulty": "hard", "tags": ["pandas", "transform", "percentage", "groupby"], "core_category": "DATA_TRANSFORMATION", "id": "SNP785"}
{"question": "How to convert a mixed type column (integers and strings) to numeric, replacing unconvertible values with NaN?", "code": "import pandas as pd\n\ndata = {'col': [100, '50%', 200, 'N/A', 300]}\ndf = pd.DataFrame(data)\ndf['col_numeric'] = pd.to_numeric(df['col'], errors='coerce')\nprint(df)", "difficulty": "medium", "tags": ["pandas", "to_numeric", "data-cleaning", "coerce"], "core_category": "DATA_PREPROCESSING", "id": "SNP788"}
{"question": "How to generate a sequence of logarithmically spaced numbers?", "code": "import numpy as np\n\nstart, stop, count = 1, 1000, 10\nlog_spaced = np.logspace(np.log10(start), np.log10(stop), num=count)\nprint(log_spaced)", "difficulty": "medium", "tags": ["numpy", "logspace", "sequence", "generation"], "core_category": "ARRAY_OPERATIONS", "id": "SNP789"}
{"question": "How to use `unstack` to pivot the innermost level of a MultiIndex to become new column headers?", "code": "import pandas as pd\n\nmulti_index = pd.MultiIndex.from_product([['A', 'B'], [1, 2]])\ns = pd.Series([10, 20, 30, 40], index=multi_index, name='Value')\ndf_unstacked = s.unstack(level=1)\nprint(df_unstacked)", "difficulty": "medium", "tags": ["pandas", "unstack", "multiindex", "reshaping"], "core_category": "DATA_TRANSFORMATION", "id": "SNP792"}
{"question": "How to perform an outer addition (element-wise addition of a 1D array to all rows/columns of a 2D array)?", "code": "import numpy as np\n\nA = np.array([[1, 2], [3, 4]])\nv = np.array([10, 20])\nresult = A + v[:, np.newaxis]  # Add v to columns (broadcasting)\nprint(result)", "difficulty": "medium", "tags": ["numpy", "broadcasting", "outer-operation", "addition"], "core_category": "ARRAY_OPERATIONS", "id": "SNP793"}
{"question": "How to calculate the power for a two-sample T-test using effect size and sample sizes?", "code": "from statsmodels.stats.power import TTestIndPower\n\nanalysis = TTestIndPower()\npower = analysis.solve_power(effect_size=0.5, nobs1=20, alpha=0.05, ratio=1.0)\nprint(power)", "difficulty": "hard", "tags": ["scipy", "statsmodels", "power-analysis", "t-test"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP796"}
{"question": "How to extract a specific group matched by a regular expression from a string column?", "code": "import pandas as pd\n\ndata = {'text': ['ID_123_DATA', 'ID_456_INFO', 'OTHER_789']}\ndf = pd.DataFrame(data)\ndf['id'] = df['text'].str.extract(r'ID_(\\d+)_')\nprint(df)", "difficulty": "medium", "tags": ["pandas", "extract", "regex", "string-operations"], "core_category": "DATA_PREPROCESSING", "id": "SNP797"}
{"question": "How to perform matrix multiplication using the `@` operator?", "code": "import numpy as np\n\nA = np.array([[1, 2], [3, 4]])\nB = np.array([[5, 6], [7, 8]])\nresult = A @ B\nprint(result)", "difficulty": "easy", "tags": ["numpy", "matmul", "matrix-multiplication", "linear-algebra"], "core_category": "ARRAY_OPERATIONS", "id": "SNP798"}
{"question": "How to design a Chebyshev Type I filter (bandpass) for signal filtering?", "code": "from scipy.signal import cheby1, filtfilt\nimport numpy as np\n\nb, a = cheby1(N=4, rp=5, Wn=[0.1, 0.4], btype='bandpass')\nsignal = np.random.randn(100)\ny_filtered = filtfilt(b, a, signal)\nprint(y_filtered)", "difficulty": "hard", "tags": ["scipy", "cheby1", "filter-design", "signal-processing"], "core_category": "SCIENTIFIC_COMPUTING", "id": "SNP801"}
{"question": "How to create a DatetimeIndex and resample it to the last business day of the month?", "code": "import pandas as pd\nimport numpy as np\n\ndates = pd.date_range('2023-01-01', periods=100, freq='D')\nts = pd.Series(np.random.rand(100), index=dates)\nts_resampled = ts.resample('BM').mean()\nprint(ts_resampled)", "difficulty": "medium", "tags": ["pandas", "resample", "datetimeindex", "business-month-end"], "core_category": "DATA_PREPROCESSING", "id": "SNP802"}
{"question": "How to flatten a multi-dimensional array into a 1D array?", "code": "import numpy as np\n\narr_2d = np.array([[1, 2], [3, 4]])\nflat_arr = arr_2d.flatten()\nprint(flat_arr)", "difficulty": "easy", "tags": ["numpy", "flatten", "array-manipulation"], "core_category": "ARRAY_OPERATIONS", "id": "SNP803"}
{"question": "How to perform 2D interpolation on unstructured data (scattered data points)?", "code": "from scipy.interpolate import LinearNDInterpolator\nimport numpy as np\n\npoints = np.random.rand(100, 2) * 10\nvalues = np.sin(points[:, 0]) + np.cos(points[:, 1])\ninterp = LinearNDInterpolator(points, values)\nquery_point = np.array([[5, 5]])\nresult = interp(query_point)\nprint(result)", "difficulty": "hard", "tags": ["scipy", "interpolation", "linearndinterpolator", "unstructured-data"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP806"}
{"question": "How to convert a DataFrame to a dictionary where column headers are keys and row values are list values?", "code": "import pandas as pd\n\ndata = {'col1': [1, 2], 'col2': [3, 4]}\ndf = pd.DataFrame(data)\ndata_dict = df.to_dict('list')\nprint(data_dict)", "difficulty": "easy", "tags": ["pandas", "to_dict", "conversion", "list"], "core_category": "DATA_TRANSFORMATION", "id": "SNP807"}
{"question": "How to efficiently check if any element in a boolean array is True?", "code": "import numpy as np\n\nbool_arr = np.array([False, False, True, False])\nany_true = bool_arr.any()\nprint(any_true)", "difficulty": "easy", "tags": ["numpy", "any", "boolean", "check"], "core_category": "ARRAY_OPERATIONS", "id": "SNP808"}
{"question": "How to perform the Anderson-Darling test for checking if a sample comes from a standard normal distribution?", "code": "from scipy.stats import anderson\nimport numpy as np\n\ndata = np.random.normal(loc=0, scale=1, size=50)\nresult = anderson(data, dist='norm')\nprint(result)", "difficulty": "medium", "tags": ["scipy", "statistics", "anderson-test", "normality"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP810"}
{"question": "How to perform a cross join (Cartesian product) between two DataFrames?", "code": "import pandas as pd\n\ndf1 = pd.DataFrame({'A': [1, 2]})\ndf2 = pd.DataFrame({'B': ['x', 'y']})\ndf_cross = df1.merge(df2, how='cross')\nprint(df_cross)", "difficulty": "medium", "tags": ["pandas", "merge", "cross-join", "cartesian-product"], "core_category": "DATA_TRANSFORMATION", "id": "SNP811"}
{"question": "How to compute the condition number of a matrix?", "code": "import numpy as np\n\nA = np.array([[1, 2], [3, 4.001]])\ncondition_number = np.linalg.cond(A)\nprint(condition_number)", "difficulty": "medium", "tags": ["numpy", "condition-number", "linear-algebra"], "core_category": "STATISTICAL_COMPUTING", "id": "SNP812"}
{"question": "How to calculate the pairwise distance matrix between observations using a specific metric (e.g., Manhattan distance)?", "code": "from scipy.spatial.distance import pdist, squareform\nimport numpy as np\n\nX = np.random.rand(5, 2)\ndist_vector = pdist(X, metric='cityblock')\ndist_matrix = squareform(dist_vector)\nprint(dist_matrix)", "difficulty": "medium", "tags": ["scipy", "pdist", "distance", "clustering"], "core_category": "ML_MODELING", "id": "SNP815"}
{"question": "How to select rows based on whether a column contains a list of specific values?", "code": "import pandas as pd\n\ndata = {'col': ['apple', 'banana', 'cherry', 'date']}\ndf = pd.DataFrame(data)\ndf_filtered = df[df['col'].isin(['apple', 'date'])]\nprint(df_filtered)", "difficulty": "easy", "tags": ["pandas", "isin", "filtering", "selection"], "core_category": "DATA_TRANSFORMATION", "id": "SNP816"}
{"question": "How to concatenate two arrays along a specified axis (e.g., column-wise)?", "code": "import numpy as np\n\na = np.array([[1, 2], [3, 4]])\nb = np.array([[5, 6], [7, 8]])\nresult = np.concatenate((a, b), axis=1)\nprint(result)", "difficulty": "easy", "tags": ["numpy", "concatenate", "stacking"], "core_category": "ARRAY_OPERATIONS", "id": "SNP817"}
{"question": "How to use `agg` to apply different aggregation functions to different columns simultaneously?", "code": "import pandas as pd\n\ndata = {'group': ['A', 'A', 'B', 'B'], 'val1': [1, 2, 5, 6], 'val2': [10, 20, 30, 40]}\ndf = pd.DataFrame(data)\nagg_result = df.groupby('group').agg({'val1': 'mean', 'val2': 'max'})\nprint(agg_result)", "difficulty": "medium", "tags": ["pandas", "groupby", "agg", "multiple-functions"], "core_category": "DATA_TRANSFORMATION", "id": "SNP819"}
{"question": "How to calculate a centered rolling average for a time series (looking backward and forward)?", "code": "import pandas as pd\nimport numpy as np\n\nts = pd.Series(np.random.rand(100), index=pd.date_range('2023-01-01', periods=100))\nts_roll_avg = ts.rolling(window=5, center=True).mean()\nprint(ts_roll_avg)", "difficulty": "medium", "tags": ["pandas", "rolling", "center", "time-series"], "core_category": "DATA_TRANSFORMATION", "id": "SNP824"}
