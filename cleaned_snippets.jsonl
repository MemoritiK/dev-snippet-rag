{"id": "pd_001", "category": "grouping-aggregation", "question": "How do I calculate the weighted average of a column within specific groups in a DataFrame?", "code": "def weighted_avg(x):\\n    return np.average(x['value'], weights=x['weight'])\\n\\ngrouped = df.groupby('category').apply(weighted_avg)", "difficulty": "medium", "tags": ["pandas", "groupby", "weighted-average", "apply"]}
{"id": "np_001", "category": "broadcasting", "question": "How can I calculate the pairwise Euclidean distance matrix between two arrays without loops?", "code": "dist_matrix = np.sqrt(np.sum((A[:, np.newaxis, :] - B[np.newaxis, :, :]) ** 2, axis=2))", "difficulty": "hard", "tags": ["numpy", "broadcasting", "euclidean-distance", "optimization"]}
{"id": "pd_002", "category": "datetime-processing", "question": "How to resample time series data to business days and interpolate missing values linearly?", "code": "df_resampled = df.resample('B').mean().interpolate(method='linear')", "difficulty": "medium", "tags": ["pandas", "timeseries", "resample", "interpolation"]}
{"id": "sns_001", "category": "heatmap", "question": "How do I create a correlation heatmap masking the upper triangle of the matrix?", "code": "corr = df.corr()\\nmask = np.triu(np.ones_like(corr, dtype=bool))\\nsns.heatmap(corr, mask=mask, cmap='coolwarm', center=0, square=True, linewidths=.5)", "difficulty": "medium", "tags": ["seaborn", "visualization", "correlation", "masking"]}
{"id": "sp_001", "category": "optimization", "question": "How to minimize a scalar function with specific bounds using SciPy?", "code": "from scipy.optimize import minimize\\n\\ndef fun(x): return (x[0] - 1)**2 + (x[1] - 2.5)**2\\nres = minimize(fun, x0=[2, 0], method='L-BFGS-B', bounds=((0, None), (0, None)))", "difficulty": "medium", "tags": ["scipy", "optimization", "minimize", "bounds"]}
{"id": "pd_003", "category": "merging-joining", "question": "How to perform an asof merge to match nearest keys in time series data?", "code": "merged = pd.merge_asof(trades, quotes, on='time', by='ticker', tolerance=pd.Timedelta('10ms'), direction='backward')", "difficulty": "hard", "tags": ["pandas", "merge_asof", "timeseries", "finance"]}
{"id": "mpl_001", "category": "subplots", "question": "How do I create a dual-axis plot sharing the same x-axis with different scales?", "code": "fig, ax1 = plt.subplots()\\nax1.plot(x, y1, 'g-')\\nax2 = ax1.twinx()\\nax2.plot(x, y2, 'b-')\\nax1.set_xlabel('X data')", "difficulty": "medium", "tags": ["matplotlib", "dual-axis", "subplots", "twinx"]}
{"id": "np_002", "category": "vectorization", "question": "How to implement One-Hot Encoding on a numpy array of integers?", "code": "n_values = np.max(arr) + 1\\none_hot = np.eye(n_values)[arr]", "difficulty": "medium", "tags": ["numpy", "one-hot-encoding", "identity-matrix", "preprocessing"]}
{"id": "pd_004", "category": "creating-features", "question": "How to create a rolling window feature calculating the z-score of the last 30 days?", "code": "roll = df['close'].rolling(window=30)\\ndf['z_score'] = (df['close'] - roll.mean()) / roll.std()", "difficulty": "medium", "tags": ["pandas", "feature-engineering", "rolling-window", "z-score"]}
{"id": "sp_002", "category": "signal-processing", "question": "How to apply a Butterworth lowpass filter to a noisy signal?", "code": "from scipy.signal import butter, lfilter\\n\\nb, a = butter(N=6, Wn=0.3, btype='low')\\nfiltered_signal = lfilter(b, a, noisy_signal)", "difficulty": "medium", "tags": ["scipy", "signal-processing", "filtering", "butterworth"]}
{"id": "sns_002", "category": "jointplot", "question": "How to create a jointplot with regression lines and kernel density estimation on the margins?", "code": "sns.jointplot(data=df, x='bill_length', y='bill_depth', kind='reg', marginal_kws=dict(bins=25, fill=True))", "difficulty": "medium", "tags": ["seaborn", "jointplot", "regression", "kde"]}
{"id": "np_003", "category": "array-ops", "question": "How to find the indices of the N largest values in a flattened numpy array?", "code": "flat_indices = np.argpartition(arr.flatten(), -N)[-N:]\\nindices = np.unravel_index(flat_indices, arr.shape)", "difficulty": "hard", "tags": ["numpy", "sorting", "argpartition", "indexing"]}
{"id": "mpl_002", "category": "annotations", "question": "How to annotate specific points on a scatter plot with arrows pointing to them?", "code": "ax.annotate('Outlier', xy=(x_val, y_val), xytext=(x_val+1, y_val+1),\\n            arrowprops=dict(facecolor='black', shrink=0.05))", "difficulty": "medium", "tags": ["matplotlib", "annotation", "arrows", "labeling"]}
{"id": "pd_005", "category": "missing-values", "question": "How to impute missing values using the mean of their respective groups?", "code": "df['value'] = df['value'].fillna(df.groupby('category')['value'].transform('mean'))", "difficulty": "medium", "tags": ["pandas", "imputation", "transform", "fillna"]}
{"id": "sp_003", "category": "interpolation", "question": "How to perform Cubic Spline interpolation on a set of data points?", "code": "from scipy.interpolate import CubicSpline\\n\\ncs = CubicSpline(x, y)\\ny_new = cs(x_new)", "difficulty": "medium", "tags": ["scipy", "interpolation", "cubic-spline", "smoothing"]}
{"id": "sns_003", "category": "pairplot", "question": "How to create a pairplot where the lower triangle is a scatter plot and upper is a kde plot?", "code": "g = sns.PairGrid(df)\\ng.map_upper(sns.kdeplot)\\ng.map_lower(sns.scatterplot)\\ng.map_diag(sns.histplot)", "difficulty": "hard", "tags": ["seaborn", "pairgrid", "custom-mapping", "multi-plot"]}
{"id": "pd_006", "category": "categorical-encoding", "question": "How to perform target encoding (mean encoding) on a categorical feature?", "code": "global_mean = df['target'].mean()\\nagg = df.groupby('cat')['target'].agg(['count', 'mean'])\\nsmooth = (agg['count'] * agg['mean'] + 10 * global_mean) / (agg['count'] + 10)\\ndf['cat_enc'] = df['cat'].map(smooth)", "difficulty": "hard", "tags": ["pandas", "target-encoding", "feature-engineering", "smoothing"]}
{"id": "np_004", "category": "random-generation", "question": "How to generate a random sample from a multivariate normal distribution given a covariance matrix?", "code": "mean = [0, 0]\\ncov = [[1, 0.5], [0.5, 1]]\\nsamples = np.random.multivariate_normal(mean, cov, 1000)", "difficulty": "medium", "tags": ["numpy", "statistics", "random-sampling", "multivariate"]}
{"id": "mpl_003", "category": "styling", "question": "How to set a custom style context for a specific block of code without affecting global settings?", "code": "with plt.style.context('dark_background'):\\n    plt.plot(x, y)\\n    plt.title('Dark Mode Plot')", "difficulty": "medium", "tags": ["matplotlib", "styling", "context-manager", "themes"]}
{"id": "sp_004", "category": "statistics", "question": "How to perform a Kolmogorov-Smirnov test to check if data follows a normal distribution?", "code": "from scipy import stats\\nstat, p_value = stats.kstest(data, 'norm', args=(data.mean(), data.std()))", "difficulty": "medium", "tags": ["scipy", "statistics", "hypothesis-testing", "ks-test"]}
{"id": "pd_007", "category": "data-cleaning", "question": "How do I split a column containing lists into multiple rows (explode)?", "code": "df_exploded = df.explode('list_column').reset_index(drop=True)", "difficulty": "medium", "tags": ["pandas", "explode", "normalization", "list-splitting"]}
{"id": "np_005", "category": "linear-algebra", "question": "How to compute the Einstein summation convention for matrix multiplication?", "code": "result = np.einsum('ij,jk->ik', A, B)", "difficulty": "hard", "tags": ["numpy", "einsum", "matrix-multiplication", "optimization"]}
{"id": "sns_004", "category": "heatmap", "question": "How to generate a hierarchically clustered heatmap (Clustermap)?", "code": "sns.clustermap(df, method='ward', cmap='viridis', standard_scale=1)", "difficulty": "medium", "tags": ["seaborn", "clustering", "heatmap", "hierarchical"]}
{"id": "pd_008", "category": "grouping-aggregation", "question": "How can I calculate cumulative sales per group but reset the accumulation every month?", "code": "df['cum_sales'] = df.groupby(['store_id', pd.Grouper(key='date', freq='M')])['sales'].cumsum()", "difficulty": "hard", "tags": ["pandas", "groupby", "cumsum", "time-grouper"]}
{"id": "mpl_004", "category": "line-plot", "question": "How to fill the area between two lines to represent a confidence interval?", "code": "plt.plot(x, y_mean, 'k-')\\nplt.fill_between(x, y_mean - y_std, y_mean + y_std, alpha=0.5, color='gray')", "difficulty": "medium", "tags": ["matplotlib", "fill_between", "confidence-interval", "visualization"]}
{"id": "sp_005", "category": "statistics", "question": "How to compute the pairwise Euclidean distances between observation vectors efficiently?", "code": "from scipy.spatial.distance import pdist, squareform\\n\\ndistances = pdist(X, metric='euclidean')\\ndist_matrix = squareform(distances)", "difficulty": "medium", "tags": ["scipy", "distance-matrix", "pdist", "spatial"]}
{"id": "np_006", "category": "array-ops", "question": "How to create a rolling window view of a numpy array without copying data (stride tricks)?", "code": "from numpy.lib.stride_tricks import sliding_window_view\\n\\nwindows = sliding_window_view(arr, window_shape=3)", "difficulty": "hard", "tags": ["numpy", "stride_tricks", "rolling-window", "memory-optimization"]}
{"id": "pd_009", "category": "creating-features", "question": "How to extract specific patterns from a string column using Named Groups in Regex?", "code": "pattern = r'(?P<Year>\\\\d{4})-(?P<Month>\\\\d{2})'\\ndf[['Year', 'Month']] = df['date_str'].str.extract(pattern)", "difficulty": "medium", "tags": ["pandas", "regex", "text-extraction", "feature-engineering"]}
{"id": "sns_005", "category": "violinplot", "question": "How to create a split violin plot to compare distributions across a binary category?", "code": "sns.violinplot(data=df, x='day', y='total_bill', hue='sex', split=True, inner='quartile')", "difficulty": "medium", "tags": ["seaborn", "violinplot", "distribution", "comparison"]}
{"id": "mpl_005", "category": "scatter-plot", "question": "How to create a 3D scatter plot using Matplotlib?", "code": "ax = plt.axes(projection='3d')\\nax.scatter3D(x, y, z, c=z, cmap='Greens')", "difficulty": "medium", "tags": ["matplotlib", "3d-plot", "scatter", "projection"]}
{"id": "pd_010", "category": "merging-joining", "question": "How to combine two dataframes by matching on index for one and a column for the other?", "code": "merged = df1.merge(df2, left_index=True, right_on='foreign_key_col', how='left')", "difficulty": "medium", "tags": ["pandas", "merge", "mixed-joins", "keys"]}
{"id": "sp_006", "category": "interpolation", "question": "How to perform 2D interpolation on a regular grid?", "code": "from scipy.interpolate import RegularGridInterpolator\\n\\ninterp = RegularGridInterpolator((x_grid, y_grid), data_values)\\nval = interp([x_query, y_query])", "difficulty": "hard", "tags": ["scipy", "interpolation", "2d", "regular-grid"]}
{"id": "np_007", "category": "numpy-basics", "question": "How to mask elements in an array where values are NaN or Infinite?", "code": "masked_arr = np.ma.masked_invalid(arr)", "difficulty": "medium", "tags": ["numpy", "masking", "nan-handling", "preprocessing"]}
{"id": "pd_011", "category": "datetime-processing", "question": "How to filter rows between two specific times of day (e.g., 9:00 to 17:00) regardless of the date?", "code": "df_business_hours = df.between_time('09:00', '17:00')", "difficulty": "medium", "tags": ["pandas", "timeseries", "indexing", "filtering"]}
{"id": "sns_006", "category": "scatterplot", "question": "How to create a scatterplot with different markers for categories and sizes based on a numerical variable?", "code": "sns.scatterplot(data=df, x='x_val', y='y_val', style='category', size='magnitude', sizes=(20, 200))", "difficulty": "medium", "tags": ["seaborn", "scatterplot", "multivariate", "styling"]}
{"id": "sp_007", "category": "sparse-matrices", "question": "How to create a Compressed Sparse Row (CSR) matrix from coordinate data?", "code": "from scipy.sparse import csr_matrix\\n\\nsparse_mat = csr_matrix((data, (row_indices, col_indices)), shape=(1000, 1000))", "difficulty": "hard", "tags": ["scipy", "sparse-matrix", "memory-efficiency", "linear-algebra"]}
{"id": "pd_012", "category": "pandas-basics", "question": "How to perform method chaining using 'pipe' to apply a custom function that takes arguments?", "code": "def custom_filter(df, thresh): return df[df['val'] > thresh]\\n\\nresult = df.pipe(custom_filter, thresh=10).dropna()", "difficulty": "medium", "tags": ["pandas", "pipe", "method-chaining", "clean-code"]}
{"id": "mpl_006", "category": "histogram", "question": "How to plot a cumulative histogram (step plot) with normalized density?", "code": "plt.hist(data, bins=30, density=True, cumulative=True, histtype='step')", "difficulty": "medium", "tags": ["matplotlib", "histogram", "cumulative", "density"]}
{"id": "np_008", "category": "vectorization", "question": "How to compute the outer product of two vectors to create a matrix?", "code": "outer_prod = np.outer(vec_a, vec_b)", "difficulty": "easy", "tags": ["numpy", "outer-product", "linear-algebra", "operations"]}
{"id": "pd_013", "category": "grouping-aggregation", "question": "How to get the Nth largest value within each group?", "code": "df.groupby('category')['value'].apply(lambda x: x.nlargest(1).iloc[-1] if len(x) >= 1 else None)", "difficulty": "hard", "tags": ["pandas", "groupby", "nlargest", "ranking"]}
{"id": "pd_014", "category": "merging-joining", "question": "How to concatenate two dataframes vertically while ignoring the original index?", "code": "df_combined = pd.concat([df1, df2], axis=0, ignore_index=True)", "difficulty": "easy", "tags": ["pandas", "concatenation", "stacking"]}
{"id": "np_009", "category": "statistics", "question": "How to compute the Pearson correlation coefficient between two numpy arrays?", "code": "corr_matrix = np.corrcoef(x, y)\\npearson_r = corr_matrix[0, 1]", "difficulty": "medium", "tags": ["numpy", "correlation", "statistics"]}
{"id": "mpl_007", "category": "bar-plot", "question": "How to create a stacked bar chart in Matplotlib?", "code": "plt.bar(x, y1, label='Group A')\\nplt.bar(x, y2, bottom=y1, label='Group B')\\nplt.legend()", "difficulty": "medium", "tags": ["matplotlib", "stacked-bar", "visualization"]}
{"id": "sns_007", "category": "heatmap", "question": "How to annotate values in a Seaborn heatmap and format them to 1 decimal place?", "code": "sns.heatmap(data, annot=True, fmt='.1f', cmap='Blues')", "difficulty": "medium", "tags": ["seaborn", "heatmap", "annotation", "formatting"]}
{"id": "sp_008", "category": "optimization", "question": "How to fit a custom curve (function) to data using non-linear least squares?", "code": "from scipy.optimize import curve_fit\\n\\ndef func(x, a, b): return a * np.exp(b * x)\\nparams, cov = curve_fit(func, xdata, ydata)", "difficulty": "hard", "tags": ["scipy", "curve-fitting", "optimization", "regression"]}
{"id": "pd_015", "category": "grouping-aggregation", "question": "How to aggregate data using a dictionary to specify different functions for different columns?", "code": "agg_rules = {'sales': 'sum', 'profit': 'mean', 'date': 'max'}\\ndf_agg = df.groupby('store_id').agg(agg_rules)", "difficulty": "medium", "tags": ["pandas", "groupby", "aggregation", "dictionary-mapping"]}
{"id": "pd_016", "category": "creating-features", "question": "How to bin a continuous variable into quantiles (e.g., quartiles) and label them?", "code": "df['quartile'] = pd.qcut(df['income'], q=4, labels=['Low', 'Medium', 'High', 'Very High'])", "difficulty": "medium", "tags": ["pandas", "discretization", "qcut", "binning"]}
{"id": "np_010", "category": "linear-algebra", "question": "How to solve a system of linear equations Ax = b?", "code": "x = np.linalg.solve(A, b)", "difficulty": "medium", "tags": ["numpy", "linear-algebra", "solver", "equations"]}
{"id": "mpl_008", "category": "scatter-plot", "question": "How to create a scatter plot with a color bar representing a third variable?", "code": "sc = plt.scatter(x, y, c=z, cmap='viridis')\\nplt.colorbar(sc, label='Z-value')", "difficulty": "medium", "tags": ["matplotlib", "colorbar", "multivariate", "visualization"]}
{"id": "pd_017", "category": "datetime-processing", "question": "How to calculate the time difference between consecutive rows for a specific group?", "code": "df['time_diff'] = df.sort_values('time').groupby('user_id')['time'].diff()", "difficulty": "medium", "tags": ["pandas", "diff", "timeseries", "groupby"]}
{"id": "sp_009", "category": "signal-processing", "question": "How to find peaks in a signal with a minimum height and distance?", "code": "from scipy.signal import find_peaks\\n\\npeaks, properties = find_peaks(signal, height=0.5, distance=10)", "difficulty": "medium", "tags": ["scipy", "signal-processing", "peak-finding"]}
{"id": "sns_008", "category": "facetgrid", "question": "How to create a grid of histograms for different categories using FacetGrid?", "code": "g = sns.FacetGrid(df, col='category', col_wrap=3)\\ng.map(sns.histplot, 'value')", "difficulty": "hard", "tags": ["seaborn", "facetgrid", "small-multiples", "histogram"]}
{"id": "pd_018", "category": "pandas-basics", "question": "How to select rows where a column contains any of a list of values?", "code": "subset = df[df['status'].isin(['Active', 'Pending'])]", "difficulty": "easy", "tags": ["pandas", "filtering", "isin", "indexing"]}
{"id": "np_011", "category": "random-generation", "question": "How to shuffle two arrays in unison?", "code": "p = np.random.permutation(len(x))\\nx_shuffled, y_shuffled = x[p], y[p]", "difficulty": "medium", "tags": ["numpy", "shuffling", "preprocessing", "random"]}
{"id": "mpl_009", "category": "subplots", "question": "How to create a complex layout of subplots using GridSpec?", "code": "fig = plt.figure()\\ngs = fig.add_gridspec(2, 2)\\nax1 = fig.add_subplot(gs[0, :]) # Spans both columns\\nax2 = fig.add_subplot(gs[1, 0])", "difficulty": "hard", "tags": ["matplotlib", "gridspec", "layout", "subplots"]}
{"id": "pd_019", "category": "merging-joining", "question": "How to perform a cross join (Cartesian product) of two DataFrames?", "code": "df1['key'] = 1\\ndf2['key'] = 1\\ncross = pd.merge(df1, df2, on='key').drop('key', axis=1)", "difficulty": "medium", "tags": ["pandas", "cross-join", "merge", "cartesian"]}
{"id": "sp_010", "category": "statistics", "question": "How to calculate the Z-score for each value in an array (standardization)?", "code": "from scipy.stats import zscore\\n\\nz_arr = zscore(arr)", "difficulty": "easy", "tags": ["scipy", "statistics", "standardization", "z-score"]}
{"id": "pd_020", "category": "data-cleaning", "question": "How to remove duplicate rows based on a subset of columns, keeping the last occurrence?", "code": "df_dedup = df.drop_duplicates(subset=['id', 'date'], keep='last')", "difficulty": "easy", "tags": ["pandas", "deduplication", "data-cleaning"]}
{"id": "np_012", "category": "broadcasting", "question": "How to normalize a matrix so that each row sums to 1?", "code": "norm_matrix = matrix / matrix.sum(axis=1, keepdims=True)", "difficulty": "medium", "tags": ["numpy", "normalization", "broadcasting", "preprocessing"]}
{"id": "sns_009", "category": "boxplot", "question": "How to create a boxplot with swarmplot points overlayed?", "code": "sns.boxplot(data=df, x='group', y='val', color='white')\\nsns.swarmplot(data=df, x='group', y='val', color='black', alpha=0.5)", "difficulty": "medium", "tags": ["seaborn", "boxplot", "swarmplot", "overlay"]}
{"id": "pd_021", "category": "reshaping", "question": "How to convert a wide dataframe to long format (melt)?", "code": "df_long = pd.melt(df, id_vars=['id'], value_vars=['Q1', 'Q2'], var_name='Quarter', value_name='Sales')", "difficulty": "medium", "tags": ["pandas", "melt", "reshaping", "wide-to-long"]}
{"id": "pd_022", "category": "pandas-basics", "question": "How to optimize memory usage by converting object columns to categories?", "code": "df[col] = df[col].astype('category')", "difficulty": "medium", "tags": ["pandas", "optimization", "dtypes", "memory"]}
{"id": "mpl_010", "category": "styling", "question": "How to rotate x-axis tick labels to prevent overlapping?", "code": "plt.xticks(rotation=45, ha='right')", "difficulty": "easy", "tags": ["matplotlib", "formatting", "ticks", "visualization"]}
{"id": "sp_011", "category": "linear-algebra", "question": "How to compute the singular value decomposition (SVD) of a matrix?", "code": "from scipy.linalg import svd\\n\\nU, s, Vh = svd(matrix)", "difficulty": "medium", "tags": ["scipy", "linear-algebra", "svd", "matrix-decomposition"]}
{"id": "pd_023", "category": "grouping-aggregation", "question": "How to filter groups that satisfy a specific condition (e.g., sum > 100)?", "code": "df_filtered = df.groupby('id').filter(lambda x: x['val'].sum() > 100)", "difficulty": "medium", "tags": ["pandas", "groupby", "filtering", "conditional"]}
{"id": "np_013", "category": "array-ops", "question": "How to find unique rows in a 2D numpy array?", "code": "unique_rows = np.unique(arr, axis=0)", "difficulty": "medium", "tags": ["numpy", "unique", "array-manipulation"]}
{"id": "sns_010", "category": "kdeplot", "question": "How to plot a bivariate Kernel Density Estimate (KDE)?", "code": "sns.kdeplot(data=df, x='x_var', y='y_var', fill=True, levels=10)", "difficulty": "medium", "tags": ["seaborn", "kde", "bivariate", "visualization"]}
{"id": "pd_024", "category": "datetime-processing", "question": "How to convert a string column to datetime specifying a custom format?", "code": "df['date'] = pd.to_datetime(df['date_str'], format='%Y%m%d')", "difficulty": "easy", "tags": ["pandas", "datetime", "parsing", "conversion"]}
{"id": "mpl_011", "category": "annotations", "question": "How to add a horizontal line across the plot at a specific y-value?", "code": "plt.axhline(y=0.5, color='r', linestyle='--')", "difficulty": "easy", "tags": ["matplotlib", "annotation", "reference-line"]}
{"id": "sp_012", "category": "integration", "question": "How to compute the numerical integral (trapezoidal rule) of y given x?", "code": "from scipy.integrate import trapz\\n\\narea = trapz(y, x)", "difficulty": "medium", "tags": ["scipy", "integration", "calculus", "trapezoidal"]}
{"id": "pd_025", "category": "reshaping", "question": "How to pivot a table to create a spreadsheet-style view?", "code": "pivot = df.pivot_table(index='date', columns='category', values='sales', aggfunc='sum')", "difficulty": "medium", "tags": ["pandas", "pivot_table", "reshaping", "summary"]}
{"id": "np_014", "category": "vectorization", "question": "How to use `where` to conditionally replace values in an array?", "code": "arr = np.where(arr < 0, 0, arr)", "difficulty": "easy", "tags": ["numpy", "conditional", "replacement", "where"]}
{"id": "pd_026", "category": "file-loading-savings", "question": "How to read a CSV file while specifying specific columns and data types?", "code": "df = pd.read_csv('data.csv', usecols=['id', 'val'], dtype={'id': 'int32', 'val': 'float32'})", "difficulty": "medium", "tags": ["pandas", "io", "read_csv", "optimization"]}
{"id": "sns_011", "category": "pairplot", "question": "How to color code a pairplot based on a categorical variable (hue)?", "code": "sns.pairplot(df, hue='species', markers=['o', 's', 'D'])", "difficulty": "easy", "tags": ["seaborn", "pairplot", "multivariate", "classification"]}
{"id": "pd_027", "category": "missing-values", "question": "How to drop columns that have more than 50% missing values?", "code": "df_clean = df.dropna(thresh=len(df)*0.5, axis=1)", "difficulty": "medium", "tags": ["pandas", "cleaning", "dropna", "threshold"]}
{"id": "mpl_012", "category": "polar-plot", "question": "How to create a polar plot?", "code": "ax = plt.subplot(111, projection='polar')\\nax.plot(theta, r)", "difficulty": "medium", "tags": ["matplotlib", "polar", "visualization", "radial"]}
{"id": "pd_028", "category": "creating-features", "question": "How to create a lag feature (previous row's value)?", "code": "df['prev_val'] = df.groupby('id')['val'].shift(1)", "difficulty": "medium", "tags": ["pandas", "feature-engineering", "lag", "shift"]}
{"id": "np_015", "category": "statistics", "question": "How to compute the percentile (e.g., 95th) of an array?", "code": "p95 = np.percentile(arr, 95)", "difficulty": "easy", "tags": ["numpy", "statistics", "percentile", "distribution"]}
{"id": "pd_029", "category": "pandas-basics", "question": "How to apply a function to every element in a DataFrame?", "code": "df_transformed = df.applymap(lambda x: len(str(x)))", "difficulty": "medium", "tags": ["pandas", "applymap", "element-wise", "transformation"]}
{"id": "sp_013", "category": "spatial", "question": "How to compute the Convex Hull of a set of 2D points?", "code": "from scipy.spatial import ConvexHull\\n\\nhull = ConvexHull(points)\\n# hull.vertices contains indices of points forming the hull", "difficulty": "hard", "tags": ["scipy", "geometry", "convex-hull", "spatial"]}
{"id": "pd_030", "category": "indexing", "question": "How to set a column as the index and sort it?", "code": "df = df.set_index('date').sort_index()", "difficulty": "easy", "tags": ["pandas", "indexing", "sorting", "structure"]}
{"id": "mpl_013", "category": "styling", "question": "How to use LaTeX rendering for plot labels?", "code": "plt.rcParams['text.usetex'] = True\\nplt.xlabel(r'$\\alpha$ value')\\nplt.ylabel(r'$\\beta$ value')", "difficulty": "medium", "tags": ["matplotlib", "latex", "styling", "typography"]}
{"id": "np_016", "category": "array-ops", "question": "How to stack a sequence of arrays horizontally (column-wise)?", "code": "stacked = np.hstack((a, b))", "difficulty": "easy", "tags": ["numpy", "stacking", "array-manipulation"]}
{"id": "sns_012", "category": "regression", "question": "How to plot a linear regression model fit using Seaborn?", "code": "sns.lmplot(x='total_bill', y='tip', data=df, ci=95)", "difficulty": "medium", "tags": ["seaborn", "regression", "linear-model", "visualization"]}
{"id": "pd_031", "category": "datetime-processing", "question": "How to extract the day of the week (name) from a datetime column?", "code": "df['day_name'] = df['date'].dt.day_name()", "difficulty": "easy", "tags": ["pandas", "datetime", "extraction", "day-name"]}
{"id": "sp_014", "category": "statistics", "question": "How to perform an independent t-test on two related samples?", "code": "from scipy.stats import ttest_rel\\n\\nstat, p = ttest_rel(before_treatment, after_treatment)", "difficulty": "medium", "tags": ["scipy", "statistics", "hypothesis-testing", "t-test"]}
{"id": "pd_032", "category": "text-processing", "question": "How to vectorized string concatenation of two columns with a separator?", "code": "df['full_name'] = df['first'] + ' ' + df['last']", "difficulty": "easy", "tags": ["pandas", "text", "vectorization", "concatenation"]}
{"id": "np_017", "category": "math", "question": "How to compute the discrete Fourier Transform of a 1D sequence?", "code": "sp = np.fft.fft(a)", "difficulty": "medium", "tags": ["numpy", "fft", "signal-processing", "fourier"]}
{"id": "mpl_014", "category": "histogram", "question": "How to plot two histograms on the same axis with transparency?", "code": "plt.hist(x, alpha=0.5, label='x')\\nplt.hist(y, alpha=0.5, label='y')\\nplt.legend()", "difficulty": "easy", "tags": ["matplotlib", "histogram", "comparison", "transparency"]}
{"id": "pd_033", "category": "grouping-aggregation", "question": "How to transform group values to z-scores within the group?", "code": "df['z_score'] = df.groupby('cat')['val'].transform(lambda x: (x - x.mean()) / x.std())", "difficulty": "hard", "tags": ["pandas", "groupby", "transform", "z-score"]}
{"id": "pd_034", "category": "styling", "question": "How to use Pandas Styler to apply a gradient background to a column based on values?", "code": "df.style.background_gradient(subset=['value'], cmap='Blues')", "difficulty": "medium", "tags": ["pandas", "styling", "visualization", "conditional-formatting"]}
{"id": "np_018", "category": "statistics", "question": "How to create a multidimensional histogram (3D)?", "code": "H, edges = np.histogramdd((x, y, z), bins=(10, 10, 10))", "difficulty": "medium", "tags": ["numpy", "histogram", "multidimensional", "statistics"]}
{"id": "mpl_015", "category": "line-plot", "question": "How to create a Log-Log plot?", "code": "plt.loglog(x, y, base=10, linestyle='--')", "difficulty": "medium", "tags": ["matplotlib", "log-scale", "line-plot", "specialized"]}
{"id": "sns_013", "category": "pointplot", "question": "How to visualize central tendency and confidence intervals for categorical data?", "code": "sns.pointplot(data=df, x='category', y='value', capsize=.2, err_style='bars')", "difficulty": "medium", "tags": ["seaborn", "pointplot", "categorical", "confidence-interval"]}
{"id": "sp_015", "category": "statistics", "question": "How to perform a one-way ANOVA test on three independent samples?", "code": "from scipy.stats import f_oneway\\n\\nstat, p = f_oneway(group1, group2, group3)", "difficulty": "medium", "tags": ["scipy", "statistics", "anova", "hypothesis-testing"]}
{"id": "pd_035", "category": "categorical-encoding", "question": "How to use frequency (count) encoding on a categorical column?", "code": "freq_map = df['category'].value_counts()\\ndf['freq_encoded'] = df['category'].map(freq_map)", "difficulty": "medium", "tags": ["pandas", "encoding", "frequency-encoding", "feature-engineering"]}
{"id": "np_019", "category": "signal-processing", "question": "How to compute the 2D Fourier Transform of an image or matrix?", "code": "ft = np.fft.fft2(img)", "difficulty": "hard", "tags": ["numpy", "fft", "image-processing", "signal-processing"]}
{"id": "pd_036", "category": "data-cleaning", "question": "How to replace multiple string values simultaneously using dictionary mapping?", "code": "mapping = {'Old_A': 'New_A', 'Old_B': 'New_B'}\\ndf['column'] = df['column'].replace(mapping)", "difficulty": "easy", "tags": ["pandas", "replace", "mapping", "data-cleaning"]}
{"id": "mpl_016", "category": "annotations", "question": "How to add error bars to a bar plot to show standard deviation?", "code": "plt.bar(categories, means, yerr=std_devs, capsize=5)", "difficulty": "medium", "tags": ["matplotlib", "error-bars", "bar-plot", "statistics"]}
{"id": "sns_014", "category": "boxplot", "question": "How to create a Boxenplot (letter value plot) for robust visualization of large datasets?", "code": "sns.boxenplot(data=df, x='category', y='value', k_depth='full')", "difficulty": "medium", "tags": ["seaborn", "boxenplot", "distribution", "robust"]}
{"id": "sp_016", "category": "optimization", "question": "How to find the root of a scalar function using the bisection method?", "code": "from scipy.optimize import bisect\\n\\ndef f(x): return x**3 - 1\\nroot = bisect(f, 0, 2)", "difficulty": "medium", "tags": ["scipy", "optimization", "root-finding", "bisect"]}
{"id": "np_020", "category": "array-ops", "question": "How to categorize values in an array into specific bins using thresholds?", "code": "bins = [0, 10, 20, 100]\\nindices = np.digitize(arr, bins)", "difficulty": "medium", "tags": ["numpy", "digitize", "binning", "categorization"]}
{"id": "pd_037", "category": "missing-values", "question": "How to fill missing values using the last valid observation forward in time (forward fill)?", "code": "df['column'] = df['column'].ffill()", "difficulty": "easy", "tags": ["pandas", "ffill", "imputation", "time-series"]}
{"id": "mpl_017", "category": "styling", "question": "How to customize the appearance of the plot using parameters (RC params)?", "code": "plt.rcParams.update({'font.size': 12, 'axes.edgecolor': 'gray'})", "difficulty": "medium", "tags": ["matplotlib", "rcparams", "customization", "styling"]}
{"id": "pd_038", "category": "grouping-aggregation", "question": "How to calculate the difference between the group mean and the individual value for each row?", "code": "mean_val = df.groupby('cat')['val'].transform('mean')\\ndf['diff'] = df['val'] - mean_val", "difficulty": "hard", "tags": ["pandas", "groupby", "transform", "deviation"]}
{"id": "sns_015", "category": "jointplot", "question": "How to create a joint plot with a hexbin representation for dense data?", "code": "sns.jointplot(data=df, x='x_var', y='y_var', kind='hex', cmap='inferno')", "difficulty": "medium", "tags": ["seaborn", "jointplot", "hexbin", "density"]}
{"id": "sp_017", "category": "linear-algebra", "question": "How to compute the Cholesky decomposition of a positive definite matrix?", "code": "from scipy.linalg import cholesky\\n\\nL = cholesky(A, lower=True)", "difficulty": "hard", "tags": ["scipy", "linear-algebra", "cholesky", "decomposition"]}
{"id": "np_021", "category": "broadcasting", "question": "How to add a rank-1 array (vector) to the columns of a 2D array (matrix)?", "code": "result = matrix + vector[:, np.newaxis]", "difficulty": "medium", "tags": ["numpy", "broadcasting", "array-ops", "matrix"]}
{"id": "pd_039", "category": "file-loading-savings", "question": "How to read a large CSV file in chunks to process it iteratively?", "code": "for chunk in pd.read_csv('large_file.csv', chunksize=10000):\\n    process(chunk)", "difficulty": "medium", "tags": ["pandas", "io", "chunking", "memory-optimization"]}
{"id": "mpl_018", "category": "subplots", "question": "How to create an inset plot (zoom view) within an existing plot?", "code": "ax_main = plt.axes()\\nax_inset = ax_main.inset_axes([0.6, 0.6, 0.3, 0.3])\\nax_inset.plot(x_zoom, y_zoom)", "difficulty": "hard", "tags": ["matplotlib", "inset-axes", "subplots", "zooming"]}
{"id": "sns_016", "category": "boxplot", "question": "How to customize the median line style in a Seaborn boxplot?", "code": "sns.boxplot(data=df, x='x', y='y', medianprops={'color': 'red', 'linestyle': '--'})", "difficulty": "medium", "tags": ["seaborn", "boxplot", "styling", "median"]}
{"id": "sp_018", "category": "interpolation", "question": "How to perform linear interpolation to estimate values between known data points?", "code": "from scipy.interpolate import interp1d\\n\\nf = interp1d(x, y)\\ny_interp = f(x_new)", "difficulty": "easy", "tags": ["scipy", "interpolation", "interp1d"]}
{"id": "np_022", "category": "array-ops", "question": "How to perform an outer subtraction between two arrays?", "code": "result = a[:, None] - b[None, :]", "difficulty": "hard", "tags": ["numpy", "outer-operation", "broadcasting"]}
{"id": "pd_040", "category": "data-cleaning", "question": "How to fill NaNs in a DataFrame using values from a matching column in another DataFrame?", "code": "df_filled = df1.combine_first(df2)", "difficulty": "medium", "tags": ["pandas", "combine_first", "missing-values", "data-cleaning"]}
{"id": "mpl_019", "category": "styling", "question": "How to create a color gradient based on a log scale for a scatter plot?", "code": "norm = plt.colors.LogNorm(vmin=z.min(), vmax=z.max())\\nplt.scatter(x, y, c=z, norm=norm, cmap='magma')", "difficulty": "hard", "tags": ["matplotlib", "colorbar", "log-scale", "normalization"]}
{"id": "pd_041", "category": "creating-features", "question": "How to calculate the percentage change between the current and a prior element (period=5)?", "code": "df['pct_change'] = df['value'].pct_change(periods=5)", "difficulty": "medium", "tags": ["pandas", "feature-engineering", "pct-change", "time-series"]}
{"id": "sns_017", "category": "line-plot", "question": "How to plot the residuals of a simple linear regression model?", "code": "sns.residplot(data=df, x='predictor', y='target')", "difficulty": "medium", "tags": ["seaborn", "residplot", "regression", "diagnostics"]}
{"id": "sp_019", "category": "integration", "question": "How to compute numerical integration using Simpson's rule?", "code": "from scipy.integrate import simps\\n\\narea = simps(y, x)", "difficulty": "medium", "tags": ["scipy", "integration", "simpson", "calculus"]}
{"id": "np_023", "category": "random-generation", "question": "How to generate an array of non-repeating random integers within a range?", "code": "random_indices = np.random.choice(100, size=10, replace=False)", "difficulty": "easy", "tags": ["numpy", "random", "sampling", "choice"]}
{"id": "pd_042", "category": "pandas-basics", "question": "How to use the vectorized `eval` method for fast expression evaluation?", "code": "df['new_col'] = df.eval('A + B / C')", "difficulty": "medium", "tags": ["pandas", "eval", "vectorization", "performance"]}
{"id": "mpl_020", "category": "annotations", "question": "How to draw a vector field (quiver plot)?", "code": "X, Y = np.meshgrid(x, y)\\nU, V = np.cos(X), np.sin(Y)\\nplt.quiver(X, Y, U, V)", "difficulty": "hard", "tags": ["matplotlib", "quiver", "vector-field", "flow"]}
{"id": "sns_018", "category": "catplot", "question": "How to create a multi-panel grid plot for categorical data visualization using a single function?", "code": "sns.catplot(data=df, x='day', y='tip', kind='bar', col='sex', row='smoker')", "difficulty": "hard", "tags": ["seaborn", "catplot", "facetgrid", "categorical"]}
{"id": "sp_020", "category": "interpolation", "question": "How to perform cubic interpolation and extrapolate beyond the original data range?", "code": "from scipy.interpolate import interp1d\\n\\nf = interp1d(x, y, kind='cubic', fill_value='extrapolate')\\ny_interp = f(x_far)", "difficulty": "hard", "tags": ["scipy", "interpolation", "extrapolation", "cubic"]}
{"id": "pd_043", "category": "data-cleaning", "question": "How to downcast numeric columns to smaller dtypes to reduce memory consumption?", "code": "df = df.apply(lambda x: pd.to_numeric(x, downcast='float') if x.dtype == 'float64' else x)", "difficulty": "hard", "tags": ["pandas", "optimization", "dtypes", "memory"]}
{"id": "np_024", "category": "array-ops", "question": "How to pad an array with a constant value (e.g., zero) around the edges?", "code": "padded = np.pad(arr, pad_width=1, mode='constant', constant_values=0)", "difficulty": "medium", "tags": ["numpy", "padding", "array-manipulation"]}
{"id": "mpl_021", "category": "styling", "question": "How to manually adjust the aspect ratio of the plot?", "code": "ax.set_aspect(aspect='equal', adjustable='box')", "difficulty": "medium", "tags": ["matplotlib", "aspect-ratio", "styling"]}
{"id": "sns_019", "category": "violinplot", "question": "How to create a violin plot showing individual data points overlaid on the distribution?", "code": "sns.violinplot(data=df, x='day', y='tip', inner=None)\\nsns.stripplot(data=df, x='day', y='tip', color='k', size=3)", "difficulty": "medium", "tags": ["seaborn", "violinplot", "stripplot", "overlay"]}
{"id": "pd_044", "category": "datetime-processing", "question": "How to localize a naive timestamp column to a specific timezone (e.g., UTC)?", "code": "df['time'] = df['time'].dt.tz_localize('UTC')", "difficulty": "medium", "tags": ["pandas", "datetime", "timezone", "localization"]}
{"id": "sp_021", "category": "signal-processing", "question": "How to compute the spectrogram of a signal?", "code": "from scipy.signal import spectrogram\\n\\nf, t, Sxx = spectrogram(x, fs=1000)", "difficulty": "hard", "tags": ["scipy", "signal-processing", "spectrogram", "frequency-analysis"]}
{"id": "np_025", "category": "linear-algebra", "question": "How to calculate the eigenvalues and eigenvectors of a square matrix?", "code": "eigenvalues, eigenvectors = np.linalg.eig(A)", "difficulty": "medium", "tags": ["numpy", "linear-algebra", "eigenvectors", "eigendecomposition"]}
{"id": "pd_045", "category": "reshaping", "question": "How to convert column levels in a MultiIndex to row indices (unstack)?", "code": "df_unstacked = df_multiindex.unstack(level='col_name')", "difficulty": "hard", "tags": ["pandas", "multiindex", "unstack", "reshaping"]}
{"id": "mpl_022", "category": "boxplot", "question": "How to hide the box but show the median and whiskers in a box plot?", "code": "bp = plt.boxplot(data, showbox=False, medianprops={'color': 'red'})", "difficulty": "medium", "tags": ["matplotlib", "boxplot", "customization", "whisker"]}
{"id": "sns_020", "category": "line-plot", "question": "How to plot the Empirical Cumulative Distribution Function (ECDF)?", "code": "sns.ecdfplot(data=df, x='value', complementary=True)", "difficulty": "medium", "tags": ["seaborn", "ecdfplot", "distribution", "cumulative"]}
{"id": "pd_046", "category": "data-cleaning", "question": "How to calculate the entropy of a categorical column?", "code": "entropy = -(df['col'].value_counts(normalize=True) * np.log2(df['col'].value_counts(normalize=True))).sum()", "difficulty": "hard", "tags": ["pandas", "entropy", "information-theory", "value-counts"]}
{"id": "np_026", "category": "statistics", "question": "How to compute the covariance matrix of a dataset (2D array)?", "code": "cov_matrix = np.cov(data, rowvar=False)", "difficulty": "medium", "tags": ["numpy", "covariance", "statistics", "matrix"]}
{"id": "sp_022", "category": "statistics", "question": "How to calculate the exact p-value for a Chi-squared test of independence?", "code": "from scipy.stats import chi2_contingency\\n\\nchi2, p, dof, expected = chi2_contingency(contingency_table)", "difficulty": "medium", "tags": ["scipy", "statistics", "chi-squared", "hypothesis-testing"]}
{"id": "pd_047", "category": "grouping-aggregation", "question": "How to perform an advanced grouped ranking using `rank`?", "code": "df['rank_in_group'] = df.groupby('cat')['val'].rank(method='dense', ascending=False)", "difficulty": "medium", "tags": ["pandas", "groupby", "ranking", "dense"]}
{"id": "mpl_023", "category": "bar-plot", "question": "How to create a horizontal bar chart?", "code": "plt.barh(categories, values)", "difficulty": "easy", "tags": ["matplotlib", "bar-plot", "horizontal"]}
{"id": "sns_021", "category": "heatmap", "question": "How to use a diverging colormap and center the heatmap on zero?", "code": "sns.heatmap(data, cmap='coolwarm', center=0)", "difficulty": "medium", "tags": ["seaborn", "heatmap", "diverging", "styling"]}
{"id": "pd_048", "category": "merging-joining", "question": "How to perform an outer merge and efficiently fill NaNs in the resulting DataFrame?", "code": "merged = df1.merge(df2, on='key', how='outer').fillna({'val1': 0, 'val2': -1})", "difficulty": "medium", "tags": ["pandas", "outer-merge", "fillna", "data-cleaning"]}
{"id": "np_027", "category": "linear-algebra", "question": "How to compute the inverse of a square matrix?", "code": "inv_matrix = np.linalg.inv(matrix)", "difficulty": "medium", "tags": ["numpy", "inverse", "linear-algebra"]}
{"id": "mpl_024", "category": "scatter-plot", "question": "How to plot a 2D histogram (density map) of two variables?", "code": "plt.hist2d(x, y, bins=30, cmap='viridis')", "difficulty": "medium", "tags": ["matplotlib", "hist2d", "2d-histogram", "density"]}
{"id": "sns_022", "category": "line-plot", "question": "How to visualize time series data with a confidence band around the mean estimate?", "code": "sns.lineplot(data=df, x='time', y='value', hue='category', errorbar=('ci', 95))", "difficulty": "medium", "tags": ["seaborn", "lineplot", "time-series", "confidence-interval"]}
{"id": "sp_023", "category": "statistics", "question": "How to perform the Kruskal-Wallis H-test (non-parametric ANOVA) on three or more independent samples?", "code": "from scipy.stats import kruskal\\n\\nstat, p = kruskal(group1, group2, group3)", "difficulty": "medium", "tags": ["scipy", "statistics", "non-parametric", "kruskal"]}
{"id": "pd_049", "category": "reshaping", "question": "How to use `stack` to convert column labels to a row MultiIndex?", "code": "stacked_series = df.set_index(['id', 'date']).stack().rename('value')", "difficulty": "hard", "tags": ["pandas", "stack", "multiindex", "reshaping"]}
{"id": "np_028", "category": "array-ops", "question": "How to find the unique elements that are in array A but not in array B (set difference)?", "code": "diff = np.setdiff1d(A, B)", "difficulty": "easy", "tags": ["numpy", "set-operations", "array-ops"]}
{"id": "pd_050", "category": "data-cleaning", "question": "How to perform string searching and filtering using case-insensitive regex flags?", "code": "df_filtered = df[df['text'].str.contains('error', case=False, regex=True)]", "difficulty": "medium", "tags": ["pandas", "string-operations", "regex", "filtering"]}
{"id": "mpl_025", "category": "styling", "question": "How to set the color and position of axis spines (e.g., hiding the top and right spines)?", "code": "ax.spines['top'].set_visible(False)\\nax.spines['right'].set_visible(False)\\nax.spines['left'].set_position(('outward', 10))", "difficulty": "hard", "tags": ["matplotlib", "spines", "styling", "customization"]}
{"id": "sns_023", "category": "histogram", "question": "How to plot stacked histograms for multiple categories and specify the number of bins?", "code": "sns.histplot(data=df, x='value', hue='category', multiple='stack', bins=40)", "difficulty": "medium", "tags": ["seaborn", "histplot", "stacked", "distribution"]}
{"id": "sp_024", "category": "clustering", "question": "How to calculate the linkage matrix for hierarchical clustering?", "code": "from scipy.cluster.hierarchy import linkage\\n\\nZ = linkage(X, method='ward', metric='euclidean')", "difficulty": "hard", "tags": ["scipy", "clustering", "hierarchical", "linkage"]}
{"id": "pd_051", "category": "indexing", "question": "How to slice a MultiIndex DataFrame along a specific level using `xs`?", "code": "df_slice = df_multi.xs('2023', level='year', axis=0)", "difficulty": "medium", "tags": ["pandas", "multiindex", "xs", "slicing"]}
{"id": "np_029", "category": "statistics", "question": "How to calculate the polynomial coefficients that best fit a set of data points?", "code": "coefficients = np.polyfit(x, y, deg=3)\\np_func = np.poly1d(coefficients)", "difficulty": "medium", "tags": ["numpy", "polyfit", "regression", "curve-fitting"]}
{"id": "pd_052", "category": "file-loading-savings", "question": "How to save a DataFrame directly to a SQL database table?", "code": "from sqlalchemy import create_engine\\nengine = create_engine('sqlite:///data.db')\\ndf.to_sql('table_name', con=engine, if_exists='replace', index=False)", "difficulty": "hard", "tags": ["pandas", "io", "to_sql", "database"]}
{"id": "mpl_026", "category": "subplots", "question": "How to add text annotations to a figure in the figure coordinates, not axis coordinates?", "code": "fig.text(0.5, 0.95, 'Global Plot Title', ha='center', va='top')", "difficulty": "medium", "tags": ["matplotlib", "annotations", "figure", "labeling"]}
{"id": "sns_024", "category": "pairplot", "question": "How to create a pairplot using kernel density estimation on both the diagonal and off-diagonal plots?", "code": "sns.pairplot(df, kind='kde', corner=True)", "difficulty": "medium", "tags": ["seaborn", "pairplot", "kde", "distribution"]}
{"id": "sp_025", "category": "optimization", "question": "How to find the minimum of a multivariate function subject to constraints (SLSQP method)?", "code": "from scipy.optimize import minimize\\n\\nconstraints = ({'type': 'ineq', 'fun': lambda x: x[0] - x[1]})\\nres = minimize(fun, x0, method='SLSQP', constraints=constraints)", "difficulty": "hard", "tags": ["scipy", "optimization", "multivariate", "constraints"]}
{"id": "np_030", "category": "array-ops", "question": "How to compute the numerical gradient of a function (approximation of the derivative)?", "code": "gradient = np.gradient(data)", "difficulty": "medium", "tags": ["numpy", "gradient", "derivative", "numerical-method"]}
{"id": "pd_053", "category": "creating-features", "question": "How to use a rolling window to apply a custom aggregation function (e.g., range)?", "code": "df['roll_range'] = df['value'].rolling(window=10).apply(lambda x: x.max() - x.min(), raw=True)", "difficulty": "hard", "tags": ["pandas", "rolling", "custom-function", "feature-engineering"]}
{"id": "mpl_027", "category": "styling", "question": "How to disable the automatic setting of the plot limits?", "code": "ax.autoscale(enable=False)", "difficulty": "medium", "tags": ["matplotlib", "limits", "autoscale", "customization"]}
{"id": "sns_025", "category": "boxplot", "question": "How to use `relplot` to visualize relationships across a grid of subplots?", "code": "sns.relplot(data=df, x='x', y='y', col='col_var', row='row_var', kind='scatter')", "difficulty": "hard", "tags": ["seaborn", "relplot", "facetgrid", "relational"]}
{"id": "pd_054", "category": "pandas-basics", "question": "How to apply a custom function element-wise across a DataFrame and suppress warnings about Series objects?", "code": "df_transformed = df.apply(lambda x: custom_function(x), axis=0, result_type='broadcast')", "difficulty": "hard", "tags": ["pandas", "apply", "custom-function", "performance"]}
{"id": "sp_026", "category": "signal-processing", "question": "How to apply a lowpass filter to an image (2D convolution)?", "code": "from scipy.ndimage import gaussian_filter\\n\\nfiltered_img = gaussian_filter(img, sigma=2)", "difficulty": "hard", "tags": ["scipy", "signal-processing", "image-processing", "filter"]}
{"id": "np_031", "category": "linear-algebra", "question": "How to calculate the pseudo-inverse of a matrix (useful for non-square matrices)?", "code": "pseudo_inv = np.linalg.pinv(A)", "difficulty": "medium", "tags": ["numpy", "pseudo-inverse", "linear-algebra", "moore-penrose"]}
{"id": "mpl_028", "category": "annotations", "question": "How to create a filled contour plot with custom color levels?", "code": "levels = np.linspace(Z.min(), Z.max(), 10)\\nplt.contourf(X, Y, Z, levels=levels, cmap='RdGy')", "difficulty": "medium", "tags": ["matplotlib", "contourf", "2d-plot", "color-mapping"]}
{"id": "pd_055", "category": "missing-values", "question": "How to impute missing values using the Exponentially Weighted Moving Average (EWMA)?", "code": "df['filled'] = df['value'].fillna(df['value'].ewm(span=10).mean())", "difficulty": "hard", "tags": ["pandas", "ewm", "imputation", "time-series"]}
{"id": "sns_026", "category": "scatterplot", "question": "How to plot a scatter plot with hue and size mapping, and custom transparency?", "code": "sns.scatterplot(data=df, x='x', y='y', hue='group', size='weight', alpha=0.7)", "difficulty": "easy", "tags": ["seaborn", "scatterplot", "multivariate", "alpha"]}
{"id": "sp_027", "category": "statistics", "question": "How to calculate the correlation distance (1 - absolute correlation) between all pairs of observations?", "code": "from scipy.spatial.distance import cdist\\n\\ndistances = cdist(X, X, metric='correlation')", "difficulty": "hard", "tags": ["scipy", "distance", "correlation", "clustering"]}
{"id": "pd_056", "category": "categorical-encoding", "question": "How to perform one-hot encoding while dropping one category to avoid multicollinearity?", "code": "df_encoded = pd.get_dummies(df, columns=['category'], drop_first=True)", "difficulty": "medium", "tags": ["pandas", "one-hot-encoding", "get_dummies", "preprocessing"]}
{"id": "np_032", "category": "random-generation", "question": "How to generate random integers following a Poisson distribution?", "code": "poisson_samples = np.random.poisson(lam=5, size=1000)", "difficulty": "medium", "tags": ["numpy", "random", "poisson", "distribution"]}
{"id": "mpl_029", "category": "histogram", "question": "How to normalize a histogram to show density (area sums to 1)?", "code": "plt.hist(data, bins=30, density=True)", "difficulty": "easy", "tags": ["matplotlib", "histogram", "density", "normalization"]}
{"id": "sns_027", "category": "violinplot", "question": "How to overlay a mean marker and confidence interval inside a violin plot?", "code": "sns.violinplot(data=df, x='day', y='tip', inner='box', showmeans=True, meanline=True)", "difficulty": "medium", "tags": ["seaborn", "violinplot", "mean", "inner"]}
{"id": "pd_057", "category": "grouping-aggregation", "question": "How to pivot a table that uses a MultiIndex for both rows and columns?", "code": "pivot = df.pivot_table(index=['Year', 'Region'], columns=['Product', 'Type'], values='Sales', fill_value=0)", "difficulty": "hard", "tags": ["pandas", "pivot_table", "multiindex", "reshaping"]}
{"id": "sp_028", "category": "statistics", "question": "How to check if two distributions are statistically the same using the KS-2 sample test?", "code": "from scipy.stats import ks_2samp\\n\\nstat, p = ks_2samp(dist1, dist2)", "difficulty": "medium", "tags": ["scipy", "statistics", "ks-test", "hypothesis-testing"]}
{"id": "np_033", "category": "array-ops", "question": "How to replace elements in an array based on values from another array using advanced indexing?", "code": "arr[indices] = new_values", "difficulty": "easy", "tags": ["numpy", "indexing", "replacement"]}
{"id": "pd_058", "category": "datetime-processing", "question": "How to calculate the time elapsed from the beginning of the month for each record?", "code": "start_of_month = df['date'].dt.to_period('M').dt.start_time\\ndf['days_in_month'] = (df['date'] - start_of_month).dt.days", "difficulty": "hard", "tags": ["pandas", "datetime", "feature-engineering", "timeseries"]}
{"id": "mpl_030", "category": "line-plot", "question": "How to plot multiple lines using a cyclic colormap automatically?", "code": "cycler = plt.cycler(color=plt.cm.viridis(np.linspace(0, 1, 5)))\\nplt.rc('axes', prop_cycle=cycler)\\nfor i in range(5): plt.plot(x, y_i)", "difficulty": "hard", "tags": ["matplotlib", "styling", "colormap", "cycler"]}
{"id": "sns_028", "category": "jointplot", "question": "How to create a regression plot with residual bands in the center and marginal histograms?", "code": "sns.jointplot(data=df, x='x', y='y', kind='reg', scatter_kws={'alpha': 0.6})", "difficulty": "medium", "tags": ["seaborn", "jointplot", "regression", "visualization"]}
{"id": "sp_029", "category": "signal-processing", "question": "How to apply an optimal Wiener filter to smooth a signal, assuming known noise characteristics?", "code": "from scipy.signal import wiener\\n\\nfiltered_sig = wiener(signal, mysize=10)", "difficulty": "hard", "tags": ["scipy", "signal-processing", "wiener-filter", "smoothing"]}
{"id": "pd_059", "category": "data-cleaning", "question": "How to normalize a column of strings by removing non-alphanumeric characters and converting to lowercase?", "code": "df['clean_text'] = df['text'].str.replace('[^A-Za-z0-9]+', '', regex=True).str.lower()", "difficulty": "medium", "tags": ["pandas", "string-operations", "data-cleaning", "regex"]}
{"id": "np_034", "category": "vectorization", "question": "How to efficiently calculate the Vandermonde matrix (polynomial basis matrix)?", "code": "V = np.vander(x, N=5)", "difficulty": "medium", "tags": ["numpy", "vander", "linear-algebra", "polynomial"]}
{"id": "mpl_031", "category": "styling", "question": "How to draw a circle patch onto the plot to highlight a region?", "code": "circle = plt.Circle((x_center, y_center), radius, color='r', fill=False)\\nax.add_artist(circle)", "difficulty": "medium", "tags": ["matplotlib", "patches", "annotation", "shapes"]}
{"id": "sns_029", "category": "countplot", "question": "How to create a count plot showing the percentage of total for each category, rather than raw counts?", "code": "counts = df['category'].value_counts(normalize=True).mul(100).rename('percent').reset_index()\\nsns.barplot(data=counts, x='category', y='percent')", "difficulty": "hard", "tags": ["seaborn", "countplot", "percentage", "normalization"]}
{"id": "pd_060", "category": "creating-features", "question": "How to calculate the exponential decay (half-life) of a time series feature?", "code": "df['decay'] = df['value'].ewm(halflife='7 days', times=df['date']).mean()", "difficulty": "hard", "tags": ["pandas", "ewm", "halflife", "time-series"]}
{"id": "pd_061", "category": "grouping-aggregation", "question": "How to pivot a table to include margins (totals) for rows and columns?", "code": "pivot = df.pivot_table(index='Region', columns='Product', values='Sales', aggfunc='sum', margins=True, margins_name='Grand Total')", "difficulty": "medium", "tags": ["pandas", "pivot_table", "aggregation", "margins"]}
{"id": "np_035", "category": "statistics", "question": "How to calculate the median absolute deviation (MAD) as a robust measure of variability?", "code": "mad = np.median(np.abs(arr - np.median(arr)))", "difficulty": "medium", "tags": ["numpy", "statistics", "mad", "robust"]}
{"id": "mpl_032", "category": "line-plot", "question": "How to plot a time series with a logarithmic y-axis?", "code": "plt.plot(df['date'], df['value'])\\nplt.yscale('log')", "difficulty": "easy", "tags": ["matplotlib", "log-scale", "time-series", "yscale"]}
{"id": "sns_030", "category": "violinplot", "question": "How to create a violin plot with the width scaled by the number of observations in each category?", "code": "sns.violinplot(data=df, x='category', y='value', scale='count')", "difficulty": "medium", "tags": ["seaborn", "violinplot", "scale", "count"]}
{"id": "sp_030", "category": "statistics", "question": "How to compute the Student's t-distribution probability density function (PDF)?", "code": "from scipy.stats import t\\n\\ndf_val = 10\\npdf_val = t.pdf(x, df=df_val)", "difficulty": "medium", "tags": ["scipy", "statistics", "t-distribution", "pdf"]}
{"id": "pd_062", "category": "creating-features", "question": "How to cap (clip) outliers in a column based on the 1st and 99th percentiles?", "code": "lower = df['value'].quantile(0.01)\\nupper = df['value'].quantile(0.99)\\ndf['value'] = df['value'].clip(lower=lower, upper=upper)", "difficulty": "medium", "tags": ["pandas", "clipping", "outliers", "feature-engineering"]}
{"id": "np_036", "category": "random-generation", "question": "How to generate random integers from a specified range and reshape the result?", "code": "rand_matrix = np.random.randint(low=0, high=100, size=(5, 5))", "difficulty": "easy", "tags": ["numpy", "random", "randint", "generation"]}
{"id": "pd_063", "category": "missing-values", "question": "How to fill NaNs using interpolation based on a cubic spline?", "code": "df['value'] = df['value'].interpolate(method='spline', order=3)", "difficulty": "hard", "tags": ["pandas", "interpolation", "spline", "missing-values"]}
{"id": "mpl_033", "category": "annotations", "question": "How to add a text label to a plot using LaTeX formatting?", "code": "plt.text(x_coord, y_coord, r'$\\mu = 100, \\sigma^2 = 25$')", "difficulty": "medium", "tags": ["matplotlib", "latex", "annotation", "styling"]}
{"id": "sns_031", "category": "heatmap", "question": "How to create a confusion matrix heatmap with count formatting?", "code": "sns.heatmap(confusion_matrix, annot=True, fmt='d', cmap='Reds')", "difficulty": "medium", "tags": ["seaborn", "heatmap", "confusion-matrix", "annotation"]}
{"id": "sp_031", "category": "clustering", "question": "How to visualize hierarchical clustering results using a dendrogram?", "code": "from scipy.cluster.hierarchy import linkage, dendrogram\\n\\nZ = linkage(X, 'ward')\\ndendrogram(Z, truncate_mode='lastp', p=10)", "difficulty": "hard", "tags": ["scipy", "clustering", "dendrogram", "visualization"]}
{"id": "np_037", "category": "array-ops", "question": "How to calculate the power of each element in an array?", "code": "result = np.power(arr, exponent)", "difficulty": "easy", "tags": ["numpy", "power", "element-wise"]}
{"id": "pd_064", "category": "datetime-processing", "question": "How to create a MultiIndex from date and category columns and perform slicing on it?", "code": "df = df.set_index(['date', 'category'])\\ndf_slice = df.loc[(slice('2023-01', '2023-03'), 'A'), :]", "difficulty": "hard", "tags": ["pandas", "multiindex", "slicing", "loc"]}
{"id": "mpl_034", "category": "bar-plot", "question": "How to create grouped (side-by-side) bar plots?", "code": "x = np.arange(len(labels))\\nplt.bar(x - width/2, data1, width, label='A')\\nplt.bar(x + width/2, data2, width, label='B')", "difficulty": "medium", "tags": ["matplotlib", "grouped-bar", "comparison"]}
{"id": "sns_032", "category": "scatterplot", "question": "How to visualize a categorical relationship using a scatter plot that avoids overlap (Stripplot)?", "code": "sns.stripplot(data=df, x='category', y='value', jitter=True, size=4)", "difficulty": "medium", "tags": ["seaborn", "stripplot", "categorical", "jitter"]}
{"id": "sp_032", "category": "statistics", "question": "How to compute the Spearman rank correlation between two variables?", "code": "from scipy.stats import spearmanr\\n\\ncorr, p_value = spearmanr(x, y)", "difficulty": "medium", "tags": ["scipy", "statistics", "spearman", "correlation"]}
{"id": "pd_065", "category": "reshaping", "question": "How to use `pd.crosstab` to create a frequency table from two columns?", "code": "freq_table = pd.crosstab(df['col1'], df['col2'], normalize='index')", "difficulty": "medium", "tags": ["pandas", "crosstab", "frequency", "reshaping"]}
{"id": "np_038", "category": "linear-algebra", "question": "How to compute the rank of a matrix?", "code": "rank = np.linalg.matrix_rank(A)", "difficulty": "medium", "tags": ["numpy", "matrix-rank", "linear-algebra"]}
{"id": "mpl_035", "category": "annotations", "question": "How to add an arrow annotation pointing from one point to another?", "code": "ax.annotate('Focus', xy=(x2, y2), xytext=(x1, y1), arrowprops=dict(facecolor='black', shrink=0.05))", "difficulty": "medium", "tags": ["matplotlib", "annotation", "arrow", "pointing"]}
{"id": "pd_066", "category": "data-cleaning", "question": "How to check if any row in a DataFrame contains any NaN value?", "code": "has_nan = df.isnull().any(axis=1).any()", "difficulty": "medium", "tags": ["pandas", "isnull", "nan-check", "boolean"]}
{"id": "sns_033", "category": "jointplot", "question": "How to plot a 2D histogram with marginal plots using `jointplot`?", "code": "sns.jointplot(data=df, x='x', y='y', kind='hist')", "difficulty": "medium", "tags": ["seaborn", "jointplot", "histogram", "2d"]}
{"id": "sp_033", "category": "optimization", "question": "How to minimize a function using the Nelder-Mead simplex algorithm?", "code": "from scipy.optimize import minimize\\n\\nres = minimize(fun, x0, method='Nelder-Mead')", "difficulty": "medium", "tags": ["scipy", "optimization", "nelder-mead", "simplex"]}
{"id": "np_039", "category": "numpy-basics", "question": "How to efficiently check if all elements in a boolean array are True?", "code": "all_true = arr.all()", "difficulty": "easy", "tags": ["numpy", "boolean", "all", "check"]}
{"id": "pd_067", "category": "creating-features", "question": "How to compute the difference between the current row and the row 5 periods before it?", "code": "df['lag5_diff'] = df['value'].diff(periods=5)", "difficulty": "medium", "tags": ["pandas", "diff", "lag", "time-series"]}
{"id": "mpl_036", "category": "subplots", "question": "How to share the x-axis across all subplots in a figure?", "code": "fig, axes = plt.subplots(1, 3, sharex=True)", "difficulty": "easy", "tags": ["matplotlib", "subplots", "sharex", "layout"]}
{"id": "sns_034", "category": "boxplot", "question": "How to create a multi-level boxplot using hierarchical categories?", "code": "sns.boxplot(data=df, x='GroupA', y='Value', hue='GroupB')", "difficulty": "medium", "tags": ["seaborn", "boxplot", "hierarchical", "comparison"]}
{"id": "sp_034", "category": "linear-algebra", "question": "How to compute the determinant of a square matrix?", "code": "det = np.linalg.det(A)", "difficulty": "easy", "tags": ["numpy", "scipy", "determinant", "linear-algebra"]}
{"id": "pd_068", "category": "pandas-basics", "question": "How to replace infinite values (inf, -inf) with NaNs?", "code": "df.replace([np.inf, -np.inf], np.nan, inplace=True)", "difficulty": "medium", "tags": ["pandas", "data-cleaning", "replace", "inf"]}
{"id": "np_040", "category": "array-ops", "question": "How to compute the Kronecker product of two arrays (outer product generalization)?", "code": "kronecker = np.kron(A, B)", "difficulty": "hard", "tags": ["numpy", "kron", "kronecker", "linear-algebra"]}
{"id": "mpl_037", "category": "styling", "question": "How to use the built-in XKCD comic style for plotting?", "code": "with plt.xkcd():\\n    plt.plot(x, y)", "difficulty": "medium", "tags": ["matplotlib", "xkcd", "styling", "theme"]}
{"id": "sns_035", "category": "kdeplot", "question": "How to plot a 2D KDE plot using customized contour lines (levels)?", "code": "sns.kdeplot(data=df, x='x', y='y', levels=5, linewidths=1.5, color='purple')", "difficulty": "medium", "tags": ["seaborn", "kdeplot", "2d", "contours"]}
{"id": "pd_069", "category": "data-cleaning", "question": "How to split a string column based on a delimiter and expand into new columns?", "code": "df[['col_a', 'col_b']] = df['full_col'].str.split('_', expand=True)", "difficulty": "medium", "tags": ["pandas", "string-operations", "split", "expansion"]}
{"id": "sp_035", "category": "signal-processing", "question": "How to apply a Median filter to a 1D signal to remove salt-and-pepper noise?", "code": "from scipy.signal import medfilt\\n\\nfiltered_sig = medfilt(signal, kernel_size=3)", "difficulty": "medium", "tags": ["scipy", "signal-processing", "median-filter", "noise-reduction"]}
{"id": "np_041", "category": "random-generation", "question": "How to generate samples from a standard normal distribution (mean=0, std=1)?", "code": "samples = np.random.standard_normal(size=1000)", "difficulty": "easy", "tags": ["numpy", "random", "normal-distribution", "standard"]}
{"id": "pd_070", "category": "file-loading-savings", "question": "How to read JSON data where records are stored line-by-line?", "code": "df = pd.read_json('data.jsonl', lines=True)", "difficulty": "medium", "tags": ["pandas", "io", "read_json", "jsonl"]}
{"id": "mpl_038", "category": "subplots", "question": "How to create a figure with two subplots of unequal width (e.g., 2:1 ratio)?", "code": "fig, (ax1, ax2) = plt.subplots(1, 2, gridspec_kw={'width_ratios': [2, 1]})", "difficulty": "hard", "tags": ["matplotlib", "subplots", "gridspec", "layout"]}
{"id": "sns_036", "category": "barplot", "question": "How to create a bar plot that calculates the median of the y-variable per x-category?", "code": "sns.barplot(data=df, x='category', y='value', estimator='median')", "difficulty": "medium", "tags": ["seaborn", "barplot", "median", "estimator"]}
{"id": "sp_036", "category": "linear-algebra", "question": "How to compute the eigenvalues of a large, sparse matrix?", "code": "from scipy.sparse.linalg import eigs\\n\\neigenvalues = eigs(sparse_matrix, k=10)", "difficulty": "hard", "tags": ["scipy", "sparse-matrix", "eigenvalues", "linear-algebra"]}
{"id": "pd_071", "category": "grouping-aggregation", "question": "How to calculate the total sum of sales after grouping by category and month?", "code": "df_sum = df.groupby(['category', df['date'].dt.to_period('M')])['sales'].sum().reset_index()", "difficulty": "medium", "tags": ["pandas", "groupby", "time-aggregation", "to_period"]}
{"id": "np_042", "category": "statistics", "question": "How to compute the generalized inner product (e.g., vector-matrix-vector multiplication)?", "code": "result = x @ A @ y", "difficulty": "medium", "tags": ["numpy", "dot-product", "linear-algebra", "matmul"]}
{"id": "mpl_039", "category": "scatter-plot", "question": "How to create a scatter plot where marker size is proportional to a third variable (bubble chart)?", "code": "plt.scatter(x, y, s=area, alpha=0.5)", "difficulty": "easy", "tags": ["matplotlib", "scatter-plot", "bubble-chart", "size"]}
{"id": "sns_037", "category": "scatterplot", "question": "How to visualize distributions across groups using a boxplot with a scatterplot overlay (Swarmplot)?", "code": "sns.swarmplot(data=df, x='category', y='value', dodge=True, hue='gender')", "difficulty": "medium", "tags": ["seaborn", "swarmplot", "categorical", "distribution"]}
{"id": "pd_072", "category": "pandas-basics", "question": "How to efficiently count the number of distinct (unique) values in a DataFrame column?", "code": "count = df['column'].nunique()", "difficulty": "easy", "tags": ["pandas", "nunique", "counting", "basics"]}
{"id": "sp_037", "category": "interpolation", "question": "How to perform nearest neighbor interpolation to estimate grid data?", "code": "from scipy.interpolate import NearestNDInterpolator\\n\\ninterp = NearestNDInterpolator(points, values)\\nestimated = interp(query_points)", "difficulty": "hard", "tags": ["scipy", "interpolation", "nearest-neighbor", "nd"]}
{"id": "np_043", "category": "array-ops", "question": "How to convert a list of binary arrays into a single decimal integer array?", "code": "binary_matrix = np.array([[1, 0, 1], [0, 1, 1]])\\ndecimal_arr = binary_matrix.dot(1 << np.arange(binary_matrix.shape[-1] - 1, -1, -1))", "difficulty": "hard", "tags": ["numpy", "binary", "conversion", "dot-product"]}
{"id": "mpl_040", "category": "styling", "question": "How to add a shaded region to a plot between two x-coordinates?", "code": "plt.axvspan(xmin=5, xmax=10, color='gray', alpha=0.3)", "difficulty": "easy", "tags": ["matplotlib", "axvspan", "annotation", "shading"]}
{"id": "sns_038", "category": "line-plot", "question": "How to plot multiple lines from different columns in a single Seaborn lineplot?", "code": "df_long = df.melt(id_vars='time', value_vars=['A', 'B', 'C'], var_name='Metric')\\nsns.lineplot(data=df_long, x='time', y='value', hue='Metric')", "difficulty": "hard", "tags": ["seaborn", "lineplot", "melt", "reshaping"]}
{"id": "pd_073", "category": "data-cleaning", "question": "How to convert a column of lists (or arrays) into separate indicator/dummy columns?", "code": "df_dummies = df['list_col'].apply(lambda x: pd.Series([1] * len(x), index=x)).fillna(0)", "difficulty": "hard", "tags": ["pandas", "dummy-variables", "one-hot-encoding", "list-splitting"]}
{"id": "np_044", "category": "linear-algebra", "question": "How to compute the outer product of two vectors, resulting in a matrix?", "code": "outer_product = np.outer(v1, v2)", "difficulty": "easy", "tags": ["numpy", "outer-product", "linear-algebra"]}
{"id": "mpl_041", "category": "annotations", "question": "How to draw a vertical line spanning the entire height of the plot at a specific x-coordinate?", "code": "plt.axvline(x=date_value, color='r', linestyle=':', label='Event')", "difficulty": "easy", "tags": ["matplotlib", "axvline", "annotation", "reference-line"]}
{"id": "sns_039", "category": "line-plot", "question": "How to plot multiple lines from different columns by melting the DataFrame first?", "code": "df_melted = df.melt(id_vars='time', value_vars=['A', 'B'])\\nsns.lineplot(data=df_melted, x='time', y='value', hue='variable')", "difficulty": "medium", "tags": ["seaborn", "melt", "lineplot", "time-series"]}
{"id": "sp_038", "category": "statistics", "question": "How to perform the Mann-Whitney U rank test (non-parametric comparison of two independent samples)?", "code": "from scipy.stats import mannwhitneyu\\n\\nstat, p = mannwhitneyu(sample1, sample2, alternative='two-sided')", "difficulty": "medium", "tags": ["scipy", "statistics", "non-parametric", "hypothesis-testing"]}
{"id": "pd_074", "category": "pandas-basics", "question": "How to create a DataFrame from a dictionary where values are arrays or lists?", "code": "data = {'col1': [1, 2], 'col2': [3, 4]}\\ndf = pd.DataFrame(data)", "difficulty": "easy", "tags": ["pandas", "creation", "basics", "dictionary"]}
{"id": "np_045", "category": "array-ops", "question": "How to tile a 1D array to create a 2D array where the 1D array is repeated row-wise?", "code": "tiled_array = np.tile(arr, (5, 1))", "difficulty": "medium", "tags": ["numpy", "tile", "repetition", "broadcasting"]}
{"id": "pd_075", "category": "reshaping", "question": "How to use `pivot` (not `pivot_table`) to reshape a DataFrame when there are no aggregate functions needed?", "code": "df_pivot = df.pivot(index='date', columns='item', values='price')", "difficulty": "medium", "tags": ["pandas", "pivot", "reshaping", "wide-to-long"]}
{"id": "mpl_042", "category": "image-visualization", "question": "How to display a 2D NumPy array as an image with a custom color map?", "code": "plt.imshow(matrix, cmap='coolwarm', interpolation='nearest')", "difficulty": "medium", "tags": ["matplotlib", "imshow", "image-visualization", "colormap"]}
{"id": "sns_040", "category": "kdeplot", "question": "How to create a 1D KDE plot and shade the area beneath the curve?", "code": "sns.kdeplot(data=df, x='value', fill=True, alpha=0.5)", "difficulty": "easy", "tags": ["seaborn", "kdeplot", "distribution", "fill"]}
{"id": "sp_039", "category": "statistics", "question": "How to compute the probability of a value falling in a certain range using a standard normal CDF?", "code": "from scipy.stats import norm\\n\\nprob = norm.cdf(upper_z) - norm.cdf(lower_z)", "difficulty": "medium", "tags": ["scipy", "statistics", "cdf", "norm"]}
{"id": "np_046", "category": "statistics", "question": "How to compute the 25th, 50th, and 75th percentiles simultaneously?", "code": "quantiles = np.percentile(arr, [25, 50, 75])", "difficulty": "easy", "tags": ["numpy", "percentile", "statistics", "quantiles"]}
{"id": "pd_076", "category": "data-cleaning", "question": "How to strip whitespace from both ends of every string element in a column?", "code": "df['column'] = df['column'].str.strip()", "difficulty": "easy", "tags": ["pandas", "string-operations", "strip", "data-cleaning"]}
{"id": "mpl_043", "category": "line-plot", "question": "How to plot two different datasets on the same figure using two separate Y-axes?", "code": "fig, ax1 = plt.subplots()\\nax2 = ax1.twinx()\\nax1.plot(x, y1, 'g-')\\nax2.plot(x, y2, 'b-')", "difficulty": "hard", "tags": ["matplotlib", "twinx", "secondary-axis", "subplots"]}
{"id": "sns_041", "category": "boxplot", "question": "How to create a horizontal boxplot with a specific order for the categories?", "code": "order = ['C', 'A', 'B']\\nsns.boxplot(data=df, x='value', y='category', order=order)", "difficulty": "medium", "tags": ["seaborn", "boxplot", "order", "horizontal"]}
{"id": "sp_040", "category": "linear-algebra", "question": "How to compute the matrix exponential?", "code": "from scipy.linalg import expm\\n\\nexp_A = expm(A)", "difficulty": "hard", "tags": ["scipy", "linear-algebra", "matrix-exponential"]}
{"id": "pd_077", "category": "grouping-aggregation", "question": "How to compute the size (count) of each group?", "code": "df_counts = df.groupby('category').size().reset_index(name='count')", "difficulty": "easy", "tags": ["pandas", "groupby", "size", "counting"]}
{"id": "np_047", "category": "array-ops", "question": "How to compute the difference between adjacent elements in a 1D array?", "code": "diff_array = np.diff(arr)", "difficulty": "easy", "tags": ["numpy", "diff", "difference", "adjacent"]}
{"id": "mpl_044", "category": "3d-plot", "question": "How to create a 3D surface plot from a 2D array (Z-data) and coordinate arrays (X, Y)?", "code": "ax = plt.axes(projection='3d')\\nax.plot_surface(X, Y, Z, cmap='viridis', edgecolor='none')", "difficulty": "hard", "tags": ["matplotlib", "3d-plot", "surface", "projection"]}
{"id": "sns_042", "category": "line-plot", "question": "How to turn off the confidence interval shading in a Seaborn lineplot?", "code": "sns.lineplot(data=df, x='time', y='value', errorbar=None)", "difficulty": "easy", "tags": ["seaborn", "lineplot", "confidence-interval", "styling"]}
{"id": "sp_041", "category": "optimization", "question": "How to find the parameters of a sine wave that best fit noisy data?", "code": "from scipy.optimize import curve_fit\\n\\ndef sine_func(x, a, b, c, d): return a * np.sin(b * x + c) + d\\nparams, cov = curve_fit(sine_func, x_data, y_data)", "difficulty": "hard", "tags": ["scipy", "curve-fitting", "optimization", "sine-wave"]}
{"id": "pd_078", "category": "indexing", "question": "How to reset the index of a DataFrame, converting the existing index into a column?", "code": "df_reset = df.reset_index(drop=False)", "difficulty": "easy", "tags": ["pandas", "reset_index", "indexing", "basics"]}
{"id": "np_048", "category": "array-ops", "question": "How to generate indices that would sort an array (indirect sorting)?", "code": "sort_indices = np.argsort(arr)", "difficulty": "medium", "tags": ["numpy", "argsort", "sorting", "indexing"]}
{"id": "mpl_045", "category": "styling", "question": "How to add a semi-transparent grid to the plot?", "code": "plt.grid(True, linestyle='--', alpha=0.6)", "difficulty": "easy", "tags": ["matplotlib", "grid", "styling", "transparency"]}
{"id": "sns_043", "category": "displot", "question": "How to use `displot` to generate a generalized distribution plot with a rug plot underneath?", "code": "sns.displot(data=df, x='value', kind='kde', rug=True)", "difficulty": "medium", "tags": ["seaborn", "displot", "kde", "rugplot"]}
{"id": "pd_079", "category": "datetime-processing", "question": "How to sample a time series DataFrame at regular intervals (e.g., end of the month)?", "code": "df_sampled = df.resample('M').mean()", "difficulty": "medium", "tags": ["pandas", "resample", "time-series", "sampling"]}
{"id": "sp_042", "category": "statistics", "question": "How to perform an F-test to compare the variances of two samples (Levene's test)?", "code": "from scipy.stats import levene\\n\\nstat, p = levene(sample1, sample2)", "difficulty": "medium", "tags": ["scipy", "statistics", "levene", "variance"]}
{"id": "np_049", "category": "linear-algebra", "question": "How to calculate the trace (sum of diagonal elements) of a square matrix?", "code": "trace = np.trace(A)", "difficulty": "easy", "tags": ["numpy", "trace", "linear-algebra"]}
{"id": "pd_080", "category": "data-cleaning", "question": "How to check which column has the most missing values?", "code": "most_missing = df.isnull().sum().idxmax()", "difficulty": "medium", "tags": ["pandas", "isnull", "missing-values", "aggregation"]}
{"id": "mpl_046", "category": "subplots", "question": "How to add an overall title to a figure containing multiple subplots (`suptitle`)?", "code": "fig.suptitle('Global Figure Title', fontsize=16)", "difficulty": "easy", "tags": ["matplotlib", "suptitle", "title", "subplots"]}
{"id": "sns_044", "category": "regplot", "question": "How to create a simple linear regression plot without plotting the raw data points?", "code": "sns.regplot(data=df, x='x', y='y', scatter=False)", "difficulty": "easy", "tags": ["seaborn", "regplot", "regression", "scatter"]}
{"id": "sp_043", "category": "signal-processing", "question": "How to use a Butterworth filter (lowpass) on a signal?", "code": "from scipy.signal import butter, filtfilt\\n\\nb, a = butter(N=5, Wn=0.1, btype='low')\\ny_filtered = filtfilt(b, a, signal)", "difficulty": "hard", "tags": ["scipy", "signal-processing", "butterworth", "filter"]}
{"id": "pd_081", "category": "grouping-aggregation", "question": "How to count the number of unique items within each group?", "code": "unique_counts = df.groupby('group_col')['item_col'].nunique()", "difficulty": "medium", "tags": ["pandas", "groupby", "nunique", "counting"]}
{"id": "np_050", "category": "random-generation", "question": "How to generate random samples from a uniform distribution between a and b?", "code": "samples = np.random.uniform(low=5, high=10, size=1000)", "difficulty": "easy", "tags": ["numpy", "random", "uniform-distribution", "sampling"]}
{"id": "mpl_047", "category": "styling", "question": "How to save a plot to a file, specifying a high resolution (DPI)?", "code": "plt.savefig('plot.png', dpi=300, bbox_inches='tight')", "difficulty": "easy", "tags": ["matplotlib", "save", "dpi", "resolution"]}
{"id": "sns_045", "category": "categorical", "question": "How to visualize the count of observations in each category with Seaborn's `countplot`?", "code": "sns.countplot(data=df, y='category', hue='group')", "difficulty": "easy", "tags": ["seaborn", "countplot", "categorical", "counting"]}
{"id": "pd_082", "category": "data-cleaning", "question": "How to fill NaNs in a column based on the value from another column for the same row?", "code": "df['col1'] = df['col1'].fillna(df['col2'])", "difficulty": "easy", "tags": ["pandas", "fillna", "data-cleaning", "column-reference"]}
{"id": "sp_044", "category": "statistics", "question": "How to compute the two-sided p-value for a given z-score using the standard normal distribution?", "code": "from scipy.stats import norm\\n\\np_value = 2 * norm.sf(abs(z_score))", "difficulty": "medium", "tags": ["scipy", "statistics", "z-score", "p-value"]}
{"id": "np_051", "category": "array-ops", "question": "How to replace all values in an array greater than a threshold with that threshold value?", "code": "arr = np.minimum(arr, threshold)", "difficulty": "easy", "tags": ["numpy", "minimum", "clipping", "threshold"]}
{"id": "pd_083", "category": "reshaping", "question": "How to use `stack` to convert a regular DataFrame into a Series with a MultiIndex?", "code": "s_multi = df.stack().rename('value')", "difficulty": "medium", "tags": ["pandas", "stack", "series", "multiindex"]}
{"id": "mpl_048", "category": "line-plot", "question": "How to hide the tick labels on both the x and y axes?", "code": "ax.tick_params(labelbottom=False, labelleft=False)", "difficulty": "easy", "tags": ["matplotlib", "ticks", "styling", "hiding"]}
{"id": "sns_046", "category": "regplot", "question": "How to fit and plot a quadratic regression line using `regplot`?", "code": "sns.regplot(data=df, x='x', y='y', order=2)", "difficulty": "medium", "tags": ["seaborn", "regplot", "quadratic", "regression"]}
{"id": "sp_045", "category": "signal-processing", "question": "How to apply a simple convolution filter (e.g., moving average) to a 1D signal?", "code": "from scipy.ndimage import convolve1d\\n\\nweights = np.ones(5) / 5\\ny_smoothed = convolve1d(signal, weights)", "difficulty": "medium", "tags": ["scipy", "signal-processing", "convolve", "smoothing"]}
{"id": "np_052", "category": "linear-algebra", "question": "How to check if two arrays are element-wise equal within a tolerance?", "code": "is_close = np.allclose(a, b, atol=1e-5)", "difficulty": "medium", "tags": ["numpy", "allclose", "comparison", "tolerance"]}
{"id": "pd_084", "category": "datetime-processing", "question": "How to generate a sequence of evenly spaced dates (e.g., business days)?", "code": "date_range = pd.bdate_range(start='2023-01-01', periods=5, freq='B')", "difficulty": "medium", "tags": ["pandas", "date_range", "timeseries", "business-days"]}
{"id": "pd_085", "category": "creating-features", "question": "How to create a binary feature where '1' means the value is an outlier (beyond 3 standard deviations)?", "code": "std_val = df['value'].std()\\nmean_val = df['value'].mean()\\ndf['is_outlier'] = ((df['value'] - mean_val).abs() > 3 * std_val).astype(int)", "difficulty": "medium", "tags": ["pandas", "outliers", "z-score", "binary-feature"]}
{"id": "np_053", "category": "array-ops", "question": "How to create a diagonal matrix from a 1D array of diagonal elements?", "code": "diag_matrix = np.diag(arr)", "difficulty": "easy", "tags": ["numpy", "diag", "matrix-creation"]}
{"id": "mpl_049", "category": "styling", "question": "How to set the exact position and size of a subplot using normalized figure coordinates (e.g., for custom placement)?", "code": "ax = fig.add_axes([0.1, 0.1, 0.8, 0.8])", "difficulty": "hard", "tags": ["matplotlib", "add_axes", "normalized-coordinates", "layout"]}
{"id": "sns_047", "category": "line-plot", "question": "How to visualize the relationship between two categorical variables using a categorical line plot?", "code": "sns.pointplot(data=df, x='category_a', y='value', hue='category_b', dodge=True)", "difficulty": "medium", "tags": ["seaborn", "pointplot", "categorical", "line-plot"]}
{"id": "sp_046", "category": "optimization", "question": "How to use the Levenberg-Marquardt algorithm for non-linear least squares fitting?", "code": "from scipy.optimize import least_squares\\n\\ndef model(params, x): return params[0] * np.exp(-params[1] * x)\\nres = least_squares(lambda p: model(p, x_data) - y_data, x0)", "difficulty": "hard", "tags": ["scipy", "least-squares", "optimization", "fitting"]}
{"id": "pd_086", "category": "grouping-aggregation", "question": "How to aggregate data using a named aggregation dictionary, allowing multiple outputs per group?", "code": "df.groupby('id').agg(Avg_Val=('Val', 'mean'), Max_Date=('Date', 'max'))", "difficulty": "medium", "tags": ["pandas", "groupby", "named-aggregation", "multiple-metrics"]}
{"id": "np_054", "category": "array-ops", "question": "How to get the indices of the N largest elements in an array?", "code": "n_largest_indices = np.argsort(arr)[-N:]", "difficulty": "medium", "tags": ["numpy", "argsort", "indexing", "selection"]}
{"id": "mpl_050", "category": "line-plot", "question": "How to create a step plot?", "code": "plt.step(x, y, where='pre', linestyle='--')", "difficulty": "medium", "tags": ["matplotlib", "step-plot", "time-series"]}
{"id": "sns_048", "category": "pairplot", "question": "How to customize the diagonal of a `pairplot` to show a KDE plot instead of a histogram?", "code": "sns.pairplot(df, diag_kind='kde')", "difficulty": "easy", "tags": ["seaborn", "pairplot", "kde", "distribution"]}
{"id": "pd_087", "category": "data-cleaning", "question": "How to replace values that occur less than N times with a single category ('Other')?", "code": "counts = df['col'].value_counts()\\nrare_values = counts[counts < N].index\\ndf['col'] = df['col'].replace(rare_values, 'Other')", "difficulty": "hard", "tags": ["pandas", "value-counts", "data-cleaning", "rare-values"]}
{"id": "sp_047", "category": "statistics", "question": "How to compute the two-sample Kolmogorov-Smirnov test (KS-test) for equality of distributions?", "code": "from scipy.stats import ks_2samp\\n\\nstat, p = ks_2samp(data1, data2)", "difficulty": "medium", "tags": ["scipy", "statistics", "ks-test", "distribution"]}
{"id": "np_055", "category": "array-ops", "question": "How to clip array values to be between a minimum and maximum threshold?", "code": "clipped_arr = np.clip(arr, a_min=-10, a_max=10)", "difficulty": "easy", "tags": ["numpy", "clip", "data-cleaning", "threshold"]}
{"id": "pd_088", "category": "reshaping", "question": "How to combine two Series into a single DataFrame of two columns?", "code": "df = pd.concat([s1.rename('col1'), s2.rename('col2')], axis=1)", "difficulty": "easy", "tags": ["pandas", "concat", "series-to-df", "reshaping"]}
{"id": "mpl_051", "category": "3d-plot", "question": "How to create a 3D scatter plot?", "code": "ax = plt.axes(projection='3d')\\nax.scatter(x, y, z, c=z, cmap='viridis')", "difficulty": "medium", "tags": ["matplotlib", "3d-plot", "scatter", "projection"]}
{"id": "sns_049", "category": "boxenplot", "question": "How to create a boxenplot that splits the distributions by the hue variable?", "code": "sns.boxenplot(data=df, x='category', y='value', hue='split_var', dodge=True)", "difficulty": "medium", "tags": ["seaborn", "boxenplot", "split", "distribution"]}
{"id": "sp_048", "category": "signal-processing", "question": "How to compute the cross-correlation of two 1D signals?", "code": "from scipy.signal import correlate\\n\\ncorrelation = correlate(signal1, signal2, mode='full')", "difficulty": "medium", "tags": ["scipy", "signal-processing", "correlate", "cross-correlation"]}
{"id": "np_056", "category": "linear-algebra", "question": "How to compute the dot product of a stack of matrices and a vector (multi-dot product)?", "code": "result = np.tensordot(A, v, axes=([2], [0]))", "difficulty": "hard", "tags": ["numpy", "tensordot", "dot-product", "linear-algebra"]}
{"id": "pd_089", "category": "datetime-processing", "question": "How to calculate the business day difference between two date columns?", "code": "df['bday_diff'] = np.busday_count(df['start_date'].values.astype('datetime64[D]'), df['end_date'].values.astype('datetime64[D]'))", "difficulty": "hard", "tags": ["pandas", "numpy", "busday_count", "datetime"]}
{"id": "mpl_052", "category": "line-plot", "question": "How to customize the marker style for a line plot (e.g., star marker)?", "code": "plt.plot(x, y, marker='*', markersize=10, linestyle='--')", "difficulty": "easy", "tags": ["matplotlib", "markers", "linestyle", "styling"]}
{"id": "sns_050", "category": "categorical", "question": "How to show the full range of distribution for each category using a wide boxplot (width proportional to count)?", "code": "sns.boxplot(data=df, x='category', y='value', width=0.8, notch=True)", "difficulty": "medium", "tags": ["seaborn", "boxplot", "notch", "width"]}
{"id": "sp_049", "category": "interpolation", "question": "How to fit a spline curve to data points and evaluate it smoothly?", "code": "from scipy.interpolate import UnivariateSpline\\n\\nspline = UnivariateSpline(x, y, s=0)\\ny_smooth = spline(x_new)", "difficulty": "hard", "tags": ["scipy", "spline", "interpolation", "smoothing"]}
{"id": "pd_090", "category": "data-cleaning", "question": "How to replace multiple values in a column using nested list replacement?", "code": "df['col'].replace(['old_val_1', 'old_val_2'], 'new_val', inplace=True)", "difficulty": "easy", "tags": ["pandas", "replace", "data-cleaning"]}
{"id": "np_057", "category": "linear-algebra", "question": "How to compute the general matrix power (A^n)?", "code": "matrix_power = np.linalg.matrix_power(A, n=3)", "difficulty": "medium", "tags": ["numpy", "matrix-power", "linear-algebra"]}
{"id": "mpl_053", "category": "image-visualization", "question": "How to display a grayscale image and customize the colormap to 'gray'?", "code": "plt.imshow(img_2d, cmap='gray')", "difficulty": "easy", "tags": ["matplotlib", "imshow", "grayscale", "colormap"]}
{"id": "sns_051", "category": "distribution", "question": "How to visualize a categorical column's distribution using a bar plot that shows the proportion of the total?", "code": "total_count = len(df)\\nax = sns.countplot(data=df, x='category')\\nfor p in ax.patches: ax.annotate(f'{p.get_height()/total_count:.1%}', (p.get_x() + p.get_width() / 2., p.get_height()), ha='center', va='bottom')", "difficulty": "hard", "tags": ["seaborn", "countplot", "proportion", "annotation"]}
{"id": "pd_091", "category": "pandas-basics", "question": "How to select rows where the value of a column is the maximum within the entire DataFrame?", "code": "df_max_row = df[df['value'] == df['value'].max()]", "difficulty": "easy", "tags": ["pandas", "filtering", "max", "selection"]}
{"id": "sp_050", "category": "statistics", "question": "How to perform the Wilcoxon signed-rank test (non-parametric paired test)?", "code": "from scipy.stats import wilcoxon\\n\\nstat, p = wilcoxon(before, after)", "difficulty": "medium", "tags": ["scipy", "statistics", "wilcoxon", "non-parametric"]}
{"id": "np_058", "category": "array-ops", "question": "How to calculate a weighted average of an array?", "code": "weighted_avg = np.average(data, weights=weights)", "difficulty": "easy", "tags": ["numpy", "average", "weighted", "statistics"]}
{"id": "pd_092", "category": "grouping-aggregation", "question": "How to get the N largest values for each group?", "code": "top_n = df.groupby('group_col')['value'].nlargest(n=3).reset_index(level=0, drop=True)", "difficulty": "medium", "tags": ["pandas", "groupby", "nlargest", "selection"]}
{"id": "mpl_054", "category": "styling", "question": "How to customize the font family and weight of the plot title?", "code": "plt.title('Plot Title', fontfamily='serif', fontweight='bold', fontsize=14)", "difficulty": "easy", "tags": ["matplotlib", "title", "font", "styling"]}
{"id": "sns_052", "category": "facetgrid", "question": "How to use `FacetGrid` to map a scatter plot with shared x-axes and independent y-axes across columns?", "code": "g = sns.FacetGrid(df, col='col_var', sharex=True, sharey=False)\\ng.map(sns.scatterplot, 'x', 'y')", "difficulty": "medium", "tags": ["seaborn", "facetgrid", "sharey=False", "scatter"]}
{"id": "sp_051", "category": "statistics", "question": "How to perform a permutation test (Monte Carlo test) to compute a p-value?", "code": "from scipy.stats import permutation_test\\n\\ndef statistic(x, y): return np.mean(x) - np.mean(y)\\nres = permutation_test((sample1, sample2), statistic, n_resamples=1000)", "difficulty": "hard", "tags": ["scipy", "permutation-test", "statistics", "monte-carlo"]}
{"id": "np_059", "category": "array-ops", "question": "How to change the shape of an array without changing its data (reshape to multiple dimensions)?", "code": "reshaped = arr.reshape(5, -1)", "difficulty": "easy", "tags": ["numpy", "reshape", "array-manipulation"]}
{"id": "mpl_055", "category": "pie-chart", "question": "How to create a pie chart with slices exploded and percentage labels formatted?", "code": "explode = [0, 0.1, 0]\\nplt.pie(sizes, explode=explode, labels=labels, autopct='%1.1f%%', startangle=90)", "difficulty": "medium", "tags": ["matplotlib", "pie-chart", "explode", "autopct"]}
{"id": "sns_053", "category": "line-plot", "question": "How to plot a time series as a step function with Seaborn?", "code": "sns.lineplot(data=df, x='time', y='value', drawstyle='steps-pre')", "difficulty": "medium", "tags": ["seaborn", "lineplot", "step-plot", "drawstyle"]}
{"id": "pd_094", "category": "creating-features", "question": "How to compute the difference between the minimum and maximum value within a rolling window?", "code": "df['roll_range'] = df['value'].rolling(window=10).agg(['min', 'max']).diff(axis=1)['max']", "difficulty": "hard", "tags": ["pandas", "rolling", "range", "feature-engineering"]}
{"id": "sp_052", "category": "signal-processing", "question": "How to compute the magnitude (absolute value) spectrum from a 1D FFT result?", "code": "from scipy.fft import fft\\n\\nY = fft(signal)\\nN = len(signal)\\nmagnitude_spectrum = np.abs(Y[:N//2]) * 2 / N", "difficulty": "hard", "tags": ["scipy", "fft", "signal-processing", "spectrum"]}
{"id": "np_060", "category": "array-ops", "question": "How to combine two arrays element-wise, taking the maximum value at each position?", "code": "result = np.maximum(a, b)", "difficulty": "easy", "tags": ["numpy", "maximum", "element-wise"]}
{"id": "pd_095", "category": "indexing", "question": "How to efficiently access a single scalar value at a specific row and column index using integer location?", "code": "scalar_val = df.iat[row_index, col_index]", "difficulty": "easy", "tags": ["pandas", "iat", "scalar-access", "performance"]}
{"id": "mpl_056", "category": "styling", "question": "How to set the axis labels using different colors?", "code": "ax.set_xlabel('X Axis', color='red')\\nax.set_ylabel('Y Axis', color='blue')", "difficulty": "easy", "tags": ["matplotlib", "labels", "color", "styling"]}
{"id": "sns_054", "category": "line-plot", "question": "How to customize the size and placement of the legend in Seaborn?", "code": "sns.lineplot(data=df, x='x', y='y', hue='group')\\nplt.legend(loc='lower right', title='Group', fontsize='small')", "difficulty": "easy", "tags": ["seaborn", "legend", "placement", "styling"]}
{"id": "sp_053", "category": "interpolation", "question": "How to perform multidimensional interpolation (e.g., bilinear) on a structured grid?", "code": "from scipy.interpolate import RegularGridInterpolator\\n\\ninterp = RegularGridInterpolator((x_coords, y_coords), values_grid)\\ninterpolated_val = interp(query_point)", "difficulty": "hard", "tags": ["scipy", "interpolation", "multidimensional", "grid"]}
{"id": "pd_096", "category": "grouping-aggregation", "question": "How to compute the Cumulative Sum (CUMSUM) within each group?", "code": "df['Group_CumSum'] = df.groupby('category')['value'].cumsum()", "difficulty": "medium", "tags": ["pandas", "groupby", "cumsum", "cumulative-sum"]}
{"id": "np_061", "category": "array-ops", "question": "How to convert an array of booleans into an array of integers (0s and 1s)?", "code": "int_array = boolean_array.astype(int)", "difficulty": "easy", "tags": ["numpy", "astype", "boolean", "conversion"]}
{"id": "mpl_057", "category": "line-plot", "question": "How to fill the area between two line plots?", "code": "plt.fill_between(x, y1, y2, where=(y1 > y2), interpolate=True, alpha=0.5)", "difficulty": "medium", "tags": ["matplotlib", "fill_between", "area-plot", "comparison"]}
{"id": "sns_055", "category": "distribution", "question": "How to visualize the relationship between two variables when one is categorical and the other is numeric (Violinplot + Swarmplot overlay)?", "code": "sns.violinplot(data=df, x='cat', y='val', inner=None, color='.8')\\nsns.swarmplot(data=df, x='cat', y='val', size=3, color='k')", "difficulty": "hard", "tags": ["seaborn", "violinplot", "swarmplot", "overlay"]}
{"id": "sp_054", "category": "statistics", "question": "How to compute the confidence interval for the mean of a sample using the t-distribution?", "code": "from scipy.stats import t\\n\\nci = t.interval(confidence=0.95, df=len(data)-1, loc=np.mean(data), scale=np.std(data, ddof=1) / np.sqrt(len(data)))", "difficulty": "hard", "tags": ["scipy", "statistics", "confidence-interval", "t-distribution"]}
{"id": "pd_097", "category": "data-cleaning", "question": "How to check if a Series contains duplicate values, ignoring the first occurrence?", "code": "has_duplicates = df['column'].duplicated(keep='first').any()", "difficulty": "easy", "tags": ["pandas", "duplicated", "data-cleaning", "boolean"]}
{"id": "np_062", "category": "signal-processing", "question": "How to compute the one-dimensional discrete Fourier Transform (DFT)?", "code": "Y = np.fft.fft(signal)", "difficulty": "medium", "tags": ["numpy", "fft", "signal-processing", "dft"]}
{"id": "pd_098", "category": "indexing", "question": "How to use `.loc` to slice based on both row and column labels in a single call?", "code": "df_slice = df.loc[df['A'] > 5, ['B', 'C']]", "difficulty": "easy", "tags": ["pandas", "loc", "indexing", "filtering"]}
{"id": "mpl_058", "category": "annotations", "question": "How to annotate the maximum value in a plot with an arrow pointing to it?", "code": "max_y = y.max()\\nmax_x = x[y.argmax()]\\nax.annotate(f'Max: {max_y:.2f}', xy=(max_x, max_y), xytext=(max_x + 2, max_y - 1), arrowprops=dict(facecolor='black', shrink=0.05))", "difficulty": "medium", "tags": ["matplotlib", "annotation", "argmax", "max-value"]}
{"id": "sns_056", "category": "barplot", "question": "How to show individual observation values overlaid on a bar plot to check underlying data spread?", "code": "sns.barplot(data=df, x='cat', y='val', errorbar=None, color='.7')\\nsns.swarmplot(data=df, x='cat', y='val', size=3, color='k')", "difficulty": "hard", "tags": ["seaborn", "barplot", "swarmplot", "overlay"]}
{"id": "sp_055", "category": "statistics", "question": "How to calculate the power of a statistical test given effect size, alpha, and sample size?", "code": "from statsmodels.stats.power import TTestIndPower\\n\\nanalysis = TTestIndPower()\\npower = analysis.solve_power(effect_size=0.5, nobs1=20, alpha=0.05, alternative='two-sided')", "difficulty": "hard", "tags": ["scipy", "statsmodels", "power-analysis", "hypothesis-testing"]}
{"id": "np_063", "category": "array-ops", "question": "How to efficiently count the number of non-zero elements in a NumPy array?", "code": "count = np.count_nonzero(arr)", "difficulty": "easy", "tags": ["numpy", "count", "non-zero", "basics"]}
{"id": "pd_099", "category": "datetime-processing", "question": "How to calculate the duration (time delta) between two datetime columns?", "code": "df['duration'] = df['end_time'] - df['start_time']", "difficulty": "easy", "tags": ["pandas", "datetime", "timedelta", "duration"]}
{"id": "mpl_059", "category": "styling", "question": "How to remove the default padding around the data (setting tight limits)?", "code": "ax.margins(x=0, y=0)", "difficulty": "easy", "tags": ["matplotlib", "margins", "limits", "padding"]}
{"id": "sns_057", "category": "heatmap", "question": "How to create a clustered heatmap (dendrogram-enabled heatmap) for visualizing correlations?", "code": "sns.clustermap(df.corr(), annot=True, cmap='vlag', fmt='.2f', figsize=(7, 7))", "difficulty": "hard", "tags": ["seaborn", "clustermap", "heatmap", "correlation"]}
{"id": "sp_056", "category": "linear-algebra", "question": "How to solve a system of linear equations $Ax=b$ where A is a square matrix?", "code": "x = np.linalg.solve(A, b)", "difficulty": "medium", "tags": ["numpy", "scipy", "linear-algebra", "solve"]}
{"id": "pd_100", "category": "file-loading-savings", "question": "How to read data from an Excel file, specifying multiple sheets by name or index?", "code": "data = pd.read_excel('data.xlsx', sheet_name=['Sheet1', 'Sheet2'])", "difficulty": "medium", "tags": ["pandas", "io", "read_excel", "multiple-sheets"]}
{"id": "np_064", "category": "array-ops", "question": "How to swap the axes of a 2D array (transpose)?", "code": "transposed = arr.T", "difficulty": "easy", "tags": ["numpy", "transpose", "matrix-manipulation"]}
{"id": "mpl_060", "category": "styling", "question": "How to add a colorbar to an `imshow` plot and label it?", "code": "im = plt.imshow(matrix)\\ncbar = plt.colorbar(im)\\ncbar.set_label('Value Density')", "difficulty": "medium", "tags": ["matplotlib", "colorbar", "imshow", "labeling"]}
{"id": "sns_058", "category": "pointplot", "question": "How to use a point plot to visualize the mean (or median) of a time series over fixed periods?", "code": "sns.pointplot(data=df, x=df['date'].dt.month, y='value', errorbar=('sd', 1))", "difficulty": "medium", "tags": ["seaborn", "pointplot", "time-series", "mean"]}
{"id": "sp_057", "category": "interpolation", "question": "How to perform cubic spline interpolation on a grid of 2D data?", "code": "from scipy.interpolate import RectBivariateSpline\\n\\ninterp = RectBivariateSpline(x_coords, y_coords, Z_data)\\nZ_new = interp(x_new, y_new)", "difficulty": "hard", "tags": ["scipy", "interpolation", "spline", "2d"]}
{"id": "pd_101", "category": "data-cleaning", "question": "How to remove rows that contain any value equal to zero?", "code": "df_filtered = df[(df != 0).all(axis=1)]", "difficulty": "medium", "tags": ["pandas", "filtering", "zero-removal", "data-cleaning"]}
{"id": "np_065", "category": "statistics", "question": "How to compute the geometric mean of an array?", "code": "from scipy.stats import gmean\\n\\nresult = gmean(arr)", "difficulty": "medium", "tags": ["numpy", "scipy", "geometric-mean", "statistics"]}
{"id": "mpl_061", "category": "styling", "question": "How to remove the axis ticks completely (keeping the labels)?", "code": "ax.tick_params(axis='both', length=0)", "difficulty": "medium", "tags": ["matplotlib", "ticks", "styling", "axis"]}
{"id": "sns_059", "category": "regplot", "question": "How to fit a robust linear regression model (RLM) with Seaborn?", "code": "sns.regplot(data=df, x='x', y='y', ci=None, robust=True)", "difficulty": "medium", "tags": ["seaborn", "regplot", "robust-regression", "outliers"]}
{"id": "pd_102", "category": "grouping-aggregation", "question": "How to count the number of rows based on a condition within each group?", "code": "df.groupby('group_col')['condition_col'].apply(lambda x: (x > 10).sum())", "difficulty": "hard", "tags": ["pandas", "groupby", "conditional-count", "apply"]}
{"id": "sp_058", "category": "optimization", "question": "How to compute the minimum and maximum value of a function over a given interval?", "code": "from scipy.optimize import fminbound\\n\\nxmin = fminbound(func, x1, x2)\\n# To find max, minimize the negative of the function", "difficulty": "hard", "tags": ["scipy", "optimization", "fminbound", "minimum"]}
{"id": "np_066", "category": "array-ops", "question": "How to concatenate arrays along the depth dimension (stack arrays along the third axis)?", "code": "stacked_array = np.dstack((a, b, c))", "difficulty": "medium", "tags": ["numpy", "dstack", "concatenation", "3d"]}
{"id": "pd_103", "category": "reshaping", "question": "How to normalize numerical columns to a specific range (Min-Max Scaling)?", "code": "df['norm'] = (df['value'] - df['value'].min()) / (df['value'].max() - df['value'].min())", "difficulty": "medium", "tags": ["pandas", "normalization", "min-max-scaling", "feature-engineering"]}
{"id": "mpl_062", "category": "histogram", "question": "How to plot a stacked histogram for multiple datasets?", "code": "plt.hist(data_list, bins=20, stacked=True)", "difficulty": "medium", "tags": ["matplotlib", "histogram", "stacked", "multiple-datasets"]}
{"id": "sns_060", "category": "categorical", "question": "How to visualize the distribution of a numeric variable using only the probability density (KDE) across categories?", "code": "sns.kdeplot(data=df, x='value', hue='category', multiple='stack', fill=True)", "difficulty": "medium", "tags": ["seaborn", "kdeplot", "categorical", "stacked"]}
{"id": "sp_059", "category": "signal-processing", "question": "How to use a Hann window function on a signal before applying FFT?", "code": "from scipy.signal import windows\\n\\nwindow = windows.hann(len(signal))\\nwindowed_signal = signal * window", "difficulty": "medium", "tags": ["scipy", "signal-processing", "window-function", "hann"]}
{"id": "np_067", "category": "array-ops", "question": "How to get the index of the first occurrence of the maximum value in an array?", "code": "index = np.argmax(arr)", "difficulty": "easy", "tags": ["numpy", "argmax", "indexing", "maximum"]}
{"id": "pd_104", "category": "reshaping", "question": "How to convert column headers to uppercase or lowercase?", "code": "df.columns = df.columns.str.lower()", "difficulty": "easy", "tags": ["pandas", "column-names", "string-operations", "data-cleaning"]}
{"id": "mpl_063", "category": "subplots", "question": "How to remove the space between subplots horizontally and vertically?", "code": "plt.subplots_adjust(wspace=0, hspace=0)", "difficulty": "medium", "tags": ["matplotlib", "subplots", "layout", "spacing"]}
{"id": "sns_061", "category": "FacetGrid", "question": "How to set individual titles for subplots within a FacetGrid?", "code": "g.set_titles(col_template='{col_name} Group')", "difficulty": "medium", "tags": ["seaborn", "facetgrid", "titles", "customization"]}
{"id": "pd_105", "category": "datetime-processing", "question": "How to extract the year and week number from a datetime column?", "code": "df['year_week'] = df['date'].dt.strftime('%Y-%W')", "difficulty": "medium", "tags": ["pandas", "datetime", "strftime", "feature-engineering"]}
{"id": "sp_060", "category": "linear-algebra", "question": "How to calculate the Singular Value Decomposition (SVD) of a matrix?", "code": "from scipy.linalg import svd\\n\\nU, s, VT = svd(A)", "difficulty": "hard", "tags": ["scipy", "svd", "linear-algebra", "decomposition"]}
{"id": "np_068", "category": "linear-algebra", "question": "How to perform element-wise multiplication of two arrays (Hadamard product)?", "code": "result = a * b", "difficulty": "easy", "tags": ["numpy", "multiplication", "hadamard-product"]}
{"id": "pd_106", "category": "data-cleaning", "question": "How to remove leading and trailing zeros from an object column containing numeric strings?", "code": "df['str_col'] = df['str_col'].str.strip('0').str.strip('.')", "difficulty": "hard", "tags": ["pandas", "string-operations", "strip", "data-cleaning"]}
{"id": "mpl_064", "category": "scatter-plot", "question": "How to create a scatter plot with logarithmic axes for both X and Y?", "code": "plt.scatter(x, y)\\nplt.xscale('log')\\nplt.yscale('log')", "difficulty": "medium", "tags": ["matplotlib", "log-scale", "scatter-plot"]}
{"id": "sns_062", "category": "boxplot", "question": "How to create nested boxplots showing the interaction of two categorical variables?", "code": "sns.boxplot(data=df, x='major_cat', y='value', hue='minor_cat', dodge=True)", "difficulty": "medium", "tags": ["seaborn", "boxplot", "nested", "interaction"]}
{"id": "sp_061", "category": "signal-processing", "question": "How to compute the power spectral density (PSD) using Welch's method?", "code": "from scipy.signal import welch\\n\\nf, Pxx_den = welch(signal, fs=1000, nperseg=256)", "difficulty": "hard", "tags": ["scipy", "welch", "psd", "signal-processing"]}
{"id": "np_069", "category": "array-ops", "question": "How to repeat each element of an array multiple times?", "code": "repeated = np.repeat(arr, repeats=3)", "difficulty": "easy", "tags": ["numpy", "repeat", "array-manipulation"]}
{"id": "pd_107", "category": "grouping-aggregation", "question": "How to calculate the mode (most frequent value) within each group?", "code": "df.groupby('category')['value'].agg(lambda x: x.mode()[0])", "difficulty": "hard", "tags": ["pandas", "groupby", "mode", "aggregation"]}
{"id": "mpl_065", "category": "styling", "question": "How to customize the position of the axis labels (e.g., placing the Y label at the top)?", "code": "ax.set_ylabel('Y Axis', loc='top', rotation='horizontal', labelpad=-50)", "difficulty": "hard", "tags": ["matplotlib", "labels", "positioning", "styling"]}
{"id": "sns_063", "category": "line-plot", "question": "How to plot multiple time series with a custom palette and markers?", "code": "sns.lineplot(data=df, x='time', y='value', hue='group', style='group', markers=True, dashes=False, palette='Set2')", "difficulty": "medium", "tags": ["seaborn", "lineplot", "palette", "markers"]}
{"id": "pd_108", "category": "grouping-aggregation", "question": "How to compute the percentage share of each item within its respective group using `transform`?", "code": "data = {'group': ['A', 'A', 'B', 'B', 'B'], 'value': [10, 20, 5, 10, 15]}\ndf = pd.DataFrame(data)\n\n# Main operation:\ndf['share'] = df['value'] / df.groupby('group')['value'].transform('sum')", "difficulty": "hard", "tags": ["pandas", "transform", "percentage", "groupby"]}
{"id": "mpl_066", "category": "bar-plot", "question": "How to plot a bar chart with custom error bars (e.g., standard deviation) from aggregated data?", "code": "means = [20, 35, 30, 35, 27]\nsd = [2, 3, 4, 1, 2]\nx = np.arange(len(means))\n\n# Main operation:\nplt.bar(x, means, yerr=sd, capsize=4, color='skyblue')", "difficulty": "medium", "tags": ["matplotlib", "bar-plot", "error-bars", "statistics"]}
{"id": "sns_064", "category": "jointplot", "question": "How to create a 2D histogram with marginal distributions using `jointplot` with a hexbin style?", "code": "df = pd.DataFrame({'x': np.random.randn(500), 'y': 2 * np.random.randn(500) + 1})\n\n# Main operation:\nsns.jointplot(data=df, x='x', y='y', kind='hex', cmap='viridis')", "difficulty": "medium", "tags": ["seaborn", "jointplot", "hexbin", "2d-histogram"]}
{"id": "pd_109", "category": "data-cleaning", "question": "How to convert a mixed type column (integers and strings) to numeric, replacing unconvertible values with NaN?", "code": "data = {'col': [100, '50%', 200, 'N/A', 300]}\ndf = pd.DataFrame(data)\n\n# Main operation:\ndf['col_numeric'] = pd.to_numeric(df['col'], errors='coerce')", "difficulty": "medium", "tags": ["pandas", "to_numeric", "data-cleaning", "coerce"]}
{"id": "np_071", "category": "array-ops", "question": "How to generate a sequence of logarithmically spaced numbers?", "code": "start, stop, count = 1, 1000, 10\n\n# Main operation:\nlog_spaced = np.logspace(np.log10(start), np.log10(stop), num=count)", "difficulty": "medium", "tags": ["numpy", "logspace", "sequence", "generation"]}
{"id": "mpl_067", "category": "pie-chart", "question": "How to create a donut chart (or ring plot) by using a white circle patch to cut out the center of a pie chart?", "code": "sizes = [15, 30, 45, 10]\nlabels = ['A', 'B', 'C', 'D']\n\n# Main operation:\nfig, ax = plt.subplots()\nax.pie(sizes, labels=labels, autopct='%1.1f%%', startangle=90)\ncentre_circle = plt.Circle((0,0), 0.70, fc='white')\nfig.gca().add_artist(centre_circle)", "difficulty": "hard", "tags": ["matplotlib", "pie-chart", "donut-chart", "patch"]}
{"id": "sns_065", "category": "regplot", "question": "How to add jitter (random noise) to the X-axis points in a regression plot to better visualize data density?", "code": "df = sns.load_dataset('tips')\n\n# Main operation:\nsns.regplot(data=df, x='size', y='tip', x_jitter=0.2, ci=None)", "difficulty": "medium", "tags": ["seaborn", "regplot", "jitter", "data-density"]}
{"id": "pd_110", "category": "reshaping", "question": "How to use `unstack` to pivot the innermost level of a MultiIndex to become new column headers?", "code": "multi_index = pd.MultiIndex.from_product([['A', 'B'], [1, 2]])\ns = pd.Series([10, 20, 30, 40], index=multi_index, name='Value')\n\n# Main operation:\ndf_unstacked = s.unstack(level=1)", "difficulty": "medium", "tags": ["pandas", "unstack", "multiindex", "reshaping"]}
{"id": "np_072", "category": "array-ops", "question": "How to perform an outer addition (element-wise addition of a 1D array to all rows/columns of a 2D array)?", "code": "A = np.array([[1, 2], [3, 4]])\nv = np.array([10, 20])\n\n# Main operation:\nresult = A + v[:, np.newaxis] # Add v to columns (broadcasting)", "difficulty": "medium", "tags": ["numpy", "broadcasting", "outer-operation", "addition"]}
{"id": "mpl_068", "category": "polar-plot", "question": "How to create a basic polar plot (circular plot)?", "code": "theta = np.linspace(0, 2 * np.pi, 100)\nradius = 5 * np.sin(2 * theta)\n\n# Main operation:\nax = plt.subplot(111, projection='polar')\nax.plot(theta, radius)", "difficulty": "medium", "tags": ["matplotlib", "polar-plot", "projection", "circular"]}
{"id": "sns_066", "category": "FacetGrid", "question": "How to normalize the scale of a density plot (`kdeplot`) to the whole dataset across a `FacetGrid`?", "code": "df = sns.load_dataset('iris')\ng = sns.FacetGrid(df, col='species')\n\n# Main operation:\ng.map(sns.kdeplot, 'sepal_length', fill=True, common_norm=False)", "difficulty": "hard", "tags": ["seaborn", "facetgrid", "kdeplot", "normalization"]}
{"id": "sp_064", "category": "statistics", "question": "How to calculate the power for a two-sample T-test using effect size and sample sizes?", "code": "from statsmodels.stats.power import TTestIndPower\n\nanalysis = TTestIndPower()\n# Cohen's d = 0.5, alpha = 0.05, n1 = 20\n\n# Main operation:\npower = analysis.solve_power(effect_size=0.5, nobs1=20, alpha=0.05, ratio=1.0)", "difficulty": "hard", "tags": ["scipy", "statsmodels", "power-analysis", "t-test"]}
{"id": "pd_111", "category": "string-operations", "question": "How to extract a specific group matched by a regular expression from a string column?", "code": "data = {'text': ['ID_123_DATA', 'ID_456_INFO', 'OTHER_789']}\ndf = pd.DataFrame(data)\n\n# Main operation:\ndf['id'] = df['text'].str.extract(r'ID_(\\d+)_')", "difficulty": "medium", "tags": ["pandas", "extract", "regex", "string-operations"]}
{"id": "np_073", "category": "array-ops", "question": "How to perform matrix multiplication using the `@` operator?", "code": "A = np.array([[1, 2], [3, 4]])\nB = np.array([[5, 6], [7, 8]])\n\n# Main operation:\nresult = A @ B", "difficulty": "easy", "tags": ["numpy", "matmul", "matrix-multiplication", "linear-algebra"]}
{"id": "mpl_069", "category": "image-visualization", "question": "How to display a 2D array as an image with specific extent (spatial coordinates) and aspect ratio?", "code": "Z = np.random.rand(10, 20)\n\n# Main operation:\nplt.imshow(Z, extent=[0, 10, 0, 5], aspect='auto')", "difficulty": "medium", "tags": ["matplotlib", "imshow", "extent", "aspect-ratio"]}
{"id": "sns_067", "category": "boxenplot", "question": "How to create a boxenplot (letter-value plot) showing multiple quantiles of the distribution?", "code": "df = sns.load_dataset('tips')\n\n# Main operation:\nsns.boxenplot(data=df, x='day', y='total_bill', hue='time')", "difficulty": "medium", "tags": ["seaborn", "boxenplot", "distribution", "quantiles"]}
{"id": "sp_065", "category": "signal-processing", "question": "How to design a Chebyshev Type I filter (bandpass) for signal filtering?", "code": "from scipy.signal import cheby1, filtfilt\n\n# 4th order, 5 dB ripple, normalized cutoff frequencies [0.1, 0.4]\nb, a = cheby1(N=4, rp=5, Wn=[0.1, 0.4], btype='bandpass')\nsignal = np.random.randn(100)\n\n# Main operation:\ny_filtered = filtfilt(b, a, signal)", "difficulty": "hard", "tags": ["scipy", "cheby1", "filter-design", "signal-processing"]}
{"id": "pd_112", "category": "datetime-processing", "question": "How to create a DatetimeIndex and resample it to the last business day of the month?", "code": "dates = pd.to_datetime(pd.date_range('2023-01-01', periods=100, freq='D'))\nts = pd.Series(np.random.rand(100), index=dates)\n\n# Main operation:\nts_resampled = ts.resample('BM').mean()", "difficulty": "medium", "tags": ["pandas", "resample", "datetimeindex", "business-month-end"]}
{"id": "np_074", "category": "array-ops", "question": "How to flatten a multi-dimensional array into a 1D array?", "code": "arr_2d = np.array([[1, 2], [3, 4]])\n\n# Main operation:\nflat_arr = arr_2d.flatten()", "difficulty": "easy", "tags": ["numpy", "flatten", "array-manipulation"]}
{"id": "mpl_070", "category": "line-plot", "question": "How to plot a line with specific transparency (alpha) and linewidth?", "code": "x = np.linspace(0, 10, 50)\ny = np.sin(x)\n\n# Main operation:\nplt.plot(x, y, color='red', alpha=0.6, linewidth=3)", "difficulty": "easy", "tags": ["matplotlib", "line-plot", "alpha", "styling"]}
{"id": "sns_068", "category": "kdeplot", "question": "How to plot a 2D KDE with a specific bandwidth method (e.g., silverman)?", "code": "df = pd.DataFrame({'x': np.random.randn(200), 'y': 2 * np.random.randn(200)})\n\n# Main operation:\nsns.kdeplot(data=df, x='x', y='y', fill=True, bw_method='silverman')", "difficulty": "hard", "tags": ["seaborn", "kdeplot", "bandwidth", "silverman"]}
{"id": "sp_066", "category": "interpolation", "question": "How to perform 2D interpolation on unstructured data (scattered data points)?", "code": "from scipy.interpolate import LinearNDInterpolator\n\npoints = np.random.rand(100, 2) * 10\nvalues = np.sin(points[:, 0]) + np.cos(points[:, 1])\n\n# Main operation:\ninterp = LinearNDInterpolator(points, values)\nquery_point = np.array([[5, 5]])\nresult = interp(query_point)", "difficulty": "hard", "tags": ["scipy", "interpolation", "linearndinterpolator", "unstructured-data"]}
{"id": "pd_113", "category": "reshaping", "question": "How to convert a DataFrame to a dictionary where column headers are keys and row values are list values?", "code": "data = {'col1': [1, 2], 'col2': [3, 4]}\ndf = pd.DataFrame(data)\n\n# Main operation:\ndata_dict = df.to_dict('list')", "difficulty": "easy", "tags": ["pandas", "to_dict", "conversion", "list"]}
{"id": "np_075", "category": "array-ops", "question": "How to efficiently check if any element in a boolean array is True?", "code": "bool_arr = np.array([False, False, True, False])\n\n# Main operation:\nany_true = bool_arr.any()", "difficulty": "easy", "tags": ["numpy", "any", "boolean", "check"]}
{"id": "mpl_071", "category": "styling", "question": "How to apply a specific Matplotlib style (e.g., 'ggplot') temporarily?", "code": "x = np.linspace(0, 10, 10)\ny = x**2\n\n# Main operation:\nwith plt.style.context('ggplot'):\n    plt.plot(x, y)", "difficulty": "medium", "tags": ["matplotlib", "styling", "style-context", "ggplot"]}
{"id": "sp_067", "category": "statistics", "question": "How to perform the Anderson-Darling test for checking if a sample comes from a standard normal distribution?", "code": "from scipy.stats import anderson\n\n# Data should be approximately normal\ndata = np.random.normal(loc=10, scale=2, size=50)\n\n# Main operation:\nresult = anderson(data, dist='norm')", "difficulty": "medium", "tags": ["scipy", "statistics", "anderson-test", "normality"]}
{"id": "pd_114", "category": "merging-joining", "question": "How to perform a cross join (Cartesian product) between two DataFrames?", "code": "df1 = pd.DataFrame({'A': [1, 2]})\ndf2 = pd.DataFrame({'B': ['x', 'y']})\n\n# Main operation:\ndf_cross = df1.merge(df2, how='cross')", "difficulty": "medium", "tags": ["pandas", "merge", "cross-join", "cartesian-product"]}
{"id": "np_076", "category": "linear-algebra", "question": "How to compute the condition number of a matrix?", "code": "A = np.array([[1, 2], [3, 4.001]])\n\n# Main operation:\ncondition_number = np.linalg.cond(A)", "difficulty": "medium", "tags": ["numpy", "condition-number", "linear-algebra"]}
{"id": "mpl_072", "category": "subplots", "question": "How to add a label to the entire column of subplots in a figure array?", "code": "fig, axes = plt.subplots(2, 2)\n\n# Main operation:\nfig.text(0.04, 0.5, 'Common Y Label', va='center', rotation='vertical')", "difficulty": "hard", "tags": ["matplotlib", "subplots", "figure-text", "labeling"]}
{"id": "sns_070", "category": "displot", "question": "How to visualize the empirical cumulative distribution function (ECDF) for a variable?", "code": "data = np.random.exponential(scale=2, size=500)\ndf = pd.DataFrame({'value': data})\n\n# Main operation:\nsns.displot(df, x='value', kind='ecdf')", "difficulty": "medium", "tags": ["seaborn", "displot", "ecdf", "distribution"]}
{"id": "sp_068", "category": "clustering", "question": "How to calculate the pairwise distance matrix between observations using a specific metric (e.g., Manhattan distance)?", "code": "from scipy.spatial.distance import pdist, squareform\n\nX = np.random.rand(5, 2)\n\n# Main operation:\ndist_vector = pdist(X, metric='cityblock')\ndist_matrix = squareform(dist_vector)", "difficulty": "medium", "tags": ["scipy", "pdist", "distance", "clustering"]}
{"id": "pd_115", "category": "indexing", "question": "How to select rows based on whether a column contains a list of specific values?", "code": "data = {'col': ['apple', 'banana', 'cherry', 'date']}\ndf = pd.DataFrame(data)\n\n# Main operation:\ndf_filtered = df[df['col'].isin(['apple', 'date'])]", "difficulty": "easy", "tags": ["pandas", "isin", "filtering", "selection"]}
{"id": "np_077", "category": "array-ops", "question": "How to concatenate two arrays along a specified axis (e.g., column-wise)?", "code": "a = np.array([[1, 2], [3, 4]])\nb = np.array([[5, 6], [7, 8]])\n\n# Main operation:\nresult = np.concatenate((a, b), axis=1)", "difficulty": "easy", "tags": ["numpy", "concatenate", "stacking"]}
{"id": "mpl_073", "category": "histogram", "question": "How to plot a density-normalized histogram with a custom number of bins and border color?", "code": "data = np.random.randn(500)\n\n# Main operation:\nplt.hist(data, bins=25, density=True, edgecolor='black', alpha=0.7)", "difficulty": "medium", "tags": ["matplotlib", "histogram", "density", "styling"]}
{"id": "pd_116", "category": "grouping-aggregation", "question": "How to use `agg` to apply different aggregation functions to different columns simultaneously?", "code": "data = {'group': ['A', 'A', 'B', 'B'], 'val1': [1, 2, 5, 6], 'val2': [10, 20, 30, 40]}\ndf = pd.DataFrame(data)\n\n# Main operation:\nagg_result = df.groupby('group').agg({'val1': 'mean', 'val2': 'max'})", "difficulty": "medium", "tags": ["pandas", "groupby", "agg", "multiple-functions"]}
{"id": "np_078", "category": "array-ops", "question": "How to compute the determinant of a square matrix?", "code": "A = np.array([[1, 2], [3, 4]])\n\n# Main operation:\ndet = np.linalg.det(A)", "difficulty": "easy", "tags": ["numpy", "determinant", "linear-algebra"]}
{"id": "mpl_074", "category": "styling", "question": "How to use a dark background style for a plot?", "code": "x = np.linspace(0, 10, 10)\ny = x**2\n\n# Main operation:\nwith plt.style.context('dark_background'):\n    plt.plot(x, y)", "difficulty": "easy", "tags": ["matplotlib", "styling", "dark-background", "theme"]}
{"id": "sns_072", "category": "boxenplot", "question": "How to create a multi-layered categorical plot that separates categories by column and hue (e.g., using `catplot`)?", "code": "df = sns.load_dataset('titanic')\n\n# Main operation:\nsns.catplot(data=df, x='sex', y='age', hue='pclass', col='survived', kind='box')", "difficulty": "hard", "tags": ["seaborn", "catplot", "facetgrid", "multi-layer"]}
{"id": "sp_070", "category": "linear-algebra", "question": "How to calculate the Singular Value Decomposition (SVD) of a matrix?", "code": "from scipy.linalg import svd\n\nA = np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9]])\n\n# Main operation:\nU, s, Vh = svd(A)", "difficulty": "hard", "tags": ["scipy", "svd", "linear-algebra", "decomposition"]}
{"id": "pd_117", "category": "creating-features", "question": "How to calculate a centered rolling average for a time series (looking backward and forward)?", "code": "ts = pd.Series(np.random.rand(100), index=pd.date_range('2023-01-01', periods=100))\n\n# Main operation:\nts_roll_avg = ts.rolling(window=5, center=True).mean()", "difficulty": "medium", "tags": ["pandas", "rolling", "center", "time-series"]}
{"id": "np_079", "category": "random-generation", "question": "How to generate random samples from a Poisson distribution?", "code": "lambda_val = 5\nsize = 1000\n\n# Main operation:\nsamples = np.random.poisson(lam=lambda_val, size=size)", "difficulty": "easy", "tags": ["numpy", "random", "poisson", "distribution"]}
{"id": "mpl_075", "category": "scatter-plot", "question": "How to create a scatter plot with logarithmic scales on both axes?", "code": "x = np.logspace(0, 2, 50)\ny = x**2\n\n# Main operation:\nplt.scatter(x, y)\nplt.xscale('log')\nplt.yscale('log')", "difficulty": "medium", "tags": ["matplotlib", "log-scale", "scatter-plot"]}
{"id": "sns_073", "category": "distribution", "question": "How to plot a distribution with both a histogram and a kernel density estimate (KDE) line?", "code": "data = np.random.normal(loc=10, scale=2, size=500)\ndf = pd.DataFrame({'value': data})\n\n# Main operation:\nsns.histplot(data=df, x='value', kde=True)", "difficulty": "easy", "tags": ["seaborn", "histplot", "kde", "distribution"]}
{"id": "sp_071", "category": "signal-processing", "question": "How to calculate the continuous wavelet transform (CWT) of a signal?", "code": "from scipy.signal import cwt, ricker\n\nsignal = np.sin(2 * np.pi * 5 * np.linspace(0, 1, 100)) + 0.5 * np.random.randn(100)\nwidths = np.arange(1, 31)\n\n# Main operation:\ncwt_matrix = cwt(signal, ricker, widths)", "difficulty": "hard", "tags": ["scipy", "cwt", "wavelet", "signal-processing"]}
{"id": "pd_118", "category": "data-cleaning", "question": "How to use `map` with a dictionary to replace categorical values in a column?", "code": "data = {'col': ['A', 'B', 'C', 'A']}\ndf = pd.DataFrame(data)\nmapping = {'A': 'Group 1', 'B': 'Group 2'}\n\n# Main operation:\ndf['col_mapped'] = df['col'].map(mapping).fillna(df['col'])", "difficulty": "medium", "tags": ["pandas", "map", "replace", "data-cleaning"]}
{"id": "np_080", "category": "array-ops", "question": "How to compute the rank of a matrix (number of linearly independent rows/columns)?", "code": "A = np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9]])\n\n# Main operation:\nrank = np.linalg.matrix_rank(A)", "difficulty": "medium", "tags": ["numpy", "matrix-rank", "linear-algebra"]}
{"id": "sns_074", "category": "regplot", "question": "How to fit and plot a high-order polynomial regression line (e.g., 3rd order) with Seaborn?", "code": "x = np.linspace(0, 20, 50)\ny = 5 * np.sin(x) + np.random.randn(50) * 2\ndf = pd.DataFrame({'x': x, 'y': y})\n\n# Main operation:\nsns.regplot(data=df, x='x', y='y', order=3, scatter_kws={'s': 20})", "difficulty": "medium", "tags": ["seaborn", "regplot", "polynomial-regression", "order"]}
{"id": "np_081", "category": "array-ops", "question": "How to replace values in an array that are less than a threshold with a specified fill value?", "code": "arr = np.array([1, 5, -2, 10, -5])\nthreshold = 0\nfill_value = 0\n\n# Main operation:\nresult = np.where(arr < threshold, fill_value, arr)", "difficulty": "medium", "tags": ["numpy", "where", "replacement", "threshold"]}
{"id": "mpl_077", "category": "subplots", "question": "How to create non-rectangular subplots using `GridSpec` to define custom layouts?", "code": "gs = plt.GridSpec(3, 3)\n\n# Main operation:\nax1 = plt.subplot(gs[0, :]) # Span all columns\nax2 = plt.subplot(gs[1:, :2]) # Span rows 1-2, cols 0-1", "difficulty": "hard", "tags": ["matplotlib", "gridspec", "subplots", "layout"]}
{"id": "sns_075", "category": "violinplot", "question": "How to create a violin plot where the violins are split to compare two hues within one category?", "code": "df = sns.load_dataset('tips')\n\n# Main operation:\nsns.violinplot(data=df, x='day', y='total_bill', hue='sex', split=True)", "difficulty": "medium", "tags": ["seaborn", "violinplot", "split", "hue-comparison"]}
{"id": "sp_073", "category": "statistics", "question": "How to perform an ANOVA (Analysis of Variance) F-test for three or more independent groups?", "code": "from scipy.stats import f_oneway\n\ngroup1 = np.random.normal(loc=10, scale=1, size=20)\ngroup2 = np.random.normal(loc=12, scale=1, size=20)\ngroup3 = np.random.normal(loc=10, scale=1, size=20)\n\n# Main operation:\nstat, p = f_oneway(group1, group2, group3)", "difficulty": "medium", "tags": ["scipy", "statistics", "anova", "f_oneway"]}
{"id": "pd_120", "category": "datetime-processing", "question": "How to compute the difference between two time series and express the result in total days (float)?", "code": "start_date = pd.to_datetime('2023-01-01')\nend_dates = pd.to_datetime(['2023-01-10', '2023-02-01'])\ndf = pd.DataFrame({'start': start_date, 'end': end_dates})\n\n# Main operation:\ndf['diff_days'] = (df['end'] - df['start']) / pd.Timedelta(days=1)", "difficulty": "medium", "tags": ["pandas", "timedelta", "datetime", "difference"]}
{"id": "np_082", "category": "array-ops", "question": "How to compute the cumulative product of elements along a specified axis?", "code": "arr = np.array([[1, 2, 3], [4, 5, 6]])\n\n# Main operation:\ncum_product = np.cumprod(arr, axis=1)", "difficulty": "medium", "tags": ["numpy", "cumprod", "cumulative-product"]}
{"id": "mpl_078", "category": "styling", "question": "How to display a plot's legend outside the axes boundary to avoid overlap?", "code": "x = np.linspace(0, 10, 10)\nplt.plot(x, x, label='Line A')\nplt.plot(x, x**2, label='Line B')\n\n# Main operation:\nplt.legend(bbox_to_anchor=(1.05, 1), loc='upper left', borderaxespad=0.)", "difficulty": "medium", "tags": ["matplotlib", "legend", "bbox_to_anchor", "styling"]}
{"id": "sp_074", "category": "optimization", "question": "How to numerically integrate a set of 1D data points using the trapezoidal rule?", "code": "from scipy.integrate import trapz\n\nx = np.linspace(0, np.pi, 100)\ny = np.sin(x)\n\n# Main operation:\nintegral = trapz(y, x)", "difficulty": "easy", "tags": ["scipy", "integration", "trapz", "numerical"]}
{"id": "pd_121", "category": "data-cleaning", "question": "How to detect and count the number of duplicate rows across a specific subset of columns?", "code": "data = {'A': [1, 2, 1, 3], 'B': ['x', 'y', 'x', 'z'], 'C': [5, 6, 7, 8]}\ndf = pd.DataFrame(data)\n\n# Main operation:\nduplicate_count = df.duplicated(subset=['A', 'B'], keep='first').sum()", "difficulty": "medium", "tags": ["pandas", "duplicated", "subset", "data-cleaning"]}
{"id": "mpl_079", "category": "annotations", "question": "How to add an arrow annotation pointing from one point to another using fractional coordinates for the text position?", "code": "x, y = 5, 5\n\n# Main operation:\nplt.annotate('Target', xy=(x, y), xytext=(0.8, 0.2), textcoords='axes fraction', arrowprops=dict(facecolor='black', shrink=0.05))", "difficulty": "hard", "tags": ["matplotlib", "annotation", "axes-fraction", "arrow"]}
{"id": "sns_077", "category": "displot", "question": "How to plot a distribution, specifying the bin size instead of the number of bins?", "code": "data = np.random.gamma(shape=5, scale=1, size=500)\ndf = pd.DataFrame({'value': data})\n\n# Main operation:\nsns.displot(df, x='value', binwidth=1, kind='hist')", "difficulty": "medium", "tags": ["seaborn", "displot", "binwidth", "histogram"]}
{"id": "sp_075", "category": "signal-processing", "question": "How to compute the Fast Fourier Transform (FFT) and its inverse (IFFT)?", "code": "from scipy.fft import fft, ifft\n\nsignal = np.array([0, 1, 0, 1])\n\n# Main operation:\nY = fft(signal)\ny_restored = ifft(Y)", "difficulty": "easy", "tags": ["scipy", "fft", "ifft", "signal-processing"]}
{"id": "pd_122", "category": "reshaping", "question": "How to perform a melt operation and simultaneously manage multiple value variables and variable names?", "code": "data = {'id': [1, 2], 'A_val': [10, 20], 'B_val': [30, 40], 'A_err': [1, 2], 'B_err': [3, 4]}\ndf = pd.DataFrame(data)\n\n# Main operation:\ndf_melted = df.melt(id_vars=['id'], value_vars=['A_val', 'B_val'], var_name='Metric', value_name='Value')", "difficulty": "medium", "tags": ["pandas", "melt", "reshaping", "long-format"]}
{"id": "np_084", "category": "statistics", "question": "How to calculate the median along a specific axis of a 2D array?", "code": "arr_2d = np.array([[1, 2, 3], [4, 5, 6]])\n\n# Main operation:\nmedian_row = np.median(arr_2d, axis=1)", "difficulty": "easy", "tags": ["numpy", "median", "statistics", "axis"]}
{"id": "sp_076", "category": "optimization", "question": "How to find the minimum of a 1D function over a given range (bracketed minimization)?", "code": "from scipy.optimize import minimize_scalar\n\ndef func(x): return x**4 - x**2 + 0.1*x\n\n# Main operation:\nres = minimize_scalar(func, bounds=(-1, 1), method='bounded')", "difficulty": "medium", "tags": ["scipy", "optimization", "minimize-scalar", "bounded"]}
{"id": "pd_123", "category": "string-operations", "question": "How to check if a column contains specific words from a list and create a boolean mask?", "code": "data = {'text': ['apple pie', 'banana bread', 'cherry tart']}\ndf = pd.DataFrame(data)\nkeywords = ['pie', 'tart']\n\n# Main operation:\nmask = df['text'].str.contains('|'.join(keywords), case=False, regex=True)", "difficulty": "medium", "tags": ["pandas", "contains", "regex", "boolean-mask"]}
{"id": "np_085", "category": "array-ops", "question": "How to compute the outer product of two vectors, resulting in a matrix?", "code": "v1 = np.array([1, 2, 3])\nv2 = np.array([10, 20])\n\n# Main operation:\nouter_prod = np.outer(v1, v2)", "difficulty": "easy", "tags": ["numpy", "outer-product", "linear-algebra"]}
{"id": "mpl_081", "category": "annotations", "question": "How to add a vertical reference line to a plot and label it with a text box (textbox style)?", "code": "plt.plot([0, 10], [0, 10])\n\n# Main operation:\nplt.axvline(x=5, color='gray', linestyle='--')\nplt.text(5.2, 8, 'Threshold', bbox=dict(facecolor='white', alpha=0.5))", "difficulty": "medium", "tags": ["matplotlib", "axvline", "text", "annotation"]}
{"id": "sns_079", "category": "pairplot", "question": "How to customize a `pairplot` to use a regression line for the off-diagonal elements?", "code": "df = sns.load_dataset('iris')\n\n# Main operation:\nsns.pairplot(df, kind='reg', plot_kws={'line_kws': {'color': 'red'}})", "difficulty": "medium", "tags": ["seaborn", "pairplot", "reg", "customization"]}
{"id": "sp_077", "category": "linear-algebra", "question": "How to compute the eigenvalues and eigenvectors of a square matrix?", "code": "from scipy.linalg import eig\n\nA = np.array([[3, -2], [4, -3]])\n\n# Main operation:\neigenvalues, eigenvectors = eig(A)", "difficulty": "medium", "tags": ["scipy", "eigenvalues", "eigenvectors", "linear-algebra"]}
{"id": "pd_124", "category": "data-cleaning", "question": "How to fill forward (LOCF) and backward (NOCB) in a single column to impute missing values?", "code": "data = {'value': [1, np.nan, 3, np.nan, 5]}\ndf = pd.DataFrame(data)\n\n# Main operation:\ndf['filled'] = df['value'].fillna(method='ffill').fillna(method='bfill')", "difficulty": "medium", "tags": ["pandas", "fillna", "ffill", "bfill"]}
{"id": "np_086", "category": "array-ops", "question": "How to compute the discrete difference of an array along the second axis?", "code": "arr = np.array([[1, 2, 4], [8, 10, 15]])\n\n# Main operation:\ndiff = np.diff(arr, axis=1)", "difficulty": "medium", "tags": ["numpy", "diff", "difference", "axis"]}
{"id": "mpl_082", "category": "bar-plot", "question": "How to create a stacked bar chart?", "code": "categories = ['A', 'B', 'C']\nvalues1 = [10, 20, 30]\nvalues2 = [5, 15, 25]\n\n# Main operation:\nplt.bar(categories, values1, label='Series 1')\nplt.bar(categories, values2, bottom=values1, label='Series 2')", "difficulty": "medium", "tags": ["matplotlib", "bar-plot", "stacked", "bottom"]}
{"id": "sns_080", "category": "categorical", "question": "How to create a `swarmplot` that uses the hue variable to separate points horizontally (dodge)?", "code": "df = sns.load_dataset('iris')\n\n# Main operation:\nsns.swarmplot(data=df, x='species', y='sepal_length', hue='petal_width' > 1.5, dodge=True)", "difficulty": "hard", "tags": ["seaborn", "swarmplot", "dodge", "categorical"]}
{"id": "sp_078", "category": "statistics", "question": "How to calculate the Shapiro-Wilk test statistic for checking the normality of a sample?", "code": "from scipy.stats import shapiro\n\ndata = np.random.normal(loc=0, scale=1, size=50)\n\n# Main operation:\nstat, p = shapiro(data)", "difficulty": "medium", "tags": ["scipy", "statistics", "shapiro-wilk", "normality"]}
{"id": "np_087", "category": "random-generation", "question": "How to generate a single random integer from a specific range?", "code": "low, high = 1, 10\n\n# Main operation:\nrand_int = np.random.randint(low=low, high=high)", "difficulty": "easy", "tags": ["numpy", "randint", "random", "generation"]}
{"id": "mpl_083", "category": "styling", "question": "How to set the tick rotation for the X-axis labels?", "code": "x = ['Jan', 'Feb', 'Mar', 'Apr']\ny = [1, 2, 3, 4]\nplt.bar(x, y)\n\n# Main operation:\nplt.xticks(rotation=45, ha='right')", "difficulty": "easy", "tags": ["matplotlib", "xticks", "rotation", "styling"]}
{"id": "sns_081", "category": "heatmap", "question": "How to plot a correlation matrix heatmap and only show the upper triangle?", "code": "df = sns.load_dataset('flights').pivot_table(index='month', columns='year', values='passengers')\ncorr = df.corr()\nmask = np.triu(corr)\n\n# Main operation:\nsns.heatmap(corr, annot=True, fmt='.2f', mask=mask, cmap='coolwarm')", "difficulty": "hard", "tags": ["seaborn", "heatmap", "mask", "correlation"]}
{"id": "sp_079", "category": "signal-processing", "question": "How to perform 2D convolution (e.g., blurring an image) using a Gaussian kernel?", "code": "from scipy.ndimage import gaussian_filter\n\nimage = np.random.rand(50, 50)\n\n# Main operation:\nblurred_image = gaussian_filter(image, sigma=3)", "difficulty": "medium", "tags": ["scipy", "gaussian-filter", "convolution", "image-processing"]}
{"id": "np_088", "category": "array-ops", "question": "How to compute the indices that sort an array in descending order?", "code": "arr = np.array([3, 1, 4, 1, 5, 9, 2])\n\n# Main operation:\ndesc_indices = np.argsort(arr)[::-1]", "difficulty": "medium", "tags": ["numpy", "argsort", "descending", "sorting"]}
{"id": "mpl_084", "category": "styling", "question": "How to change the line style and color of the grid lines?", "code": "plt.plot([0, 1], [0, 1])\n\n# Main operation:\nplt.grid(True, linestyle=':', color='gray', linewidth=0.5)", "difficulty": "easy", "tags": ["matplotlib", "grid", "linestyle", "styling"]}
{"id": "sns_082", "category": "distribution", "question": "How to plot the distribution of two variables on the same axis for easy comparison (overlapping KDEs)?", "code": "df = pd.DataFrame({'val_a': np.random.normal(10, 2, 100), 'val_b': np.random.normal(15, 2, 100)})\n\n# Main operation:\nsns.kdeplot(df['val_a'], fill=True, label='A')\nsns.kdeplot(df['val_b'], fill=True, label='B')", "difficulty": "medium", "tags": ["seaborn", "kdeplot", "comparison", "distribution"]}
{"id": "sp_080", "category": "clustering", "question": "How to determine the optimal number of clusters using the elbow method and $k$-means distortion?", "code": "from scipy.cluster.vq import kmeans, vq\n\n# Generate 100 samples with 3 known clusters\ndata = np.vstack((np.random.rand(50,2) + [1, 1], np.random.rand(50,2) + [3, 4]))\n\n# Main operation (calculating distortion for k=1 to 5):\ndistortions = []\nfor k in range(1, 6):\n    codebook, distortion = kmeans(data, k)\n    distortions.append(distortion)", "difficulty": "hard", "tags": ["scipy", "kmeans", "distortion", "elbow-method"]}
{"id": "pd_127", "category": "datetime-processing", "question": "How to extract the day of the week (name) from a datetime column?", "code": "dates = pd.to_datetime(['2023-01-01', '2023-01-02', '2023-01-03'])\ndf = pd.DataFrame({'date': dates})\n\n# Main operation:\ndf['day_name'] = df['date'].dt.day_name()", "difficulty": "easy", "tags": ["pandas", "datetime", "day-name", "feature-engineering"]}
{"id": "np_089", "category": "linear-algebra", "question": "How to compute the inner product (dot product) of two vectors?", "code": "v1 = np.array([1, 2, 3])\nv2 = np.array([4, 5, 6])\n\n# Main operation:\ninner_product = np.dot(v1, v2)", "difficulty": "easy", "tags": ["numpy", "dot-product", "linear-algebra"]}
{"id": "mpl_085", "category": "3d-plot", "question": "How to create a 3D wireframe plot?", "code": "X = np.arange(-5, 5, 0.25)\nY = np.arange(-5, 5, 0.25)\nX, Y = np.meshgrid(X, Y)\nZ = np.sin(np.sqrt(X**2 + Y**2))\n\n# Main operation:\nax = plt.axes(projection='3d')\nax.plot_wireframe(X, Y, Z, color='blue')", "difficulty": "hard", "tags": ["matplotlib", "3d-plot", "wireframe", "meshgrid"]}
{"id": "sns_083", "category": "line-plot", "question": "How to customize the appearance of the confidence band (e.g., color and alpha) in a line plot?", "code": "df = pd.DataFrame({'time': np.arange(10), 'value': np.random.rand(10) * 10})\n\n# Main operation:\nsns.lineplot(data=df, x='time', y='value', err_style='band', estimator='mean', color='blue', errorbar=('ci', 95))", "difficulty": "medium", "tags": ["seaborn", "lineplot", "confidence-interval", "customization"]}
{"id": "pandas_basics_001", "category": "pandas-basics", "question": "How do I create a simple DataFrame with three columns?", "code": "import pandas as pd\n\n# Create a simple DataFrame\ndf = pd.DataFrame({\n    'Name': ['Alice', 'Bob', 'Charlie'],\n    'Age': [25, 30, 35],\n    'Score': [85.5, 92.0, 78.3]\n})\nprint(df)", "difficulty": "easy", "tags": ["pandas", "dataframe", "creation"]}
{"id": "numpy_basics_001", "category": "numpy-basics", "question": "How to create a 1D array of zeros with 10 elements?", "code": "import numpy as np\n\narr = np.zeros(10)\nprint(arr)", "difficulty": "easy", "tags": ["numpy", "array", "zeros"]}
{"id": "line_plot_001", "category": "line-plot", "question": "How to plot a simple line graph with matplotlib?", "code": "import matplotlib.pyplot as plt\n\nx = [1, 2, 3, 4, 5]\ny = [2, 4, 6, 8, 10]\nplt.plot(x, y, marker='o')\nplt.title('Simple Line Plot')\nplt.xlabel('X Axis')\nplt.ylabel('Y Axis')\nplt.grid(True)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "line", "plot"]}
{"id": "barplot_001", "category": "barplot", "question": "How to create a bar plot with seaborn?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\n\n# Create toy data\ndata = {'Category': ['A', 'B', 'C', 'D'], 'Value': [10, 15, 7, 12]}\ndf = pd.DataFrame(data)\n\nsns.barplot(x='Category', y='Value', data=df)\nplt.title('Seaborn Bar Plot')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "barplot"]}
{"id": "statistics_001", "category": "statistics", "question": "How to compute the t-statistic and p-value for two independent samples using scipy?", "code": "from scipy import stats\n\n# Generate two sample datasets\ngroup1 = np.random.normal(loc=5, scale=1.0, size=30)\ngroup2 = np.random.normal(loc=5.5, scale=1.0, size=30)\n\nt_stat, p_val = stats.ttest_ind(group1, group2)\nprint(f\"T-statistic: {t_stat:.4f}\")\nprint(f\"P-value: {p_val:.4f}\")", "difficulty": "medium", "tags": ["scipy", "statistics", "t-test"]}
{"id": "data_cleaning_001", "category": "data-cleaning", "question": "How to drop duplicate rows from a DataFrame?", "code": "import pandas as pd\n\n# Create DataFrame with duplicates\ndf = pd.DataFrame({\n    'A': [1, 2, 2, 3, 1],\n    'B': [5, 6, 6, 7, 5]\n})\nprint(\"Before:\\n\", df)\n\ndf_clean = df.drop_duplicates()\nprint(\"\\nAfter:\\n\", df_clean)", "difficulty": "easy", "tags": ["pandas", "duplicates", "cleaning"]}
{"id": "array_ops_001", "category": "array-ops", "question": "How to add two NumPy arrays element-wise?", "code": "import numpy as np\n\na = np.array([1, 2, 3, 4])\nb = np.array([5, 6, 7, 8])\n\nresult = a + b\nprint(result)", "difficulty": "easy", "tags": ["numpy", "array", "addition"]}
{"id": "scatter_plot_001", "category": "scatter-plot", "question": "How to make a scatter plot with matplotlib?", "code": "import matplotlib.pyplot as plt\n\nx = np.random.randn(50)\ny = x + np.random.randn(50) * 0.5\nplt.scatter(x, y, alpha=0.6, color='green')\nplt.title('Scatter Plot Example')\nplt.xlabel('X values')\nplt.ylabel('Y values')\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "scatter"]}
{"id": "countplot_001", "category": "countplot", "question": "How to create a countplot for a categorical column using seaborn?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\n\n# Toy categorical data\ndata = pd.DataFrame({'Fruit': ['Apple', 'Banana', 'Apple', 'Cherry', 'Banana', 'Apple', 'Cherry']})\n\nsns.countplot(x='Fruit', data=data)\nplt.title('Count of Fruits')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "countplot", "categorical"]}
{"id": "grouping_aggregation_001", "category": "grouping-aggregation", "question": "How to group by one column and calculate the mean of another?", "code": "import pandas as pd\n\n# Toy sales data\ndf = pd.DataFrame({\n    'City': ['NY', 'LA', 'NY', 'LA', 'NY'],\n    'Sales': [100, 150, 200, 120, 180]\n})\n\nresult = df.groupby('City')['Sales'].mean()\nprint(result)", "difficulty": "easy", "tags": ["pandas", "groupby", "mean"]}
{"id": "missing_values_001", "category": "missing-values", "question": "How to check for missing values in each column of a DataFrame?", "code": "import pandas as pd\nimport numpy as np\n\n# DataFrame with NaN\ndf = pd.DataFrame({\n    'Col1': [1, np.nan, 3],\n    'Col2': [np.nan, 5, 6],\n    'Col3': [7, 8, 9]\n})\n\nprint(df.isnull().sum())", "difficulty": "easy", "tags": ["pandas", "missing", "NaN"]}
{"id": "vectorization_001", "category": "vectorization", "question": "How to apply a vectorized function to every element of a NumPy array?", "code": "import numpy as np\n\narr = np.array([1.0, 4.0, 9.0, 16.0])\n# Vectorized square root\nresult = np.sqrt(arr)\nprint(result)", "difficulty": "easy", "tags": ["numpy", "vectorization", "sqrt"]}
{"id": "histogram_001", "category": "histogram", "question": "How to plot a histogram with matplotlib?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\ndata = np.random.randn(1000) * 10 + 50  # Normal distribution\nplt.hist(data, bins=30, edgecolor='black', alpha=0.7)\nplt.title('Histogram of Random Data')\nplt.xlabel('Value')\nplt.ylabel('Frequency')\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "histogram"]}
{"id": "boxplot_001", "category": "boxplot", "question": "How to create a boxplot with seaborn?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\n\n# Generate sample data\ndata = pd.DataFrame({\n    'Group': ['A']*30 + ['B']*30,\n    'Value': np.concatenate([np.random.randn(30)*1.5 + 5, np.random.randn(30)*1.0 + 7])\n})\n\nsns.boxplot(x='Group', y='Value', data=data)\nplt.title('Boxplot by Group')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "boxplot"]}
{"id": "interpolation_001", "category": "interpolation", "question": "How to perform linear interpolation on a 1D dataset using scipy?", "code": "from scipy import interpolate\nimport numpy as np\n\n# Known points\nx = np.array([0, 1, 2, 3, 4])\ny = np.array([0, 2, 1, 4, 3])\n\n# Create linear interpolation function\nf_linear = interpolate.interp1d(x, y, kind='linear')\n\n# Interpolate at new point\nx_new = 2.5\ny_new = f_linear(x_new)\nprint(f\"Interpolated value at x={x_new}: {y_new}\")", "difficulty": "medium", "tags": ["scipy", "interpolation"]}
{"id": "merging_joining_001", "category": "merging-joining", "question": "How to merge two DataFrames on a common column?", "code": "import pandas as pd\n\n# Create two DataFrames\ndf1 = pd.DataFrame({'ID': [1, 2, 3], 'Name': ['Alice', 'Bob', 'Charlie']})\ndf2 = pd.DataFrame({'ID': [1, 2, 4], 'Score': [88, 92, 85]})\n\n# Inner merge on 'ID'\ndf_merged = pd.merge(df1, df2, on='ID', how='inner')\nprint(df_merged)", "difficulty": "easy", "tags": ["pandas", "merge", "join"]}
{"id": "random_generation_001", "category": "random-generation", "question": "How to generate an array of random integers within a range?", "code": "import numpy as np\n\n# Generate 10 random integers between 0 and 100\nrand_ints = np.random.randint(0, 101, size=10)\nprint(rand_ints)", "difficulty": "easy", "tags": ["numpy", "random"]}
{"id": "bar_plot_001", "category": "bar-plot", "question": "How to create a vertical bar chart with matplotlib?", "code": "import matplotlib.pyplot as plt\n\nlabels = ['Q1', 'Q2', 'Q3', 'Q4']\nvalues = [450, 520, 490, 600]\n\nplt.bar(labels, values, color='skyblue', edgecolor='navy')\nplt.title('Quarterly Revenue')\nplt.ylabel('Revenue ($)')\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "bar", "plot"]}
{"id": "violinplot_001", "category": "violinplot", "question": "How to make a violin plot to compare distributions using seaborn?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\n\n# Sample data\ndf = pd.DataFrame({\n    'Category': ['A']*50 + ['B']*50,\n    'Value': np.concatenate([np.random.normal(10, 2, 50), np.random.normal(15, 3, 50)])\n})\n\nsns.violinplot(x='Category', y='Value', data=df, inner='quartile')\nplt.title('Violin Plot Example')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "violinplot", "distribution"]}
{"id": "datetime_processing_001", "category": "datetime-processing", "question": "How to convert a string column to datetime format in pandas?", "code": "import pandas as pd\n\n# DataFrame with date strings\ndf = pd.DataFrame({\n    'date_str': ['2023-01-15', '2023-02-20', '2023-03-10'],\n    'value': [100, 200, 150]\n})\n\ndf['date'] = pd.to_datetime(df['date_str'])\nprint(df.dtypes)\nprint(df)", "difficulty": "easy", "tags": ["pandas", "datetime", "conversion"]}
{"id": "file_loading_savings_001", "category": "file-loading-savings", "question": "How to read a CSV file into a pandas DataFrame?", "code": "import pandas as pd\n\n# Assuming 'data.csv' exists in the current directory\n# df = pd.read_csv('data.csv')\n# For this example, we'll create and read a temporary CSV\nimport io\ncsv_data = \"A,B,C\\n1,4,7\\n2,5,8\\n3,6,9\"\ndf = pd.read_csv(io.StringIO(csv_data))\nprint(df)", "difficulty": "easy", "tags": ["pandas", "csv", "read"]}
{"id": "categorical_encoding_001", "category": "categorical-encoding", "question": "How to encode a categorical column using one-hot encoding?", "code": "import pandas as pd\n\n# Create DataFrame with a categorical column\ndf = pd.DataFrame({\n    'Color': ['Red', 'Blue', 'Green', 'Blue', 'Red']\n})\n\n# Apply one-hot encoding\ndf_encoded = pd.get_dummies(df, columns=['Color'])\nprint(df_encoded)", "difficulty": "easy", "tags": ["pandas", "one-hot", "encoding"]}
{"id": "broadcasting_001", "category": "broadcasting", "question": "How to add a scalar to every element of a 2D array using NumPy broadcasting?", "code": "import numpy as np\n\n# Create a 2D array\narr = np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9]])\n# Add 10 to every element using broadcasting\nresult = arr + 10\nprint(result)", "difficulty": "easy", "tags": ["numpy", "broadcasting"]}
{"id": "subplots_001", "category": "subplots", "question": "How to create two subplots side by side?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nfig, (ax1, ax2) = plt.subplots(1, 2, figsize=(10,4))\n\n# First subplot\nx = np.linspace(0, 10, 100)\nax1.plot(x, np.sin(x), color='red')\nax1.set_title('Sine Wave')\n\n# Second subplot\nax2.plot(x, np.cos(x), color='blue')\nax2.set_title('Cosine Wave')\n\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "subplots"]}
{"id": "jointplot_001", "category": "jointplot", "question": "How to create a jointplot showing scatter and marginal distributions with seaborn?", "code": "import seaborn as sns\nimport numpy as np\n\n# Generate correlated data\nnp.random.seed(42)\nx = np.random.randn(200)\ny = x + np.random.randn(200) * 0.5\n\ng = sns.jointplot(x=x, y=y, kind='scatter', alpha=0.6)\ng.fig.suptitle('Joint Plot of X and Y')\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "jointplot", "scatter", "distribution"]}
{"id": "signal_processing_001", "category": "signal-processing", "question": "How to apply a simple moving average filter to a 1D signal using scipy?", "code": "from scipy import signal\nimport numpy as np\n\n# Create a noisy signal\nt = np.linspace(0, 10, 200)\ny = np.sin(t) + np.random.normal(0, 0.3, t.shape)\n\n# Apply moving average filter (window length 5)\nwindow_size = 5\nb = np.ones(window_size) / window_size\ny_filtered = signal.lfilter(b, 1, y)\n\n# Plotting (optional)\nimport matplotlib.pyplot as plt\nplt.plot(t, y, alpha=0.5, label='Noisy')\nplt.plot(t, y_filtered, 'r', label='Filtered')\nplt.legend()\nplt.title('Moving Average Filter')\nplt.show()", "difficulty": "hard", "tags": ["scipy", "signal-processing", "filter"]}
{"id": "creating_features_001", "category": "creating-features", "question": "How to create a new feature by binning a numeric column into categories?", "code": "import pandas as pd\n\n# Create sample data\ndf = pd.DataFrame({\n    'Score': [45, 78, 92, 61, 55, 85, 70, 39]\n})\n\n# Bin into categories: Fail, Pass, Good, Excellent\ndf['Grade'] = pd.cut(df['Score'], bins=[0, 50, 70, 85, 100],\n                      labels=['Fail', 'Pass', 'Good', 'Excellent'])\nprint(df)", "difficulty": "medium", "tags": ["pandas", "binning", "cut"]}
{"id": "statistics_002", "category": "statistics", "question": "How to compute descriptive statistics (mean, median, std) for a NumPy array?", "code": "import numpy as np\n\narr = np.array([12.5, 15.2, 14.8, 16.0, 13.7, 15.9])\nprint(f\"Mean: {np.mean(arr):.2f}\")\nprint(f\"Median: {np.median(arr):.2f}\")\nprint(f\"Standard Deviation: {np.std(arr):.2f}\")\nprint(f\"Min: {np.min(arr):.2f}\")\nprint(f\"Max: {np.max(arr):.2f}\")", "difficulty": "easy", "tags": ["numpy", "statistics"]}
{"id": "heatmap_001", "category": "heatmap", "question": "How to create a correlation matrix heatmap using seaborn?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Generate a small dataset with some correlation\ndf = pd.DataFrame(np.random.randn(100, 4), columns=['A', 'B', 'C', 'D'])\ndf['B'] = df['A'] * 0.7 + np.random.randn(100) * 0.3  # Make B correlated with A\n\ncorr_matrix = df.corr()\nsns.heatmap(corr_matrix, annot=True, cmap='coolwarm', center=0)\nplt.title('Correlation Matrix Heatmap')\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "heatmap", "correlation"]}
{"id": "annotations_001", "category": "annotations", "question": "How to annotate a specific point on a matplotlib plot?", "code": "import matplotlib.pyplot as plt\n\nx = [1, 2, 3, 4, 5]\ny = [2, 5, 3, 8, 6]\n\nplt.plot(x, y, marker='o')\nplt.title('Plot with Annotation')\n\n# Annotate the peak\npeak_x, peak_y = 4, 8\nplt.annotate('Peak', xy=(peak_x, peak_y), xytext=(peak_x-1, peak_y+1),\n             arrowprops=dict(facecolor='black', shrink=0.05),\n             fontsize=10)\n\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "annotation"]}
{"id": "pairplot_001", "category": "pairplot", "question": "How to create a pairplot to visualize relationships between multiple variables using seaborn?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Create a sample DataFrame\ndf = pd.DataFrame({\n    'Feature1': np.random.randn(150),\n    'Feature2': np.random.randn(150) * 0.5 + 2,\n    'Feature3': np.random.randn(150) * 1.5 - 1,\n    'Class': np.random.choice(['X', 'Y', 'Z'], 150)\n})\n\nsns.pairplot(df, hue='Class', diag_kind='kde', palette='Set2')\nplt.suptitle('Pairplot with Hue', y=1.02)\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "pairplot", "multivariate"]}
{"id": "optimization_001", "category": "optimization", "question": "How to find the minimum of a simple quadratic function using scipy?", "code": "from scipy.optimize import minimize_scalar\n\ndef quadratic(x):\n    return (x - 5) ** 2 + 2  # Minimum at x=5, value=2\n\nresult = minimize_scalar(quadratic)\nprint(f\"Minimum at x = {result.x:.4f}\")\nprint(f\"Minimum value = {result.fun:.4f}\")", "difficulty": "medium", "tags": ["scipy", "optimization", "minimize"]}
{"id": "styling_001", "category": "styling", "question": "How to change the figure size and line style in matplotlib?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0, 2*np.pi, 100)\ny = np.sin(x)\n\nplt.figure(figsize=(8, 5))  # Set figure size\nplt.plot(x, y, linestyle='--', linewidth=2, color='darkgreen', marker='s', markersize=4, markerfacecolor='orange')\nplt.title('Styled Sine Wave')\nplt.grid(True, linestyle=':', alpha=0.7)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "styling", "figure"]}
{"id": "scatterplot_001", "category": "scatterplot", "question": "How to create a scatter plot with hue (color by category) using seaborn?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Create sample data with categories\ndf = pd.DataFrame({\n    'X': np.random.randn(80),\n    'Y': np.random.randn(80) * 0.8 + 2,\n    'Group': ['A']*40 + ['B']*40\n})\n\nsns.scatterplot(data=df, x='X', y='Y', hue='Group', style='Group', s=80)\nplt.title('Scatter Plot with Groups')\nplt.legend(title='Group')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "scatterplot", "hue"]}
{"id": "array_ops_002", "category": "array-ops", "question": "How to compute the element-wise product of two NumPy arrays?", "code": "import numpy as np\n\na = np.array([1, 2, 3, 4])\nb = np.array([2, 3, 4, 5])\n\nproduct = a * b  # Element-wise multiplication\nprint(product)", "difficulty": "easy", "tags": ["numpy", "multiplication", "element-wise"]}
{"id": "missing_values_002", "category": "missing-values", "question": "How to drop all rows that contain any missing values?", "code": "import pandas as pd\nimport numpy as np\n\ndf = pd.DataFrame({\n    'A': [1, np.nan, 3, 4],\n    'B': [5, 6, np.nan, 8],\n    'C': [9, 10, 11, 12]\n})\nprint(\"Before:\\n\", df)\n\ndf_dropped = df.dropna()\nprint(\"\\nAfter dropping rows with NaN:\\n\", df_dropped)", "difficulty": "easy", "tags": ["pandas", "dropna", "missing"]}
{"id": "pandas_basics_002", "category": "pandas-basics", "question": "How do I create a DataFrame from a list of dictionaries?", "code": "import pandas as pd\n\ndata = [\n    {'Product': 'Apple', 'Price': 1.2, 'Quantity': 50},\n    {'Product': 'Banana', 'Price': 0.8, 'Quantity': 75},\n    {'Product': 'Cherry', 'Price': 3.5, 'Quantity': 20}\n]\ndf = pd.DataFrame(data)\nprint(df)", "difficulty": "easy", "tags": ["pandas", "dataframe", "list of dicts"]}
{"id": "numpy_basics_002", "category": "numpy-basics", "question": "How to create a 3x3 identity matrix?", "code": "import numpy as np\n\nidentity_matrix = np.eye(3)\nprint(identity_matrix)", "difficulty": "easy", "tags": ["numpy", "matrix", "identity"]}
{"id": "line_plot_002", "category": "line-plot", "question": "How to plot multiple lines on the same graph?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.arange(0, 10, 0.5)\ny1 = np.sin(x)\ny2 = np.cos(x)\n\nplt.plot(x, y1, label='Sine', color='blue')\nplt.plot(x, y2, label='Cosine', color='red', linestyle='--')\nplt.title('Multiple Line Plot')\nplt.xlabel('X')\nplt.ylabel('Y')\nplt.legend()\nplt.grid(True)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "line", "multiple lines"]}
{"id": "barplot_002", "category": "barplot", "question": "How to create a horizontal bar plot with seaborn?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\n\ndata = {'City': ['New York', 'London', 'Tokyo', 'Paris'], 'Visitors': [500, 400, 300, 350]}\ndf = pd.DataFrame(data)\n\nsns.barplot(x='Visitors', y='City', data=df, palette='viridis')\nplt.title('Visitors by City')\nplt.tight_layout()\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "barplot", "horizontal"]}
{"id": "statistics_003", "category": "statistics", "question": "How to perform a one-sample t-test using scipy?", "code": "from scipy import stats\nimport numpy as np\n\nsample = np.random.normal(loc=105, scale=15, size=30)  # Sample data\npopulation_mean = 100  # Hypothesized population mean\n\nt_stat, p_val = stats.ttest_1samp(sample, population_mean)\nprint(f\"T-statistic: {t_stat:.4f}\")\nprint(f\"P-value: {p_val:.4f}\")", "difficulty": "medium", "tags": ["scipy", "t-test", "hypothesis testing"]}
{"id": "data_cleaning_002", "category": "data-cleaning", "question": "How to rename columns in a pandas DataFrame?", "code": "import pandas as pd\n\ndf = pd.DataFrame({'old_name1': [1,2,3], 'old_name2': [4,5,6]})\nprint(\"Original columns:\", df.columns.tolist())\n\ndf.rename(columns={'old_name1': 'new_A', 'old_name2': 'new_B'}, inplace=True)\nprint(\"Renamed columns:\", df.columns.tolist())\nprint(df)", "difficulty": "easy", "tags": ["pandas", "rename", "columns"]}
{"id": "array_ops_003", "category": "array-ops", "question": "How to calculate the dot product of two vectors in NumPy?", "code": "import numpy as np\n\nv1 = np.array([1, 2, 3])\nv2 = np.array([4, 5, 6])\n\ndot_product = np.dot(v1, v2)\nprint(f\"Dot product: {dot_product}\")", "difficulty": "easy", "tags": ["numpy", "dot product", "linear algebra"]}
{"id": "scatter_plot_002", "category": "scatter-plot", "question": "How to change marker size and color in a scatter plot?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.random.rand(50)\ny = np.random.rand(50)\nsizes = np.random.randint(20, 200, 50)\ncolors = np.random.rand(50)\n\nplt.scatter(x, y, s=sizes, c=colors, cmap='plasma', alpha=0.7, edgecolor='black')\nplt.colorbar(label='Color intensity')\nplt.title('Scatter Plot with Variable Size and Color')\nplt.xlabel('X')\nplt.ylabel('Y')\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "scatter", "colormap"]}
{"id": "countplot_002", "category": "countplot", "question": "How to order categories in a seaborn countplot?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\n\ndata = pd.DataFrame({'Grade': ['B', 'A', 'C', 'B', 'A', 'A', 'C', 'B', 'C']})\n\n# Specify order\norder = ['A', 'B', 'C']\nsns.countplot(x='Grade', data=data, order=order, palette='Set2')\nplt.title('Count of Grades (Ordered)')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "countplot", "ordering"]}
{"id": "grouping_aggregation_002", "category": "grouping-aggregation", "question": "How to group by multiple columns and compute multiple aggregations?", "code": "import pandas as pd\n\n# Sales data\ndf = pd.DataFrame({\n    'Region': ['North', 'North', 'South', 'South', 'North', 'South'],\n    'Product': ['A', 'B', 'A', 'B', 'A', 'B'],\n    'Sales': [100, 150, 200, 120, 180, 90]\n})\n\nresult = df.groupby(['Region', 'Product']).agg({'Sales': ['sum', 'mean', 'count']})\nprint(result)", "difficulty": "medium", "tags": ["pandas", "groupby", "aggregation"]}
{"id": "missing_values_002", "category": "missing-values", "question": "How to fill missing values with the column mean?", "code": "import pandas as pd\nimport numpy as np\n\ndf = pd.DataFrame({\n    'A': [1, np.nan, 3, np.nan, 5],\n    'B': [10, 20, np.nan, 40, 50]\n})\nprint(\"Before:\\n\", df)\n\ndf_filled = df.fillna(df.mean())\nprint(\"\\nAfter filling with column mean:\\n\", df_filled)", "difficulty": "easy", "tags": ["pandas", "fillna", "mean"]}
{"id": "vectorization_002", "category": "vectorization", "question": "How to apply a custom vectorized function using numpy.vectorize?", "code": "import numpy as np\n\ndef my_func(x):\n    return x**2 + 2*x + 1\n\nvfunc = np.vectorize(my_func)\n\narr = np.array([1, 2, 3, 4, 5])\nresult = vfunc(arr)\nprint(result)", "difficulty": "medium", "tags": ["numpy", "vectorize", "custom function"]}
{"id": "histogram_002", "category": "histogram", "question": "How to plot a histogram with cumulative distribution?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\ndata = np.random.normal(0, 1, 1000)\nplt.hist(data, bins=30, cumulative=True, density=True, edgecolor='black', alpha=0.7, color='orange')\nplt.title('Cumulative Histogram')\nplt.xlabel('Value')\nplt.ylabel('Cumulative Probability')\nplt.grid(True, alpha=0.3)\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "histogram", "cumulative"]}
{"id": "boxplot_002", "category": "boxplot", "question": "How to create side-by-side boxplots for multiple groups using matplotlib?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\n# Generate data for three groups\ngroup1 = np.random.normal(100, 10, 50)\ngroup2 = np.random.normal(110, 15, 50)\ngroup3 = np.random.normal(90, 12, 50)\n\ndata = [group1, group2, group3]\nlabels = ['Group 1', 'Group 2', 'Group 3']\nplt.boxplot(data, labels=labels, patch_artist=True,\n            boxprops=dict(facecolor='lightblue', color='darkblue'),\n            medianprops=dict(color='red'))\nplt.title('Side-by-Side Boxplots')\nplt.ylabel('Score')\nplt.grid(True, alpha=0.3)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "boxplot", "multiple groups"]}
{"id": "interpolation_002", "category": "interpolation", "question": "How to perform cubic spline interpolation using scipy?", "code": "from scipy import interpolate\nimport numpy as np\n\nx = np.array([0, 1, 2, 3, 4, 5])\ny = np.array([0, 0.8, 0.9, 0.1, -0.8, -1.0])\n\n# Create cubic spline\ncubic_spline = interpolate.CubicSpline(x, y)\n\n# Evaluate at new points\nx_new = np.linspace(0, 5, 100)\ny_new = cubic_spline(x_new)\n\n# Plot (optional)\nimport matplotlib.pyplot as plt\nplt.plot(x, y, 'o', label='Data points')\nplt.plot(x_new, y_new, '-', label='Cubic spline')\nplt.legend()\nplt.title('Cubic Spline Interpolation')\nplt.show()", "difficulty": "hard", "tags": ["scipy", "interpolation", "spline"]}
{"id": "merging_joining_002", "category": "merging-joining", "question": "How to concatenate DataFrames vertically (row-wise)?", "code": "import pandas as pd\n\ndf1 = pd.DataFrame({'A': [1, 2], 'B': [3, 4]})\ndf2 = pd.DataFrame({'A': [5, 6], 'B': [7, 8]})\n\nresult = pd.concat([df1, df2], ignore_index=True)\nprint(result)", "difficulty": "easy", "tags": ["pandas", "concat", "row binding"]}
{"id": "random_generation_002", "category": "random-generation", "question": "How to sample random elements from an array with specified probabilities?", "code": "import numpy as np\n\nchoices = ['A', 'B', 'C', 'D']\nprobabilities = [0.1, 0.2, 0.3, 0.4]\n\n# Sample 10 times with given probabilities\nsamples = np.random.choice(choices, size=10, p=probabilities)\nprint(samples)", "difficulty": "medium", "tags": ["numpy", "random", "sampling"]}
{"id": "bar_plot_002", "category": "bar-plot", "question": "How to create a stacked bar chart?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\ncategories = ['Q1', 'Q2', 'Q3', 'Q4']\nproduct_A = [20, 35, 30, 25]\nproduct_B = [15, 25, 20, 30]\nproduct_C = [10, 15, 25, 20]\n\nplt.bar(categories, product_A, label='Product A', color='skyblue')\nplt.bar(categories, product_B, bottom=product_A, label='Product B', color='lightgreen')\nplt.bar(categories, product_C, bottom=np.array(product_A)+np.array(product_B), label='Product C', color='salmon')\nplt.title('Stacked Bar Chart - Quarterly Sales')\nplt.ylabel('Sales Units')\nplt.legend()\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "stacked bar", "plot"]}
{"id": "violinplot_002", "category": "violinplot", "question": "How to split a violin plot to compare two categories within each group?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Create dataset\ndf = pd.DataFrame({\n    'Group': ['A']*50 + ['B']*50 + ['A']*50 + ['B']*50,\n    'Value': np.concatenate([\n        np.random.normal(10, 2, 50),\n        np.random.normal(12, 2, 50),\n        np.random.normal(8, 1.5, 50),\n        np.random.normal(14, 2.5, 50)\n    ]),\n    'Category': ['X']*100 + ['Y']*100\n})\n\nsns.violinplot(x='Group', y='Value', hue='Category', data=df, split=True, palette='pastel')\nplt.title('Split Violin Plot by Category')\nplt.legend(title='Category')\nplt.show()", "difficulty": "hard", "tags": ["seaborn", "violinplot", "split", "hue"]}
{"id": "datetime_processing_002", "category": "datetime-processing", "question": "How to extract year, month, and day from a datetime column?", "code": "import pandas as pd\n\ndf = pd.DataFrame({\n    'date': pd.to_datetime(['2023-01-15', '2023-05-22', '2023-11-30'])\n})\n\ndf['year'] = df['date'].dt.year\ndf['month'] = df['date'].dt.month\ndf['day'] = df['date'].dt.day\nprint(df)", "difficulty": "easy", "tags": ["pandas", "datetime", "extract"]}
{"id": "file_loading_savings_002", "category": "file-loading-savings", "question": "How to write a DataFrame to an Excel file?", "code": "import pandas as pd\n\ndf = pd.DataFrame({'Name': ['Alice', 'Bob'], 'Age': [25, 30], 'Score': [85, 92]})\n\n# Write to Excel (requires openpyxl or xlsxwriter installed)\n# df.to_excel('output.xlsx', index=False)\n# For this example, we'll just show the code\nprint(\"Code: df.to_excel('output.xlsx', index=False)\")\nprint(\"DataFrame to be saved:\")\nprint(df)", "difficulty": "easy", "tags": ["pandas", "excel", "export"]}
{"id": "categorical_encoding_002", "category": "categorical-encoding", "question": "How to perform label encoding for a categorical column?", "code": "import pandas as pd\n\n# Create DataFrame\ndf = pd.DataFrame({'Size': ['Small', 'Medium', 'Large', 'Medium', 'Small']})\nprint(\"Original:\")\nprint(df)\n\n# Map categories to codes\nsize_mapping = {'Small': 0, 'Medium': 1, 'Large': 2}\ndf['Size_encoded'] = df['Size'].map(size_mapping)\nprint(\"\\nAfter label encoding:\")\nprint(df)", "difficulty": "easy", "tags": ["pandas", "label encoding", "mapping"]}
{"id": "broadcasting_002", "category": "broadcasting", "question": "How to multiply a 2D array by a 1D array row-wise using broadcasting?", "code": "import numpy as np\n\n# 2D array (3x4)\nmatrix = np.array([[1, 2, 3, 4],\n                   [5, 6, 7, 8],\n                   [9, 10, 11, 12]])\n# 1D array (length 4)\nrow_multiplier = np.array([1, 2, 3, 4])\n\n# Multiply each row by the row_multiplier\nresult = matrix * row_multiplier  # Broadcasting\nprint(result)", "difficulty": "medium", "tags": ["numpy", "broadcasting", "multiplication"]}
{"id": "subplots_002", "category": "subplots", "question": "How to create a 2x2 grid of subplots with shared axes?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0, 2*np.pi, 100)\n\nfig, axs = plt.subplots(2, 2, figsize=(10, 8), sharex=True, sharey=True)\n\naxs[0,0].plot(x, np.sin(x), color='blue')\naxs[0,0].set_title('sin(x)')\naxs[0,0].grid(True)\n\naxs[0,1].plot(x, np.cos(x), color='red')\naxs[0,1].set_title('cos(x)')\naxs[0,1].grid(True)\n\naxs[1,0].plot(x, np.tan(x), color='green')\naxs[1,0].set_title('tan(x)')\naxs[1,0].set_ylim(-5,5)\naxs[1,0].grid(True)\n\naxs[1,1].plot(x, np.exp(-x) * np.sin(x), color='purple')\naxs[1,1].set_title('exp(-x)*sin(x)')\naxs[1,1].grid(True)\n\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "subplots", "grid", "shared axes"]}
{"id": "jointplot_002", "category": "jointplot", "question": "How to create a jointplot with regression line and kde?", "code": "import seaborn as sns\nimport numpy as np\n\n# Create correlated data\nnp.random.seed(0)\nx = np.random.randn(150)\ny = 2*x + np.random.randn(150) * 0.5\n\ng = sns.jointplot(x=x, y=y, kind='reg', color='teal', height=6)\ng.fig.suptitle('Joint Plot with Regression')\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "jointplot", "regression", "kde"]}
{"id": "signal_processing_002", "category": "signal-processing", "question": "How to compute the Fourier transform of a signal using scipy?", "code": "from scipy.fft import fft, fftfreq\nimport numpy as np\nimport matplotlib.pyplot as plt\n\n# Generate a signal: sum of two sine waves\nt = np.linspace(0, 1, 500, endpoint=False)  # 1 second sampled at 500Hz\nsignal = 5*np.sin(2*np.pi*10*t) + 2*np.sin(2*np.pi*50*t)  # 10Hz + 50Hz\n\n# Compute FFT\nyf = fft(signal)\nxf = fftfreq(len(t), 1/500)  # Frequency bins\n\n# Plot\nplt.figure(figsize=(10,4))\nplt.subplot(1,2,1)\nplt.plot(t, signal)\nplt.title('Original Signal')\nplt.xlabel('Time (s)')\n\nplt.subplot(1,2,2)\nplt.plot(xf[:len(xf)//2], 2.0/len(t) * np.abs(yf[:len(yf)//2]))  # Positive frequencies\nplt.title('Magnitude Spectrum')\nplt.xlabel('Frequency (Hz)')\nplt.grid(True)\nplt.tight_layout()\nplt.show()", "difficulty": "hard", "tags": ["scipy", "fft", "fourier", "signal processing"]}
{"id": "creating_features_002", "category": "creating-features", "question": "How to create interaction features between two numeric columns?", "code": "import pandas as pd\n\ndf = pd.DataFrame({\n    'Feature1': [1, 2, 3, 4, 5],\n    'Feature2': [10, 20, 30, 40, 50]\n})\n\ndf['Interaction'] = df['Feature1'] * df['Feature2']\ndf['Ratio'] = df['Feature1'] / df['Feature2']\nprint(df)", "difficulty": "easy", "tags": ["pandas", "feature engineering", "interaction"]}
{"id": "statistics_004", "category": "statistics", "question": "How to compute the Pearson correlation coefficient between two arrays?", "code": "import numpy as np\nfrom scipy import stats\n\nx = np.array([1, 2, 3, 4, 5])\ny = np.array([2, 4, 6, 8, 10])\n\ncorr, p_value = stats.pearsonr(x, y)\nprint(f\"Pearson correlation: {corr:.4f}\")\nprint(f\"P-value: {p_value:.4f}\")", "difficulty": "easy", "tags": ["scipy", "correlation", "pearson"]}
{"id": "heatmap_002", "category": "heatmap", "question": "How to create a heatmap without annotations but with a colorbar?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport numpy as np\n\n# Generate random matrix\ndata = np.random.rand(8, 6)\n\nsns.heatmap(data, cmap='YlOrRd', cbar_kws={'label': 'Intensity'})\nplt.title('Heatmap without Annotations')\nplt.tight_layout()\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "heatmap", "colorbar"]}
{"id": "annotations_002", "category": "annotations", "question": "How to add text annotations to multiple points in a scatter plot?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\n# Sample data\nnp.random.seed(42)\nx = np.random.rand(5) * 10\ny = np.random.rand(5) * 10\nlabels = ['Point A', 'Point B', 'Point C', 'Point D', 'Point E']\n\nplt.scatter(x, y, s=100, color='red', alpha=0.7)\n\n# Add annotations\nfor i, label in enumerate(labels):\n    plt.annotate(label, (x[i], y[i]), xytext=(5, 5), textcoords='offset points', fontsize=9)\n\nplt.title('Scatter Plot with Annotations')\nplt.xlabel('X')\nplt.ylabel('Y')\nplt.grid(True, alpha=0.3)\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "annotation", "scatter"]}
{"id": "pairplot_002", "category": "pairplot", "question": "How to create a pairplot without the diagonal plots?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Sample data\ndf = pd.DataFrame(np.random.randn(100, 4), columns=['A', 'B', 'C', 'D'])\n\n# Use 'reg' or 'scatter' for off-diagonal, and None for diagonal\ng = sns.PairGrid(df)\ng.map_offdiag(plt.scatter, alpha=0.6)\n# Leave diagonal empty\ng.map_diag(plt.hist, alpha=0.7, edgecolor='black')\nplt.suptitle('PairPlot with Empty Diagonal')\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "pairplot", "custom"]}
{"id": "optimization_002", "category": "optimization", "question": "How to minimize a function of two variables using scipy?", "code": "from scipy.optimize import minimize\nimport numpy as np\n\ndef rosenbrock(x):\n    # Rosenbrock function, minimum at (1,1)\n    return (1 - x[0])**2 + 100*(x[1] - x[0]**2)**2\n\ninitial_guess = [0, 0]\nresult = minimize(rosenbrock, initial_guess, method='Nelder-Mead')\nprint(f\"Minimum found at: ({result.x[0]:.4f}, {result.x[1]:.4f})\")\nprint(f\"Function value at minimum: {result.fun:.6f}\")", "difficulty": "hard", "tags": ["scipy", "optimization", "multivariate"]}
{"id": "styling_002", "category": "styling", "question": "How to add a legend with custom labels to a matplotlib plot?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0, 10, 100)\ny1 = np.sin(x)\ny2 = np.cos(x)\n\nline1, = plt.plot(x, y1, color='blue', linestyle='-', label='Model A')\nline2, = plt.plot(x, y2, color='red', linestyle='--', label='Model B')\n\nplt.legend(title='Models', loc='upper right', fontsize=10, frameon=True, shadow=True)\nplt.title('Plot with Custom Legend')\nplt.xlabel('X')\nplt.ylabel('Y')\nplt.grid(True, alpha=0.3)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "legend", "styling"]}
{"id": "scatterplot_002", "category": "scatterplot", "question": "How to create a scatter plot with a regression line using seaborn?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Create sample data\ndf = pd.DataFrame({\n    'X': np.random.randn(100) * 2 + 5,\n    'Y': 2.5 * (np.random.randn(100) * 2 + 5) + np.random.randn(100) * 3\n})\n\nsns.regplot(x='X', y='Y', data=df, scatter_kws={'alpha':0.6, 's':40}, line_kws={'color':'red', 'linewidth':2})\nplt.title('Scatter Plot with Linear Regression')\nplt.grid(True, alpha=0.3)\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "regplot", "regression"]}
{"id": "pandas_basics_003", "category": "pandas-basics", "question": "How to select specific columns from a DataFrame?", "code": "import pandas as pd\n\ndf = pd.DataFrame({\n    'Name': ['Alice', 'Bob', 'Charlie'],\n    'Age': [25, 30, 35],\n    'Score': [85, 92, 78],\n    'City': ['NY', 'LA', 'CHI']\n})\n\n# Select two columns\nselected = df[['Name', 'Score']]\nprint(selected)", "difficulty": "easy", "tags": ["pandas", "selection", "columns"]}
{"id": "numpy_basics_003", "category": "numpy-basics", "question": "How to create a 2D array of random numbers between 0 and 1?", "code": "import numpy as np\n\narr = np.random.rand(4, 5)  # 4 rows, 5 columns\nprint(arr)", "difficulty": "easy", "tags": ["numpy", "random", "2d array"]}
{"id": "line_plot_003", "category": "line-plot", "question": "How to change line width and add markers to a line plot?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.arange(0, 5, 0.2)\ny = x ** 2\n\nplt.plot(x, y, linewidth=3, marker='D', markersize=8, markerfacecolor='yellow', markeredgecolor='black', markeredgewidth=1)\nplt.title('Quadratic Function with Thick Line')\nplt.xlabel('X')\nplt.ylabel('Y = X^2')\nplt.grid(True)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "line", "styling"]}
{"id": "barplot_003", "category": "barplot", "question": "How to create a bar plot with error bars using seaborn?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Create data with mean and std\ndf = pd.DataFrame({\n    'Condition': ['A', 'B', 'C', 'D'],\n    'Mean': [10, 15, 12, 18],\n    'Std': [1.2, 2.1, 1.5, 2.5]\n})\n\nplt.figure(figsize=(8,5))\nsns.barplot(x='Condition', y='Mean', data=df, color='lightblue', edgecolor='black')\n# Add error bars manually\nplt.errorbar(x=df.index, y=df['Mean'], yerr=df['Std'], fmt='none', c='black', capsize=5)\nplt.title('Bar Plot with Error Bars')\nplt.ylabel('Value')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "barplot", "error bars"]}
{"id": "statistics_005", "category": "statistics", "question": "How to compute the mode of an array using scipy?", "code": "from scipy import stats\nimport numpy as np\n\ndata = np.array([1, 2, 2, 3, 3, 3, 4, 4, 5])\nmode_result = stats.mode(data)\nprint(f\"Mode: {mode_result.mode[0]}\")\nprint(f\"Count: {mode_result.count[0]}\")", "difficulty": "easy", "tags": ["scipy", "mode", "statistics"]}
{"id": "data_cleaning_003", "category": "data-cleaning", "question": "How to filter rows based on a condition?", "code": "import pandas as pd\n\ndf = pd.DataFrame({\n    'Name': ['Alice', 'Bob', 'Charlie', 'David'],\n    'Score': [85, 45, 92, 60]\n})\n\n# Filter rows where Score >= 60\nfiltered = df[df['Score'] >= 60]\nprint(filtered)", "difficulty": "easy", "tags": ["pandas", "filter", "boolean indexing"]}
{"id": "array_ops_004", "category": "array-ops", "question": "How to reshape a 1D array into a 2D array?", "code": "import numpy as np\n\narr_1d = np.arange(12)  # [0,1,2,...,11]\narr_2d = arr_1d.reshape(3, 4)  # 3 rows, 4 columns\nprint(\"Original 1D shape:\", arr_1d.shape)\nprint(\"Reshaped 2D shape:\", arr_2d.shape)\nprint(arr_2d)", "difficulty": "easy", "tags": ["numpy", "reshape", "array"]}
{"id": "scatter_plot_003", "category": "scatter-plot", "question": "How to create a 3D scatter plot using matplotlib?", "code": "import matplotlib.pyplot as plt\nfrom mpl_toolkits.mplot3d import Axes3D\nimport numpy as np\n\n# Generate random 3D data\nnp.random.seed(0)\nn = 50\nx = np.random.randn(n)\ny = np.random.randn(n)\nz = np.random.randn(n)\ncolors = np.random.rand(n)\nsizes = 100 * np.random.rand(n)\n\nfig = plt.figure(figsize=(8,6))\nax = fig.add_subplot(111, projection='3d')\nscatter = ax.scatter(x, y, z, c=colors, s=sizes, alpha=0.7, cmap='viridis')\nplt.colorbar(scatter, label='Color value')\nax.set_xlabel('X')\nax.set_ylabel('Y')\nax.set_zlabel('Z')\nax.set_title('3D Scatter Plot')\nplt.show()", "difficulty": "hard", "tags": ["matplotlib", "3d", "scatter"]}
{"id": "countplot_003", "category": "countplot", "question": "How to create a countplot with bars colored by hue?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\n\ndata = pd.DataFrame({\n    'Category': ['A', 'B', 'A', 'C', 'B', 'A', 'C', 'B', 'C', 'A'],\n    'Type': ['X', 'X', 'Y', 'Y', 'X', 'Y', 'X', 'Y', 'Y', 'X']\n})\n\nsns.countplot(x='Category', hue='Type', data=data, palette='Set3')\nplt.title('Countplot with Hue')\nplt.legend(title='Type')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "countplot", "hue"]}
{"id": "grouping_aggregation_003", "category": "grouping-aggregation", "question": "How to apply a custom aggregation function to grouped data?", "code": "import pandas as pd\nimport numpy as np\n\ndf = pd.DataFrame({\n    'Group': ['A', 'A', 'B', 'B', 'A', 'B'],\n    'Values': [10, 20, 30, 40, 15, 25]\n})\n\ndef range_func(x):\n    return x.max() - x.min()\n\nresult = df.groupby('Group')['Values'].agg(['mean', 'std', range_func])\nprint(result)", "difficulty": "medium", "tags": ["pandas", "groupby", "custom function"]}
{"id": "missing_values_003", "category": "missing-values", "question": "How to forward fill missing values (propagate last valid observation)?", "code": "import pandas as pd\nimport numpy as np\n\ndf = pd.DataFrame({\n    'A': [1, np.nan, np.nan, 4, 5],\n    'B': [10, 20, np.nan, np.nan, 50]\n})\nprint(\"Before forward fill:\\n\", df)\n\ndf_filled = df.fillna(method='ffill')\nprint(\"\\nAfter forward fill:\\n\", df_filled)", "difficulty": "easy", "tags": ["pandas", "fillna", "forward fill"]}
{"id": "vectorization_003", "category": "vectorization", "question": "How to compute element-wise trigonometric functions on an array?", "code": "import numpy as np\n\nangles = np.array([0, np.pi/4, np.pi/2, 3*np.pi/4, np.pi])\n\nsin_values = np.sin(angles)\ncos_values = np.cos(angles)\n\nprint(\"Angles:\", angles)\nprint(\"Sine:\", sin_values)\nprint(\"Cosine:\", cos_values)", "difficulty": "easy", "tags": ["numpy", "trigonometry", "vectorization"]}
{"id": "histogram_003", "category": "histogram", "question": "How to overlay multiple histograms on the same plot?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\n# Generate two datasets\ndata1 = np.random.normal(0, 1, 1000)\ndata2 = np.random.normal(2, 1.5, 800)\n\nplt.hist(data1, bins=30, alpha=0.5, label='Group 1', color='blue', edgecolor='black')\nplt.hist(data2, bins=30, alpha=0.5, label='Group 2', color='red', edgecolor='black')\nplt.title('Overlaid Histograms')\nplt.xlabel('Value')\nplt.ylabel('Frequency')\nplt.legend()\nplt.grid(True, alpha=0.3)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "histogram", "overlay"]}
{"id": "boxplot_003", "category": "boxplot", "question": "How to create a notched boxplot with matplotlib?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\n# Generate data\ndata = [np.random.normal(0, 1, 100),\n        np.random.normal(2, 1.5, 100),\n        np.random.normal(-1, 0.8, 100)]\nlabels = ['Sample 1', 'Sample 2', 'Sample 3']\n\nplt.boxplot(data, labels=labels, notch=True, patch_artist=True,\n            boxprops=dict(facecolor='lightgreen', alpha=0.7))\nplt.title('Notched Boxplots')\nplt.ylabel('Value')\nplt.grid(True, alpha=0.3)\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "boxplot", "notched"]}
{"id": "interpolation_003", "category": "interpolation", "question": "How to perform 2D interpolation on a grid using scipy?", "code": "from scipy import interpolate\nimport numpy as np\nimport matplotlib.pyplot as plt\n\n# Known grid points\nx = np.linspace(0, 5, 10)\ny = np.linspace(0, 5, 10)\nX, Y = np.meshgrid(x, y)\nZ = np.sin(X) + np.cos(Y)  # Known values\n\n# Create interpolation function\nf = interpolate.interp2d(x, y, Z, kind='cubic')\n\n# New finer grid\nx_new = np.linspace(0, 5, 30)\ny_new = np.linspace(0, 5, 30)\nZ_new = f(x_new, y_new)\n\n# Plot (optional)\nplt.figure(figsize=(10,4))\nplt.subplot(1,2,1)\nplt.contourf(X, Y, Z)\nplt.title('Original')\nplt.colorbar()\nplt.subplot(1,2,2)\nplt.contourf(x_new, y_new, Z_new)\nplt.title('Interpolated')\nplt.colorbar()\nplt.tight_layout()\nplt.show()", "difficulty": "hard", "tags": ["scipy", "interpolation", "2d"]}
{"id": "merging_joining_003", "category": "merging-joining", "question": "How to perform a left join between two DataFrames?", "code": "import pandas as pd\n\ndf1 = pd.DataFrame({'ID': [1, 2, 3, 4], 'Name': ['A', 'B', 'C', 'D']})\ndf2 = pd.DataFrame({'ID': [1, 2, 5], 'Score': [90, 85, 95]})\n\n# Left join (keep all rows from df1)\nresult = pd.merge(df1, df2, on='ID', how='left')\nprint(result)", "difficulty": "easy", "tags": ["pandas", "merge", "left join"]}
{"id": "random_generation_003", "category": "random-generation", "question": "How to shuffle an array in place?", "code": "import numpy as np\n\narr = np.arange(10)\nprint(\"Original:\", arr)\n\nnp.random.shuffle(arr)\nprint(\"Shuffled:\", arr)", "difficulty": "easy", "tags": ["numpy", "random", "shuffle"]}
{"id": "bar_plot_003", "category": "bar-plot", "question": "How to create a grouped bar chart (multiple bars per category)?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nlabels = ['Group 1', 'Group 2', 'Group 3']\nmen_means = [20, 35, 30]\nwomen_means = [25, 32, 34]\n\nx = np.arange(len(labels))\nwidth = 0.35\n\nfig, ax = plt.subplots()\nrects1 = ax.bar(x - width/2, men_means, width, label='Men', color='skyblue', edgecolor='black')\nrects2 = ax.bar(x + width/2, women_means, width, label='Women', color='lightcoral', edgecolor='black')\n\nax.set_xlabel('Groups')\nax.set_ylabel('Scores')\nax.set_title('Grouped Bar Chart')\nax.set_xticks(x)\nax.set_xticklabels(labels)\nax.legend()\n\n# Add value labels on top of bars\ndef autolabel(rects):\n    for rect in rects:\n        height = rect.get_height()\n        ax.annotate(f'{height}',\n                    xy=(rect.get_x() + rect.get_width() / 2, height),\n                    xytext=(0, 3), textcoords=\"offset points\",\n                    ha='center', va='bottom', fontsize=9)\n\nautolabel(rects1)\nautolabel(rects2)\n\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "bar", "grouped"]}
{"id": "violinplot_003", "category": "violinplot", "question": "How to adjust the bandwidth of a seaborn violin plot?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\ndata = pd.DataFrame({\n    'Category': ['A']*100 + ['B']*100,\n    'Value': np.concatenate([np.random.normal(0, 1, 100), np.random.normal(2, 2, 100)])\n})\n\nfig, (ax1, ax2) = plt.subplots(1, 2, figsize=(10,4))\n\n# Default bandwidth\nsns.violinplot(x='Category', y='Value', data=data, ax=ax1)\nax1.set_title('Default Bandwidth')\n\n# Custom bandwidth (smaller -> more detail)\nsns.violinplot(x='Category', y='Value', data=data, bw=0.2, ax=ax2)\nax2.set_title('Bandwidth = 0.2')\n\nplt.tight_layout()\nplt.show()", "difficulty": "hard", "tags": ["seaborn", "violinplot", "bandwidth"]}
{"id": "datetime_processing_003", "category": "datetime-processing", "question": "How to filter DataFrame rows based on a date range?", "code": "import pandas as pd\n\ndf = pd.DataFrame({\n    'date': pd.to_datetime(['2023-01-15', '2023-02-20', '2023-03-10', '2023-04-05']),\n    'value': [100, 200, 150, 300]\n})\n\nstart_date = '2023-02-01'\nend_date = '2023-03-31'\n\nfiltered = df[(df['date'] >= start_date) & (df['date'] <= end_date)]\nprint(filtered)", "difficulty": "easy", "tags": ["pandas", "datetime", "filter", "range"]}
{"id": "file_loading_savings_003", "category": "file-loading-savings", "question": "How to read a CSV file with a different delimiter?", "code": "import pandas as pd\nimport io\n\n# Simulating a tab-separated file\ntsv_data = \"Name\\tAge\\tScore\\nAlice\\t25\\t85\\nBob\\t30\\t92\"\ndf = pd.read_csv(io.StringIO(tsv_data), delimiter='\\t')\nprint(df)", "difficulty": "easy", "tags": ["pandas", "csv", "delimiter", "tsv"]}
{"id": "categorical_encoding_003", "category": "categorical-encoding", "question": "How to perform frequency encoding on a categorical column?", "code": "import pandas as pd\n\ndf = pd.DataFrame({\n    'City': ['NY', 'LA', 'NY', 'CHI', 'LA', 'NY', 'CHI', 'LA']\n})\n\n# Compute frequency\nfreq = df['City'].value_counts(normalize=True)\nprint(\"Frequencies:\")\nprint(freq)\n\n# Map frequencies back\ndf['City_FreqEncoded'] = df['City'].map(freq)\nprint(\"\\nDataFrame with frequency encoding:\")\nprint(df)", "difficulty": "medium", "tags": ["pandas", "frequency encoding", "categorical"]}
{"id": "broadcasting_003", "category": "broadcasting", "question": "How to subtract a 1D array from each column of a 2D array?", "code": "import numpy as np\n\n# 2D array (4x3)\nmatrix = np.array([[1, 2, 3],\n                   [4, 5, 6],\n                   [7, 8, 9],\n                   [10, 11, 12]])\n# 1D array (length 4)\ncol_subtractor = np.array([1, 2, 3, 4])\n\n# Subtract col_subtractor from each column (reshape for broadcasting)\nresult = matrix - col_subtractor[:, np.newaxis]  # col_subtractor becomes (4,1)\nprint(result)", "difficulty": "medium", "tags": ["numpy", "broadcasting", "subtraction"]}
{"id": "subplots_003", "category": "subplots", "question": "How to create subplots with different sizes using gridspec?", "code": "import matplotlib.pyplot as plt\nimport matplotlib.gridspec as gridspec\nimport numpy as np\n\nfig = plt.figure(figsize=(10, 6))\ngs = gridspec.GridSpec(2, 2, width_ratios=[1, 2], height_ratios=[2, 1])\n\nax0 = fig.add_subplot(gs[0, 0])  # Top-left\nax0.plot(np.random.rand(10))\nax0.set_title('Top Left (smaller width)')\n\nax1 = fig.add_subplot(gs[0, 1])  # Top-right\nax1.scatter(np.random.rand(20), np.random.rand(20))\nax1.set_title('Top Right (larger width)')\n\nax2 = fig.add_subplot(gs[1, :])  # Bottom spans both columns\nax2.hist(np.random.randn(1000), bins=30)\nax2.set_title('Bottom (full width)')\n\nplt.tight_layout()\nplt.show()", "difficulty": "hard", "tags": ["matplotlib", "subplots", "gridspec"]}
{"id": "jointplot_003", "category": "jointplot", "question": "How to create a jointplot with hex bins for dense data?", "code": "import seaborn as sns\nimport numpy as np\n\n# Generate dense correlated data\nnp.random.seed(0)\nx = np.random.randn(1000)\ny = x + np.random.randn(1000) * 0.5\n\ng = sns.jointplot(x=x, y=y, kind='hex', color='purple', height=6)\ng.fig.suptitle('Jointplot with Hex Bins')\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "jointplot", "hexbin"]}
{"id": "signal_processing_003", "category": "signal-processing", "question": "How to design and apply a Butterworth low-pass filter using scipy?", "code": "from scipy import signal\nimport numpy as np\nimport matplotlib.pyplot as plt\n\n# Generate a signal with two frequencies\nfs = 500  # Sampling frequency\nT = 1.0   # Duration\nt = np.linspace(0, T, int(fs*T), endpoint=False)\nsig = 2*np.sin(2*np.pi*5*t) + 1.5*np.sin(2*np.pi*50*t)  # 5Hz + 50Hz\n\n# Design Butterworth low-pass filter (cutoff at 20Hz)\nnyquist = 0.5 * fs\ncutoff = 20  # Hz\nnormal_cutoff = cutoff / nyquist\nb, a = signal.butter(4, normal_cutoff, btype='low')\n\n# Apply filter\nfiltered_sig = signal.filtfilt(b, a, sig)\n\n# Plot\nplt.figure(figsize=(10,4))\nplt.plot(t, sig, alpha=0.7, label='Original (5Hz + 50Hz)')\nplt.plot(t, filtered_sig, 'r', linewidth=2, label='Filtered (Low-pass <20Hz)')\nplt.xlabel('Time [s]')\nplt.ylabel('Amplitude')\nplt.title('Butterworth Low-pass Filter')\nplt.legend()\nplt.grid(True, alpha=0.3)\nplt.tight_layout()\nplt.show()", "difficulty": "hard", "tags": ["scipy", "signal processing", "filter", "butterworth"]}
{"id": "creating_features_003", "category": "creating-features", "question": "How to create polynomial features from a numeric column?", "code": "import pandas as pd\nimport numpy as np\n\ndf = pd.DataFrame({'X': [1, 2, 3, 4, 5]})\n\ndf['X_squared'] = df['X'] ** 2\ndf['X_cubed'] = df['X'] ** 3\ndf['X_sqrt'] = np.sqrt(df['X'])\nprint(df)", "difficulty": "easy", "tags": ["pandas", "polynomial", "feature engineering"]}
{"id": "statistics_006", "category": "statistics", "question": "How to compute the chi-squared test for independence between two categorical variables?", "code": "from scipy.stats import chi2_contingency\nimport numpy as np\n\n# Create contingency table\nobserved = np.array([[30, 10], [15, 25]])  # 2x2 table\nchi2, p, dof, expected = chi2_contingency(observed)\nprint(f\"Chi-squared statistic: {chi2:.4f}\")\nprint(f\"P-value: {p:.4f}\")\nprint(f\"Degrees of freedom: {dof}\")\nprint(f\"Expected frequencies:\\n{expected}\")", "difficulty": "medium", "tags": ["scipy", "chi-squared", "statistics"]}
{"id": "heatmap_003", "category": "heatmap", "question": "How to create a triangular correlation heatmap?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport pandas as pd\n\n# Generate correlation matrix\nnp.random.seed(0)\ndata = np.random.randn(100, 5)\ndf = pd.DataFrame(data, columns=['A', 'B', 'C', 'D', 'E'])\ncorr = df.corr()\n\n# Create mask for upper triangle\nmask = np.triu(np.ones_like(corr, dtype=bool))\n\nplt.figure(figsize=(8,6))\nsns.heatmap(corr, mask=mask, annot=True, cmap='RdBu_r', center=0, square=True, linewidths=0.5)\nplt.title('Triangular Correlation Heatmap')\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "heatmap", "triangular", "correlation"]}
{"id": "annotations_003", "category": "annotations", "question": "How to add a text box with statistics to a plot?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\n# Generate data\ndata = np.random.normal(100, 15, 200)\n\nfig, ax = plt.subplots(figsize=(8,5))\nax.hist(data, bins=20, edgecolor='black', alpha=0.7)\nax.set_title('Distribution with Statistics')\nax.set_xlabel('Value')\nax.set_ylabel('Frequency')\n\n# Calculate statistics\nstats_text = f\"Mean: {np.mean(data):.2f}\\nStd: {np.std(data):.2f}\\nMin: {np.min(data):.2f}\\nMax: {np.max(data):.2f}\"\n\n# Place text box in upper left\nprops = dict(boxstyle='round', facecolor='wheat', alpha=0.8)\nax.text(0.05, 0.95, stats_text, transform=ax.transAxes, fontsize=10,\n        verticalalignment='top', bbox=props)\n\nplt.grid(True, alpha=0.3)\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "annotation", "text box"]}
{"id": "pairplot_003", "category": "pairplot", "question": "How to create a pairplot with correlation coefficients on the upper triangle?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Sample data\ndf = pd.DataFrame(np.random.randn(100, 4), columns=['Var1', 'Var2', 'Var3', 'Var4'])\n\n# Create PairGrid\ng = sns.PairGrid(df)\ng.map_diag(sns.histplot, kde=True)\ng.map_lower(sns.scatterplot, alpha=0.6)\n\n# Add correlation coefficients to upper triangle\nfrom scipy.stats import pearsonr\nfor i in range(4):\n    for j in range(4):\n        if i < j:\n            corr = pearsonr(df.iloc[:, i], df.iloc[:, j])[0]\n            g.axes[i, j].text(0.5, 0.5, f'={corr:.2f}', \n                              transform=g.axes[i, j].transAxes,\n                              ha='center', va='center', fontsize=10,\n                              bbox=dict(boxstyle='round', facecolor='white', alpha=0.8))\n            g.axes[i, j].set_visible(True)\n        elif i > j:\n            continue\n        else:\n            continue\n\nplt.suptitle('Pairplot with Correlation Coefficients', y=1.02)\nplt.tight_layout()\nplt.show()", "difficulty": "hard", "tags": ["seaborn", "pairplot", "correlation", "custom"]}
{"id": "optimization_003", "category": "optimization", "question": "How to find the roots of a scalar function using scipy?", "code": "from scipy.optimize import root_scalar\nimport numpy as np\n\ndef f(x):\n    return x**3 - 2*x - 5  # Function whose root we want\n\n# Find root using Brent's method\nresult = root_scalar(f, bracket=[2, 3])  # Root should be between 2 and 3\nprint(f\"Root found at x = {result.root:.6f}\")\nprint(f\"Function value at root: {f(result.root):.6e}\")\nprint(f\"Number of iterations: {result.iterations}\")", "difficulty": "medium", "tags": ["scipy", "optimization", "root finding"]}
{"id": "styling_003", "category": "styling", "question": "How to use a custom color palette in a seaborn plot?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Define custom palette\ncustom_palette = ['#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FFEAA7']\nsns.set_palette(custom_palette)\n\n# Create data\ndf = pd.DataFrame({\n    'Category': ['A', 'B', 'C', 'D', 'E'],\n    'Value': [25, 32, 18, 40, 28]\n})\n\nplt.figure(figsize=(8,5))\nsns.barplot(x='Category', y='Value', data=df)\nplt.title('Bar Plot with Custom Color Palette')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "palette", "styling"]}
{"id": "scatterplot_003", "category": "scatterplot", "question": "How to create a scatter plot matrix (pairplot) for selected columns?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Create DataFrame with 6 columns\nnp.random.seed(42)\ndf = pd.DataFrame(np.random.randn(100, 6), columns=['A', 'B', 'C', 'D', 'E', 'F'])\n\n# Select only 3 columns for pairplot\nsns.pairplot(df[['A', 'B', 'C']], diag_kind='hist', plot_kws={'alpha': 0.6})\nplt.suptitle('Scatter Plot Matrix for Columns A, B, C', y=1.02)\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "pairplot", "scatter matrix"]}
{"id": "pandas_basics_004", "category": "pandas-basics", "question": "How to sort a DataFrame by a column's values?", "code": "import pandas as pd\n\ndf = pd.DataFrame({\n    'Name': ['Alice', 'Bob', 'Charlie', 'David'],\n    'Age': [25, 30, 22, 35],\n    'Score': [85, 92, 78, 88]\n})\n\n# Sort by Age in ascending order\ndf_sorted = df.sort_values('Age')\nprint(df_sorted)", "difficulty": "easy", "tags": ["pandas", "sort", "dataframe"]}
{"id": "numpy_basics_004", "category": "numpy-basics", "question": "How to create an array with evenly spaced numbers over an interval?", "code": "import numpy as np\n\n# Create array from 0 to 10 with step 0.5\narr = np.arange(0, 10.5, 0.5)\nprint(arr)", "difficulty": "easy", "tags": ["numpy", "arange", "linspace"]}
{"id": "line_plot_004", "category": "line-plot", "question": "How to plot with logarithmic scale on the y-axis?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(1, 10, 100)\ny = np.exp(x)\n\nplt.semilogy(x, y, linewidth=2)  # Log scale on y-axis\nplt.title('Exponential Growth (Log Y Scale)')\nplt.xlabel('X')\nplt.ylabel('Y (log scale)')\nplt.grid(True, which='both', alpha=0.3)\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "log scale", "semilogy"]}
{"id": "barplot_004", "category": "barplot", "question": "How to create a bar plot with a horizontal line indicating a threshold?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\n\ndata = pd.DataFrame({\n    'Month': ['Jan', 'Feb', 'Mar', 'Apr', 'May'],\n    'Sales': [120, 150, 130, 170, 140]\n})\n\nthreshold = 145\n\nsns.barplot(x='Month', y='Sales', data=data, palette='Blues_r')\nplt.axhline(y=threshold, color='red', linestyle='--', linewidth=2, label=f'Target: {threshold}')\nplt.title('Monthly Sales with Target Line')\nplt.legend()\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "barplot", "threshold", "hline"]}
{"id": "statistics_007", "category": "statistics", "question": "How to compute the skewness and kurtosis of a distribution using scipy?", "code": "from scipy.stats import skew, kurtosis\nimport numpy as np\n\ndata = np.random.normal(0, 1, 1000)  # Normal distribution\nprint(f\"Skewness: {skew(data):.4f}\")\nprint(f\"Kurtosis: {kurtosis(data):.4f}\")\nprint(f\"Excess kurtosis (normal=0): {kurtosis(data):.4f}\")", "difficulty": "medium", "tags": ["scipy", "skewness", "kurtosis", "statistics"]}
{"id": "data_cleaning_004", "category": "data-cleaning", "question": "How to change the data type of a column?", "code": "import pandas as pd\n\ndf = pd.DataFrame({\n    'A': ['1', '2', '3', '4'],\n    'B': ['5.5', '6.7', '8.9', '10.1']\n})\nprint(\"Original dtypes:\")\nprint(df.dtypes)\n\ndf['A'] = df['A'].astype(int)\ndf['B'] = df['B'].astype(float)\nprint(\"\\nAfter conversion:\")\nprint(df.dtypes)\nprint(df)", "difficulty": "easy", "tags": ["pandas", "dtype", "conversion"]}
{"id": "array_ops_005", "category": "array-ops", "question": "How to find the indices of elements that satisfy a condition?", "code": "import numpy as np\n\narr = np.array([1, 5, 2, 8, 3, 10, 4])\n\n# Find indices where arr > 5\nindices = np.where(arr > 5)[0]\nprint(\"Array:\", arr)\nprint(\"Indices where arr > 5:\", indices)\nprint(\"Values at those indices:\", arr[indices])", "difficulty": "easy", "tags": ["numpy", "where", "indexing"]}
{"id": "scatter_plot_004", "category": "scatter-plot", "question": "How to add a colorbar to a scatter plot based on a third variable?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nnp.random.seed(0)\nn = 100\nx = np.random.randn(n)\ny = np.random.randn(n)\nz = x**2 + y**2  # Third variable\n\nscatter = plt.scatter(x, y, c=z, cmap='viridis', s=50, alpha=0.7, edgecolor='black')\nplt.colorbar(scatter, label='Z = X^2 + Y^2')\nplt.title('Scatter Plot with Colorbar')\nplt.xlabel('X')\nplt.ylabel('Y')\nplt.grid(True, alpha=0.3)\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "scatter", "colorbar", "colormap"]}
{"id": "countplot_004", "category": "countplot", "question": "How to create a horizontal countplot?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\n\ndata = pd.DataFrame({\n    'Fruit': ['Apple', 'Banana', 'Apple', 'Cherry', 'Banana', 'Apple', 'Cherry', 'Banana', 'Apple']\n})\n\nsns.countplot(y='Fruit', data=data, order=data['Fruit'].value_counts().index)\nplt.title('Horizontal Countplot')\nplt.xlabel('Count')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "countplot", "horizontal"]}
{"id": "grouping_aggregation_004", "category": "grouping-aggregation", "question": "How to use pivot_table to summarize data?", "code": "import pandas as pd\nimport numpy as np\n\n# Sales data\ndf = pd.DataFrame({\n    'Region': ['North', 'North', 'South', 'South', 'North', 'South'],\n    'Product': ['A', 'B', 'A', 'B', 'A', 'B'],\n    'Sales': [100, 150, 200, 120, 180, 90]\n})\n\npivot = pd.pivot_table(df, values='Sales', index='Region', columns='Product', aggfunc=np.mean)\nprint(pivot)", "difficulty": "medium", "tags": ["pandas", "pivot_table", "aggregation"]}
{"id": "missing_values_004", "category": "missing-values", "question": "How to fill missing values with the median of each column?", "code": "import pandas as pd\nimport numpy as np\n\ndf = pd.DataFrame({\n    'A': [1, np.nan, 3, 6, np.nan],\n    'B': [np.nan, 2, 4, np.nan, 10],\n    'C': [5, 6, np.nan, 8, 9]\n})\nprint(\"Before:\\n\", df)\n\ndf_filled = df.fillna(df.median())\nprint(\"\\nAfter filling with column median:\\n\", df_filled)", "difficulty": "easy", "tags": ["pandas", "fillna", "median"]}
{"id": "vectorization_004", "category": "vectorization", "question": "How to compute the Euclidean distance between two sets of points using vectorization?", "code": "import numpy as np\n\n# Two sets of 3D points\npoints_a = np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9]])\npoints_b = np.array([[2, 3, 4], [5, 6, 7]])\n\n# Compute pairwise distances (3x2 matrix)\ndistances = np.sqrt(((points_a[:, np.newaxis, :] - points_b[np.newaxis, :, :]) ** 2).sum(axis=2))\nprint(\"Points A shape:\", points_a.shape)\nprint(\"Points B shape:\", points_b.shape)\nprint(\"Pairwise distances shape:\", distances.shape)\nprint(distances)", "difficulty": "hard", "tags": ["numpy", "euclidean distance", "vectorization"]}
{"id": "histogram_004", "category": "histogram", "question": "How to create a density histogram (normalized to probability density)?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\ndata = np.random.normal(0, 1, 1000)\n\nplt.hist(data, bins=30, density=True, edgecolor='black', alpha=0.7, color='lightgreen')\nplt.title('Density Histogram (Normalized)')\nplt.xlabel('Value')\nplt.ylabel('Probability Density')\nplt.grid(True, alpha=0.3)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "histogram", "density"]}
{"id": "boxplot_004", "category": "boxplot", "question": "How to create a boxplot showing individual data points with seaborn?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\ndf = pd.DataFrame({\n    'Group': ['A']*20 + ['B']*20 + ['C']*20,\n    'Value': np.concatenate([\n        np.random.normal(10, 2, 20),\n        np.random.normal(15, 3, 20),\n        np.random.normal(12, 2.5, 20)\n    ])\n})\n\nsns.boxplot(x='Group', y='Value', data=df, color='lightblue', width=0.5)\nsns.stripplot(x='Group', y='Value', data=df, color='black', alpha=0.5, jitter=True)\nplt.title('Boxplot with Individual Points')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "boxplot", "stripplot"]}
{"id": "interpolation_004", "category": "interpolation", "question": "How to perform piecewise linear interpolation on irregular data?", "code": "from scipy import interpolate\nimport numpy as np\nimport matplotlib.pyplot as plt\n\n# Irregularly spaced data\nx = np.array([0, 1, 2.5, 4, 6, 7])\ny = np.array([0, 1, 2.5, 2, 1.5, 0.5])\n\n# Create interpolation function\nf_linear = interpolate.interp1d(x, y, kind='linear', bounds_error=False, fill_value='extrapolate')\n\n# Evaluate on finer grid\nx_new = np.linspace(-0.5, 8, 100)\ny_new = f_linear(x_new)\n\nplt.plot(x, y, 'o', label='Original data')\nplt.plot(x_new, y_new, '-', label='Piecewise linear interpolation')\nplt.legend()\nplt.title('Piecewise Linear Interpolation')\nplt.grid(True, alpha=0.3)\nplt.show()", "difficulty": "medium", "tags": ["scipy", "interpolation", "piecewise"]}
{"id": "merging_joining_004", "category": "merging-joining", "question": "How to join DataFrames using multiple key columns?", "code": "import pandas as pd\n\ndf1 = pd.DataFrame({\n    'ID': [1, 1, 2, 3],\n    'Year': [2020, 2021, 2020, 2021],\n    'Value1': [100, 150, 200, 250]\n})\n\ndf2 = pd.DataFrame({\n    'ID': [1, 1, 2, 4],\n    'Year': [2020, 2021, 2020, 2021],\n    'Value2': [50, 60, 70, 80]\n})\n\n# Merge on both ID and Year\nresult = pd.merge(df1, df2, on=['ID', 'Year'], how='inner')\nprint(result)", "difficulty": "medium", "tags": ["pandas", "merge", "multiple keys"]}
{"id": "random_generation_004", "category": "random-generation", "question": "How to generate random numbers from a normal distribution?", "code": "import numpy as np\n\n# Generate 10 random numbers from N(mean=100, std=15)\nnormal_data = np.random.normal(loc=100, scale=15, size=10)\nprint(normal_data)", "difficulty": "easy", "tags": ["numpy", "random", "normal distribution"]}
{"id": "bar_plot_004", "category": "bar-plot", "question": "How to create a bar plot with error bars using matplotlib?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\ncategories = ['A', 'B', 'C', 'D']\nmeans = [10, 15, 7, 12]\nerrors = [1.2, 2.1, 0.8, 1.5]\n\nplt.bar(categories, means, yerr=errors, capsize=5, color='skyblue', edgecolor='black', alpha=0.8)\nplt.title('Bar Plot with Error Bars')\nplt.ylabel('Value  Error')\nplt.grid(True, alpha=0.3, axis='y')\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "bar", "error bars"]}
{"id": "violinplot_004", "category": "violinplot", "question": "How to create side-by-side violin plots for multiple groups?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Create dataset with two grouping variables\ndf = pd.DataFrame({\n    'Group': ['A']*30 + ['B']*30 + ['A']*30 + ['B']*30,\n    'Value': np.concatenate([\n        np.random.normal(10, 2, 30),\n        np.random.normal(12, 3, 30),\n        np.random.normal(8, 1.5, 30),\n        np.random.normal(14, 2.5, 30)\n    ]),\n    'Category': ['X']*60 + ['Y']*60\n})\n\nsns.violinplot(x='Group', y='Value', hue='Category', data=df, split=False, palette='muted')\nplt.title('Side-by-Side Violin Plots')\nplt.legend(title='Category')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "violinplot", "hue"]}
{"id": "datetime_processing_004", "category": "datetime-processing", "question": "How to calculate the difference between two dates in days?", "code": "import pandas as pd\n\ndf = pd.DataFrame({\n    'Start': pd.to_datetime(['2023-01-01', '2023-02-15', '2023-03-10']),\n    'End': pd.to_datetime(['2023-01-10', '2023-02-20', '2023-03-20'])\n})\n\ndf['Days_Difference'] = (df['End'] - df['Start']).dt.days\nprint(df)", "difficulty": "easy", "tags": ["pandas", "datetime", "difference"]}
{"id": "file_loading_savings_004", "category": "file-loading-savings", "question": "How to read only specific columns from a CSV file?", "code": "import pandas as pd\nimport io\n\ncsv_data = \"Name,Age,Score,City\\nAlice,25,85,NY\\nBob,30,92,LA\\nCharlie,35,78,CHI\"\n\n# Read only Name and Score columns\ndf = pd.read_csv(io.StringIO(csv_data), usecols=['Name', 'Score'])\nprint(df)", "difficulty": "easy", "tags": ["pandas", "csv", "usecols"]}
{"id": "categorical_encoding_004", "category": "categorical-encoding", "question": "How to convert a numeric column to categorical using quantile-based bins?", "code": "import pandas as pd\nimport numpy as np\n\n# Create numeric data\ndf = pd.DataFrame({\n    'Income': np.random.randint(20000, 100000, 20)\n})\n\n# Create 3 quantile-based categories\ndf['Income_Category'] = pd.qcut(df['Income'], q=3, labels=['Low', 'Medium', 'High'])\nprint(df.sort_values('Income'))", "difficulty": "medium", "tags": ["pandas", "qcut", "quantile", "categorical"]}
{"id": "broadcasting_004", "category": "broadcasting", "question": "How to compare each element of a 2D array with a 1D array using broadcasting?", "code": "import numpy as np\n\n# 2D array (3x4)\nmatrix = np.array([[1, 5, 3, 8],\n                   [4, 2, 6, 1],\n                   [7, 9, 5, 4]])\n# 1D array (length 3)\nthresholds = np.array([3, 5, 7])\n\n# Compare each row with corresponding threshold\n# Reshape thresholds to (3,1) for broadcasting\nresult = matrix > thresholds[:, np.newaxis]\nprint(\"Matrix:\")\nprint(matrix)\nprint(\"\\nThresholds:\", thresholds)\nprint(\"\\nMatrix > thresholds (row-wise):\")\nprint(result)", "difficulty": "medium", "tags": ["numpy", "broadcasting", "comparison"]}
{"id": "subplots_004", "category": "subplots", "question": "How to create a figure with multiple plots of different types?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nfig = plt.figure(figsize=(12, 8))\n\n# Line plot\nax1 = plt.subplot(2, 2, 1)\nx = np.linspace(0, 10, 100)\nax1.plot(x, np.sin(x), 'b-')\nax1.set_title('Sine Wave')\nax1.grid(True)\n\n# Scatter plot\nax2 = plt.subplot(2, 2, 2)\nx_scatter = np.random.rand(50)\ny_scatter = x_scatter + np.random.randn(50)*0.1\nax2.scatter(x_scatter, y_scatter, alpha=0.6, color='green')\nax2.set_title('Scatter Plot')\nax2.grid(True)\n\n# Histogram\nax3 = plt.subplot(2, 2, 3)\ndata = np.random.randn(1000)\nax3.hist(data, bins=30, edgecolor='black', alpha=0.7, color='orange')\nax3.set_title('Histogram')\nax3.grid(True)\n\n# Bar plot\nax4 = plt.subplot(2, 2, 4)\ncategories = ['A', 'B', 'C', 'D']\nvalues = [25, 40, 30, 35]\nax4.bar(categories, values, color='purple', alpha=0.7)\nax4.set_title('Bar Plot')\nax4.grid(True, axis='y')\n\nplt.suptitle('Multiple Plot Types', fontsize=14)\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "subplots", "multiple types"]}
{"id": "jointplot_004", "category": "jointplot", "question": "How to create a jointplot with kde density estimates on the margins?", "code": "import seaborn as sns\nimport numpy as np\n\nnp.random.seed(42)\nx = np.random.randn(300)\ny = 0.5*x + np.random.randn(300)*0.8\n\ng = sns.jointplot(x=x, y=y, kind='kde', fill=True, cmap='Blues', height=6)\ng.fig.suptitle('Jointplot with KDE')\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "jointplot", "kde"]}
{"id": "signal_processing_004", "category": "signal-processing", "question": "How to compute the power spectral density of a signal using scipy?", "code": "from scipy import signal\nimport numpy as np\nimport matplotlib.pyplot as plt\n\n# Generate signal with known frequencies\nfs = 1000  # Sampling frequency\nT = 2      # Duration\nt = np.linspace(0, T, int(fs*T), endpoint=False)\n# Signal: 50Hz sine wave + 120Hz sine wave + noise\nsig = 2*np.sin(2*np.pi*50*t) + 1*np.sin(2*np.pi*120*t) + 0.5*np.random.randn(len(t))\n\n# Compute PSD using Welch's method\nfreqs, psd = signal.welch(sig, fs, nperseg=1024)\n\nplt.figure(figsize=(10,4))\nplt.semilogy(freqs, psd)\nplt.title('Power Spectral Density (Welch\\'s method)')\nplt.xlabel('Frequency [Hz]')\nplt.ylabel('Power/Frequency [dB/Hz]')\nplt.grid(True, alpha=0.3)\nplt.tight_layout()\nplt.show()", "difficulty": "hard", "tags": ["scipy", "signal processing", "psd", "welch"]}
{"id": "creating_features_004", "category": "creating-features", "question": "How to create lag features for time series data?", "code": "import pandas as pd\n\n# Time series data\ndf = pd.DataFrame({\n    'Date': pd.date_range('2023-01-01', periods=10, freq='D'),\n    'Value': [10, 12, 15, 13, 18, 20, 17, 19, 22, 25]\n})\n\ndf['Value_Lag1'] = df['Value'].shift(1)\ndf['Value_Lag2'] = df['Value'].shift(2)\ndf['Value_Diff'] = df['Value'] - df['Value_Lag1']\nprint(df)", "difficulty": "medium", "tags": ["pandas", "lag", "time series", "feature engineering"]}
{"id": "statistics_008", "category": "statistics", "question": "How to compute confidence intervals for the mean using scipy?", "code": "import numpy as np\nfrom scipy import stats\n\ndata = np.random.normal(loc=100, scale=15, size=50)\nconfidence_level = 0.95\n\n# Calculate confidence interval\nmean = np.mean(data)\nsem = stats.sem(data)  # Standard error of the mean\nci = stats.t.interval(confidence_level, len(data)-1, loc=mean, scale=sem)\n\nprint(f\"Mean: {mean:.2f}\")\nprint(f\"95% Confidence Interval: ({ci[0]:.2f}, {ci[1]:.2f})\")\nprint(f\"Interval width: {ci[1]-ci[0]:.2f}\")", "difficulty": "medium", "tags": ["scipy", "confidence interval", "statistics"]}
{"id": "heatmap_004", "category": "heatmap", "question": "How to create a heatmap with custom row and column labels?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport numpy as np\n\n# Generate random data\ndata = np.random.rand(5, 6)\n\n# Custom labels\nrow_labels = ['Row_A', 'Row_B', 'Row_C', 'Row_D', 'Row_E']\ncol_labels = ['Col_1', 'Col_2', 'Col_3', 'Col_4', 'Col_5', 'Col_6']\n\nplt.figure(figsize=(8,6))\nsns.heatmap(data, xticklabels=col_labels, yticklabels=row_labels, \n            annot=True, fmt='.2f', cmap='coolwarm', cbar_kws={'label': 'Value'})\nplt.title('Heatmap with Custom Labels')\nplt.tight_layout()\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "heatmap", "labels"]}
{"id": "annotations_004", "category": "annotations", "question": "How to add arrows with custom styles to a plot?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0, 10, 100)\ny = np.sin(x)\n\nplt.plot(x, y, 'b-', alpha=0.7)\nplt.title('Plot with Custom Arrows')\nplt.grid(True, alpha=0.3)\n\n# Add several arrows with different styles\nplt.arrow(2, 0, 0, 0.8, head_width=0.3, head_length=0.1, fc='red', ec='red', linestyle='--')\nplt.arrow(5, -0.5, 0.5, 0.5, head_width=0.2, head_length=0.1, fc='green', ec='green', alpha=0.7)\nplt.arrow(8, 0.2, -0.8, -0.4, head_width=0.15, head_length=0.08, fc='blue', ec='blue', linewidth=2)\n\n# Add text labels\nplt.text(2, 0.9, 'Arrow 1', fontsize=9, ha='center')\nplt.text(5.6, -0.1, 'Arrow 2', fontsize=9)\nplt.text(7.5, -0.3, 'Arrow 3', fontsize=9)\n\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "arrow", "annotation"]}
{"id": "pairplot_004", "category": "pairplot", "question": "How to create a pairplot with regression lines on the upper triangle?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\nnp.random.seed(0)\ndf = pd.DataFrame(np.random.randn(100, 4), columns=['A', 'B', 'C', 'D'])\n# Add some correlation\ndf['B'] = df['A'] * 0.7 + np.random.randn(100) * 0.3\n\n# Use PairGrid for custom layout\ng = sns.PairGrid(df)\ng.map_diag(sns.histplot, kde=True)\ng.map_lower(sns.scatterplot, alpha=0.6)\ng.map_upper(sns.regplot, scatter_kws={'alpha':0.3}, line_kws={'color':'red'})\n\nplt.suptitle('Pairplot with Regression on Upper Triangle', y=1.02)\nplt.tight_layout()\nplt.show()", "difficulty": "hard", "tags": ["seaborn", "pairplot", "regression"]}
{"id": "optimization_004", "category": "optimization", "question": "How to perform curve fitting using scipy's curve_fit?", "code": "from scipy.optimize import curve_fit\nimport numpy as np\nimport matplotlib.pyplot as plt\n\n# Define the model function\ndef exponential_decay(x, a, b, c):\n    return a * np.exp(-b * x) + c\n\n# Generate synthetic data with noise\nx_data = np.linspace(0, 5, 50)\ny_true = exponential_decay(x_data, 2.5, 1.3, 0.5)\ny_noise = 0.2 * np.random.randn(len(x_data))\ny_data = y_true + y_noise\n\n# Fit the curve\nparams, covariance = curve_fit(exponential_decay, x_data, y_data, p0=[2, 1, 0])\na_fit, b_fit, c_fit = params\n\nprint(f\"Fitted parameters: a={a_fit:.3f}, b={b_fit:.3f}, c={c_fit:.3f}\")\n\n# Plot\nplt.scatter(x_data, y_data, label='Noisy data', alpha=0.6)\nplt.plot(x_data, exponential_decay(x_data, *params), 'r-', label='Fitted curve', linewidth=2)\nplt.title('Curve Fitting with scipy.curve_fit')\nplt.xlabel('X')\nplt.ylabel('Y')\nplt.legend()\nplt.grid(True, alpha=0.3)\nplt.show()", "difficulty": "hard", "tags": ["scipy", "optimization", "curve fitting"]}
{"id": "styling_004", "category": "styling", "question": "How to apply a seaborn style to all matplotlib plots?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport numpy as np\n\n# Set seaborn style\nsns.set_style(\"whitegrid\")\n\n# Create plot with the applied style\nx = np.linspace(0, 10, 100)\ny = np.sin(x)\n\nplt.figure(figsize=(8,5))\nplt.plot(x, y, linewidth=2)\nplt.title('Plot with Seaborn Whitegrid Style')\nplt.xlabel('X')\nplt.ylabel('Y')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "matplotlib", "styling", "set_style"]}
{"id": "scatterplot_004", "category": "scatterplot", "question": "How to create a bubble plot with seaborn (scatter plot with variable size)?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Create dataset with size variable\nnp.random.seed(0)\ndf = pd.DataFrame({\n    'X': np.random.randn(50),\n    'Y': np.random.randn(50) * 0.5 + 2,\n    'Size': np.random.randint(10, 200, 50),\n    'Category': np.random.choice(['A', 'B', 'C'], 50)\n})\n\nplt.figure(figsize=(8,6))\nsns.scatterplot(data=df, x='X', y='Y', size='Size', hue='Category', \n                sizes=(20, 200), alpha=0.7, palette='Set2')\nplt.title('Bubble Plot (Scatter with Variable Size)')\nplt.legend(bbox_to_anchor=(1.05, 1), loc='upper left')\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "scatterplot", "bubble", "size"]}
{"id": "pandas_basics_005", "category": "pandas-basics", "question": "How to select rows based on multiple conditions?", "code": "import pandas as pd\n\ndf = pd.DataFrame({\n    'Name': ['Alice', 'Bob', 'Charlie', 'David', 'Eve'],\n    'Age': [25, 30, 35, 28, 32],\n    'Score': [85, 92, 78, 88, 95]\n})\n\n# Select rows where Age > 28 AND Score > 90\nselected = df[(df['Age'] > 28) & (df['Score'] > 90)]\nprint(selected)", "difficulty": "easy", "tags": ["pandas", "filter", "boolean indexing"]}
{"id": "numpy_basics_005", "category": "numpy-basics", "question": "How to create a boolean mask array based on a condition?", "code": "import numpy as np\n\narr = np.array([1, 5, 2, 8, 3, 10, 4])\n\n# Create boolean mask where arr > 5\nmask = arr > 5\nprint(\"Array:\", arr)\nprint(\"Mask (arr > 5):\", mask)\nprint(\"Values where mask is True:\", arr[mask])", "difficulty": "easy", "tags": ["numpy", "boolean", "mask"]}
{"id": "line_plot_005", "category": "line-plot", "question": "How to plot a step function?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.arange(0, 10, 1)\ny = np.array([1, 3, 2, 5, 4, 7, 6, 8, 9, 5])\n\nplt.step(x, y, where='mid', linewidth=2, color='green', marker='o')\nplt.title('Step Plot (Mid)')\nplt.xlabel('X')\nplt.ylabel('Y')\nplt.grid(True, alpha=0.3)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "step", "plot"]}
{"id": "barplot_005", "category": "barplot", "question": "How to rotate x-axis labels in a seaborn bar plot?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\n\n# Create data with long category names\ndata = pd.DataFrame({\n    'LongCategoryName': ['Category Alpha', 'Category Beta', 'Category Gamma', 'Category Delta'],\n    'Value': [25, 40, 30, 35]\n})\n\nplt.figure(figsize=(8,5))\nax = sns.barplot(x='LongCategoryName', y='Value', data=data)\nplt.title('Bar Plot with Rotated X Labels')\nplt.xticks(rotation=45, ha='right')\nplt.tight_layout()\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "barplot", "rotation", "xticks"]}
{"id": "statistics_009", "category": "statistics", "question": "How to perform the Mann-Whitney U test (non-parametric t-test) using scipy?", "code": "from scipy.stats import mannwhitneyu\nimport numpy as np\n\n# Generate two sample groups\ngroup1 = np.random.exponential(scale=2.0, size=30)\ngroup2 = np.random.exponential(scale=3.0, size=35)\n\n# Perform Mann-Whitney U test\nstatistic, p_value = mannwhitneyu(group1, group2, alternative='two-sided')\nprint(f\"Mann-Whitney U statistic: {statistic:.4f}\")\nprint(f\"P-value: {p_value:.4f}\")", "difficulty": "medium", "tags": ["scipy", "mann-whitney", "non-parametric", "statistics"]}
{"id": "data_cleaning_005", "category": "data-cleaning", "question": "How to remove columns with all missing values?", "code": "import pandas as pd\nimport numpy as np\n\ndf = pd.DataFrame({\n    'A': [1, 2, 3],\n    'B': [np.nan, np.nan, np.nan],\n    'C': [4, np.nan, 6],\n    'D': [np.nan, np.nan, np.nan]\n})\nprint(\"Original DataFrame:\")\nprint(df)\n\n# Drop columns where all values are NaN\ndf_cleaned = df.dropna(axis=1, how='all')\nprint(\"\\nAfter dropping all-NaN columns:\")\nprint(df_cleaned)", "difficulty": "easy", "tags": ["pandas", "dropna", "missing values"]}
{"id": "array_ops_006", "category": "array-ops", "question": "How to compute the inverse of a matrix?", "code": "import numpy as np\n\n# Create a 3x3 matrix\nmatrix = np.array([[4, 7, 2],\n                   [3, 5, 1],\n                   [2, 4, 6]])\n\n# Compute inverse\nmatrix_inv = np.linalg.inv(matrix)\nprint(\"Original matrix:\")\nprint(matrix)\nprint(\"\\nInverse matrix:\")\nprint(matrix_inv)\n\n# Verify by multiplying matrix with its inverse\nidentity_check = np.dot(matrix, matrix_inv)\nprint(\"\\nMatrix * Inverse (should be near identity):\")\nprint(np.round(identity_check, 10))", "difficulty": "medium", "tags": ["numpy", "linear algebra", "inverse", "matrix"]}
{"id": "scatter_plot_005", "category": "scatter-plot", "question": "How to create a scatter plot with different markers for different groups?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\n# Generate data for three groups\nnp.random.seed(0)\ngroup1_x = np.random.randn(20) + 1\ngroup1_y = np.random.randn(20) + 1\ngroup2_x = np.random.randn(20) + 3\ngroup2_y = np.random.randn(20) + 3\ngroup3_x = np.random.randn(20) + 2\ngroup3_y = np.random.randn(20) + 2\n\nplt.scatter(group1_x, group1_y, marker='o', s=50, label='Group A', alpha=0.7)\nplt.scatter(group2_x, group2_y, marker='s', s=50, label='Group B', alpha=0.7)\nplt.scatter(group3_x, group3_y, marker='^', s=50, label='Group C', alpha=0.7)\nplt.title('Scatter Plot with Different Markers')\nplt.xlabel('X')\nplt.ylabel('Y')\nplt.legend()\nplt.grid(True, alpha=0.3)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "scatter", "markers"]}
{"id": "countplot_005", "category": "countplot", "question": "How to create a countplot with percentages instead of counts?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\n\ndata = pd.DataFrame({\n    'Category': ['A', 'B', 'A', 'C', 'B', 'A', 'C', 'B', 'C', 'A', 'B', 'C']\n})\n\nax = sns.countplot(x='Category', data=data)\ntotal = len(data)\nfor p in ax.patches:\n    percentage = f'{100 * p.get_height() / total:.1f}%'\n    x = p.get_x() + p.get_width() / 2\n    y = p.get_height() + 0.05\n    ax.annotate(percentage, (x, y), ha='center', va='bottom')\nplt.title('Countplot with Percentages')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "countplot", "percentage", "annotation"]}
{"id": "grouping_aggregation_005", "category": "grouping-aggregation", "question": "How to apply different aggregation functions to different columns in groupby?", "code": "import pandas as pd\n\n# Sales data\ndf = pd.DataFrame({\n    'Region': ['North', 'North', 'South', 'South', 'North', 'South'],\n    'Product': ['A', 'B', 'A', 'B', 'A', 'B'],\n    'Sales': [100, 150, 200, 120, 180, 90],\n    'Profit': [20, 30, 40, 25, 35, 15]\n})\n\n# Different aggregations for different columns\nagg_dict = {\n    'Sales': ['sum', 'mean'],\n    'Profit': ['sum', 'max']\n}\n\nresult = df.groupby(['Region', 'Product']).agg(agg_dict)\nprint(result)", "difficulty": "medium", "tags": ["pandas", "groupby", "aggregation", "multiple functions"]}
{"id": "missing_values_005", "category": "missing-values", "question": "How to interpolate missing values linearly?", "code": "import pandas as pd\nimport numpy as np\n\ndf = pd.DataFrame({\n    'Value': [1, np.nan, np.nan, 4, 5, np.nan, 7]\n})\nprint(\"Before interpolation:\\n\", df)\n\ndf_interpolated = df.interpolate(method='linear')\nprint(\"\\nAfter linear interpolation:\\n\", df_interpolated)", "difficulty": "easy", "tags": ["pandas", "interpolate", "missing values"]}
{"id": "vectorization_005", "category": "vectorization", "question": "How to compute element-wise maximum between two arrays?", "code": "import numpy as np\n\na = np.array([1, 5, 3, 8, 2])\nb = np.array([2, 4, 6, 3, 1])\n\n# Element-wise maximum\nmax_arr = np.maximum(a, b)\nprint(f\"Array a: {a}\")\nprint(f\"Array b: {b}\")\nprint(f\"Element-wise maximum: {max_arr}\")", "difficulty": "easy", "tags": ["numpy", "maximum", "vectorization"]}
{"id": "histogram_005", "category": "histogram", "question": "How to create a histogram with a fitted normal distribution?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\nfrom scipy.stats import norm\n\n# Generate normally distributed data\ndata = np.random.normal(loc=100, scale=15, size=1000)\n\n# Plot histogram\nplt.hist(data, bins=30, density=True, alpha=0.7, edgecolor='black', color='lightblue')\n\n# Fit normal distribution\nmu, std = norm.fit(data)\nxmin, xmax = plt.xlim()\nx = np.linspace(xmin, xmax, 100)\np = norm.pdf(x, mu, std)\nplt.plot(x, p, 'r', linewidth=2, label=f'Fit: ={mu:.1f}, ={std:.1f}')\n\nplt.title('Histogram with Fitted Normal Distribution')\nplt.xlabel('Value')\nplt.ylabel('Density')\nplt.legend()\nplt.grid(True, alpha=0.3)\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "histogram", "normal distribution", "scipy"]}
{"id": "boxplot_005", "category": "boxplot", "question": "How to create a horizontal boxplot?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\n# Generate data for three groups\ngroup1 = np.random.normal(100, 15, 50)\ngroup2 = np.random.normal(120, 20, 50)\ngroup3 = np.random.normal(90, 10, 50)\n\ndata = [group1, group2, group3]\nlabels = ['Group 1', 'Group 2', 'Group 3']\n\nplt.boxplot(data, labels=labels, vert=False, patch_artist=True,\n            boxprops=dict(facecolor='lightgreen', alpha=0.7))\nplt.title('Horizontal Boxplots')\nplt.xlabel('Value')\nplt.grid(True, alpha=0.3)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "boxplot", "horizontal"]}
{"id": "interpolation_005", "category": "interpolation", "question": "How to use radial basis function (RBF) interpolation in scipy?", "code": "from scipy.interpolate import Rbf\nimport numpy as np\nimport matplotlib.pyplot as plt\n\n# Known scattered 2D points\nx = np.random.rand(20) * 10\ny = np.random.rand(20) * 10\nz = np.sin(x) * np.cos(y)  # Known values\n\n# Create RBF interpolator\nrbf = Rbf(x, y, z, function='multiquadric')\n\n# Create grid for interpolation\nxi = np.linspace(0, 10, 30)\nyi = np.linspace(0, 10, 30)\nXI, YI = np.meshgrid(xi, yi)\nZI = rbf(XI, YI)\n\n# Plot\nplt.figure(figsize=(10, 4))\nplt.subplot(1, 2, 1)\nplt.scatter(x, y, c=z, s=50, edgecolor='black')\nplt.title('Original Points')\nplt.colorbar(label='z')\n\nplt.subplot(1, 2, 2)\nplt.contourf(XI, YI, ZI, levels=20, cmap='viridis')\nplt.scatter(x, y, c='red', s=20, edgecolor='black')\nplt.title('RBF Interpolation')\nplt.colorbar(label='z')\nplt.tight_layout()\nplt.show()", "difficulty": "hard", "tags": ["scipy", "interpolation", "rbf", "2d"]}
{"id": "merging_joining_005", "category": "merging-joining", "question": "How to perform a cross join (cartesian product) between DataFrames?", "code": "import pandas as pd\n\ndf1 = pd.DataFrame({'A': [1, 2]})\ndf2 = pd.DataFrame({'B': ['X', 'Y', 'Z']})\n\n# Create cross join using merge with how='cross' (pandas 1.2+)\nresult = pd.merge(df1.assign(key=1), df2.assign(key=1), on='key').drop('key', axis=1)\nprint(\"Cross join (Cartesian product):\")\nprint(result)", "difficulty": "medium", "tags": ["pandas", "merge", "cross join", "cartesian product"]}
{"id": "random_generation_005", "category": "random-generation", "question": "How to set a random seed for reproducible results?", "code": "import numpy as np\n\n# Set random seed for reproducibility\nnp.random.seed(42)\n\n# Now all random operations will be reproducible\nrand1 = np.random.rand(5)\nrand2 = np.random.randint(0, 100, 5)\n\nprint(\"First random array:\", rand1)\nprint(\"Second random array:\", rand2)", "difficulty": "easy", "tags": ["numpy", "random", "seed", "reproducibility"]}
{"id": "bar_plot_005", "category": "bar-plot", "question": "How to create a diverging bar chart (positive and negative values)?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\ncategories = ['A', 'B', 'C', 'D', 'E', 'F']\nvalues = [15, -8, 22, -5, 10, -12]\ncolors = ['green' if v >= 0 else 'red' for v in values]\n\nplt.bar(categories, values, color=colors, edgecolor='black')\nplt.axhline(y=0, color='black', linewidth=0.8)\nplt.title('Diverging Bar Chart')\nplt.ylabel('Value')\nplt.grid(True, alpha=0.3, axis='y')\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "bar", "diverging", "positive negative"]}
{"id": "violinplot_005", "category": "violinplot", "question": "How to create a half violin plot (using seaborn and matplotlib)?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Create sample data\ndata = pd.DataFrame({\n    'Group': ['A']*50 + ['B']*50,\n    'Value': np.concatenate([np.random.normal(0, 1, 50), np.random.normal(1, 1.5, 50)])\n})\n\nfig, axes = plt.subplots(1, 2, figsize=(10, 5))\n\n# Full violin plot\nsns.violinplot(x='Group', y='Value', data=data, ax=axes[0])\naxes[0].set_title('Full Violin Plot')\n\n# Half violin plot (using only left side)\nsns.violinplot(x='Group', y='Value', data=data, ax=axes[1])\naxes[1].set_title('Half Violin Plot (Customized)')\n\n# Manually adjust to show only left half\nfor violin in axes[1].collections:\n    violin.set_clip_path(plt.Rectangle((0, -3), 1.5, 6, transform=axes[1].transData))\n\nplt.tight_layout()\nplt.show()", "difficulty": "hard", "tags": ["seaborn", "violinplot", "custom", "half violin"]}
{"id": "datetime_processing_005", "category": "datetime-processing", "question": "How to extract day of week from a datetime column?", "code": "import pandas as pd\n\ndf = pd.DataFrame({\n    'date': pd.to_datetime(['2023-01-01', '2023-01-02', '2023-01-03', '2023-01-04', '2023-01-05']),\n    'value': [100, 200, 150, 300, 250]\n})\n\ndf['day_of_week'] = df['date'].dt.day_name()\ndf['day_of_week_num'] = df['date'].dt.dayofweek  # Monday=0, Sunday=6\nprint(df)", "difficulty": "easy", "tags": ["pandas", "datetime", "day of week"]}
{"id": "categorical_encoding_005", "category": "categorical-encoding", "question": "How to perform target encoding (mean encoding) for a categorical variable?", "code": "import pandas as pd\nimport numpy as np\n\n# Create sample data\nnp.random.seed(42)\ndf = pd.DataFrame({\n    'City': ['NY']*20 + ['LA']*20 + ['CHI']*20,\n    'Target': np.concatenate([\n        np.random.normal(100, 10, 20),\n        np.random.normal(110, 15, 20),\n        np.random.normal(95, 12, 20)\n    ])\n})\n\n# Calculate mean target per city\nmean_encoding = df.groupby('City')['Target'].mean().to_dict()\nprint(\"Mean encoding mapping:\", mean_encoding)\n\n# Apply encoding\ndf['City_Encoded'] = df['City'].map(mean_encoding)\nprint(\"\\nFirst few rows:\")\nprint(df.head())", "difficulty": "medium", "tags": ["pandas", "target encoding", "mean encoding", "categorical"]}
{"id": "broadcasting_005", "category": "broadcasting", "question": "How to normalize each row of a 2D array to have zero mean?", "code": "import numpy as np\n\n# Create 2D array\nmatrix = np.array([[1, 2, 3, 4],\n                   [10, 20, 30, 40],\n                   [5, 10, 15, 20]])\n\n# Normalize each row to have zero mean\nrow_means = matrix.mean(axis=1, keepdims=True)\nnormalized = matrix - row_means\n\nprint(\"Original matrix:\")\nprint(matrix)\nprint(\"\\nRow means (kept as column vector):\")\nprint(row_means)\nprint(\"\\nNormalized (zero mean per row):\")\nprint(normalized)\nprint(\"\\nCheck: New row means:\", normalized.mean(axis=1))", "difficulty": "medium", "tags": ["numpy", "broadcasting", "normalization", "mean"]}
{"id": "subplots_005", "category": "subplots", "question": "How to create a figure with subplots arranged in a custom grid layout?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nfig = plt.figure(figsize=(12, 8))\n\n# Define custom grid layout\n# Using add_subplot with specific grid positions\nax1 = plt.subplot2grid((3, 3), (0, 0), colspan=2)  # Top-left, spans 2 columns\nax2 = plt.subplot2grid((3, 3), (0, 2))              # Top-right\nax3 = plt.subplot2grid((3, 3), (1, 0))              # Middle-left\nax4 = plt.subplot2grid((3, 3), (1, 1), colspan=2, rowspan=2)  # Middle-right, spans 2 cols, 2 rows\nax5 = plt.subplot2grid((3, 3), (2, 0))              # Bottom-left\n\n# Plot on each subplot\nx = np.linspace(0, 10, 100)\nax1.plot(x, np.sin(x), 'b-')\nax1.set_title('Sine Wave (span 2 cols)')\n\nax2.plot(x, np.cos(x), 'r-')\nax2.set_title('Cosine Wave')\n\nax3.scatter(np.random.rand(20), np.random.rand(20))\nax3.set_title('Scatter Plot')\n\nax4.hist(np.random.randn(1000), bins=30, edgecolor='black')\nax4.set_title('Histogram (span 2x2)')\n\nax5.bar(['A', 'B', 'C'], [10, 20, 15])\nax5.set_title('Bar Plot')\n\nplt.suptitle('Custom Grid Layout with subplot2grid', fontsize=14)\nplt.tight_layout()\nplt.show()", "difficulty": "hard", "tags": ["matplotlib", "subplots", "grid", "subplot2grid"]}
{"id": "jointplot_005", "category": "jointplot", "question": "How to create a jointplot with marginal histograms and kernel density estimate?", "code": "import seaborn as sns\nimport numpy as np\n\nnp.random.seed(0)\nx = np.random.randn(200)\ny = 0.5*x + np.random.randn(200)*0.5\n\ng = sns.jointplot(x=x, y=y, kind='hist', height=6, marginal_kws=dict(bins=30, kde=True))\ng.fig.suptitle('Jointplot with Histograms and Marginal KDE')\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "jointplot", "histogram", "kde"]}
{"id": "signal_processing_005", "category": "signal-processing", "question": "How to compute and plot the spectrogram of a signal?", "code": "from scipy import signal\nimport numpy as np\nimport matplotlib.pyplot as plt\n\n# Generate a signal with changing frequency\nfs = 1000  # Sampling frequency\nT = 2      # Duration\nt = np.linspace(0, T, int(fs*T), endpoint=False)\n\n# Create chirp signal: frequency changes from 20Hz to 200Hz\nsig = signal.chirp(t, f0=20, f1=200, t1=T, method='linear')\n\n# Compute spectrogram\nf, t_spec, Sxx = signal.spectrogram(sig, fs, nperseg=256, noverlap=128)\n\n# Plot\nplt.figure(figsize=(10, 5))\nplt.pcolormesh(t_spec, f, 10*np.log10(Sxx), shading='gouraud', cmap='viridis')\nplt.colorbar(label='Power/Frequency (dB/Hz)')\nplt.title('Spectrogram of Chirp Signal')\nplt.xlabel('Time [s]')\nplt.ylabel('Frequency [Hz]')\nplt.tight_layout()\nplt.show()", "difficulty": "hard", "tags": ["scipy", "signal processing", "spectrogram", "chirp"]}
{"id": "creating_features_005", "category": "creating-features", "question": "How to create rolling window statistics (moving average) in pandas?", "code": "import pandas as pd\nimport numpy as np\n\n# Time series data\ndf = pd.DataFrame({\n    'Date': pd.date_range('2023-01-01', periods=20, freq='D'),\n    'Value': np.random.randint(50, 150, 20)\n})\n\ndf['MA_3'] = df['Value'].rolling(window=3).mean()\ndf['MA_7'] = df['Value'].rolling(window=7, min_periods=1).mean()\ndf['Std_5'] = df['Value'].rolling(window=5).std()\nprint(df)", "difficulty": "medium", "tags": ["pandas", "rolling", "moving average", "time series"]}
{"id": "statistics_010", "category": "statistics", "question": "How to perform ANOVA (analysis of variance) to compare multiple groups?", "code": "from scipy.stats import f_oneway\nimport numpy as np\n\n# Generate three groups of data\ngroup1 = np.random.normal(50, 10, 30)\ngroup2 = np.random.normal(55, 10, 30)\ngroup3 = np.random.normal(52, 10, 30)\n\n# Perform one-way ANOVA\nf_stat, p_value = f_oneway(group1, group2, group3)\nprint(f\"F-statistic: {f_stat:.4f}\")\nprint(f\"P-value: {p_value:.4f}\")\nif p_value < 0.05:\n    print(\"Significant difference between groups (p < 0.05)\")\nelse:\n    print(\"No significant difference between groups\")", "difficulty": "medium", "tags": ["scipy", "anova", "statistics", "hypothesis testing"]}
{"id": "heatmap_005", "category": "heatmap", "question": "How to create a heatmap with a divergent color palette centered at zero?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport numpy as np\n\n# Generate data with both positive and negative values\ndata = np.random.randn(8, 10) * 2\n\nplt.figure(figsize=(10, 8))\nsns.heatmap(data, cmap='RdBu_r', center=0, annot=True, fmt='.1f',\n            linewidths=0.5, linecolor='gray', cbar_kws={'label': 'Value'})\nplt.title('Divergent Heatmap (Centered at Zero)')\nplt.tight_layout()\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "heatmap", "divergent", "colormap"]}
{"id": "annotations_005", "category": "annotations", "question": "How to add mathematical expressions (LaTeX) to a matplotlib plot?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0, 2*np.pi, 100)\ny1 = np.sin(x)\ny2 = np.cos(x)\n\nplt.plot(x, y1, label=r'$\\sin(x)$')\nplt.plot(x, y2, label=r'$\\cos(x)$')\nplt.title(r'Trigonometric Functions: $y = \\sin(x)$ and $y = \\cos(x)$')\nplt.xlabel(r'$x$ (radians)')\nplt.ylabel(r'$y$')\n\n# Add equation annotation\nplt.annotate(r'$\\sin^2(x) + \\cos^2(x) = 1$', \n             xy=(np.pi/2, 0.5), xytext=(np.pi/2, 0.8),\n             arrowprops=dict(facecolor='black', shrink=0.05),\n             fontsize=12, ha='center')\n\nplt.legend()\nplt.grid(True, alpha=0.3)\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "annotation", "latex", "mathematical"]}
{"id": "pairplot_005", "category": "pairplot", "question": "How to create a pairplot with custom diagonal plots (e.g., density plots)?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\nnp.random.seed(0)\ndf = pd.DataFrame(np.random.randn(200, 4), columns=['A', 'B', 'C', 'D'])\n\n# Create PairGrid for full control\ng = sns.PairGrid(df)\ng.map_diag(sns.kdeplot, fill=True, alpha=0.7)  # KDE on diagonal\ng.map_lower(sns.scatterplot, alpha=0.5)         # Scatter on lower triangle\ng.map_upper(sns.kdeplot, fill=True, alpha=0.3)  # KDE on upper triangle\n\nplt.suptitle('Pairplot with Custom Diagonal (KDE)', y=1.02)\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "pairplot", "kde", "PairGrid"]}
{"id": "optimization_005", "category": "optimization", "question": "How to perform linear programming with scipy?", "code": "from scipy.optimize import linprog\nimport numpy as np\n\n# Maximize: 3x + 4y\n# Subject to:\n# x + 2y <= 14\n# 3x - y >= 0\n# x - y <= 2\n# x >= 0, y >= 0\n\nc = [-3, -4]  # Coefficients for objective (negative for maximization)\nA = [[1, 2],   # Inequality constraint matrix (LHS)\n     [-3, 1],  # Note: second constraint is >=, so we multiply by -1\n     [1, -1]]\nb = [14, 0, 2]  # RHS\nx_bounds = (0, None)\ny_bounds = (0, None)\n\nresult = linprog(c, A_ub=A, b_ub=b, bounds=[x_bounds, y_bounds], method='highs')\n\nprint(\"Status:\", result.message)\nprint(f\"Optimal x = {result.x[0]:.2f}, y = {result.x[1]:.2f}\")\nprint(f\"Maximum value = {-result.fun:.2f}\")  # Negative because we minimized -f", "difficulty": "hard", "tags": ["scipy", "optimization", "linear programming"]}
{"id": "styling_005", "category": "styling", "question": "How to create a plot with a dark background style?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\n# Set dark background style\nplt.style.use('dark_background')\n\nx = np.linspace(0, 10, 100)\ny1 = np.sin(x)\ny2 = np.cos(x)\n\nplt.plot(x, y1, label='sin(x)', linewidth=2, color='cyan')\nplt.plot(x, y2, label='cos(x)', linewidth=2, color='magenta')\nplt.title('Plot with Dark Background Style')\nplt.xlabel('X')\nplt.ylabel('Y')\nplt.legend()\nplt.grid(True, alpha=0.3)\nplt.show()\n\n# Reset to default style\nplt.style.use('default')", "difficulty": "easy", "tags": ["matplotlib", "styling", "dark background"]}
{"id": "scatterplot_005", "category": "scatterplot", "question": "How to create a scatter plot with marginal distributions using seaborn's jointplot?", "code": "import seaborn as sns\nimport numpy as np\n\nnp.random.seed(0)\nx = np.random.randn(200)\ny = 0.7*x + np.random.randn(200)*0.5\n\ng = sns.jointplot(x=x, y=y, height=6, ratio=4,\n                  marginal_kws=dict(bins=25, kde=True, fill=True),\n                  joint_kws=dict(alpha=0.6, s=40))\ng.fig.suptitle('Scatter Plot with Marginal Distributions')\ng.ax_joint.set_xlabel('X Variable')\ng.ax_joint.set_ylabel('Y Variable')\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "scatterplot", "jointplot", "marginal distributions"]}
{"id": "pandas_basics_006", "category": "pandas-basics", "question": "How to get summary statistics of a DataFrame?", "code": "import pandas as pd\nimport numpy as np\n\ndf = pd.DataFrame({\n    'A': np.random.randn(100),\n    'B': np.random.randint(0, 100, 100),\n    'C': np.random.choice(['X', 'Y', 'Z'], 100)\n})\n\nprint(\"Summary statistics for numeric columns:\")\nprint(df.describe())\nprint(\"\\nInfo about DataFrame:\")\ndf.info()", "difficulty": "easy", "tags": ["pandas", "describe", "info", "summary statistics"]}
{"id": "numpy_basics_006", "category": "numpy-basics", "question": "How to concatenate arrays along different axes?", "code": "import numpy as np\n\na = np.array([[1, 2], [3, 4]])\nb = np.array([[5, 6], [7, 8]])\n\n# Concatenate along rows (axis=0)\nc_row = np.concatenate([a, b], axis=0)\nprint(\"Concatenate along rows (axis=0):\")\nprint(c_row)\nprint(\"Shape:\", c_row.shape)\n\n# Concatenate along columns (axis=1)\nc_col = np.concatenate([a, b], axis=1)\nprint(\"\\nConcatenate along columns (axis=1):\")\nprint(c_col)\nprint(\"Shape:\", c_col.shape)", "difficulty": "easy", "tags": ["numpy", "concatenate", "arrays"]}
{"id": "line_plot_006", "category": "line-plot", "question": "How to create a plot with two y-axes (dual axis plot)?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.arange(0, 10, 0.5)\ny1 = np.sin(x)\ny2 = np.exp(x/5)\n\nfig, ax1 = plt.subplots()\n\n# First y-axis\ncolor1 = 'tab:blue'\nax1.set_xlabel('X')\nax1.set_ylabel('sin(x)', color=color1)\nline1 = ax1.plot(x, y1, color=color1, linewidth=2, label='sin(x)')\nax1.tick_params(axis='y', labelcolor=color1)\n\n# Second y-axis\nax2 = ax1.twinx()\ncolor2 = 'tab:red'\nax2.set_ylabel('exp(x/5)', color=color2)\nline2 = ax2.plot(x, y2, color=color2, linewidth=2, linestyle='--', label='exp(x/5)')\nax2.tick_params(axis='y', labelcolor=color2)\n\nplt.title('Dual Axis Plot')\n\n# Combine legends from both axes\nlines = line1 + line2\nlabels = [l.get_label() for l in lines]\nax1.legend(lines, labels, loc='upper left')\n\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "dual axis", "twinx", "plot"]}
{"id": "barplot_006", "category": "barplot", "question": "How to create a bar plot with a second y-axis for a line plot overlay?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# Create sample data\ndata = pd.DataFrame({\n    'Month': ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],\n    'Sales': [100, 150, 130, 170, 140, 200],\n    'Growth': [0, 0.5, -0.13, 0.31, -0.18, 0.43]\n})\n\nfig, ax1 = plt.subplots(figsize=(8,5))\n\n# Bar plot (primary y-axis)\nsns.barplot(x='Month', y='Sales', data=data, ax=ax1, color='lightblue', alpha=0.7)\nax1.set_ylabel('Sales ($)', color='blue')\nax1.tick_params(axis='y', labelcolor='blue')\n\n# Line plot (secondary y-axis)\nax2 = ax1.twinx()\nax2.plot(data['Month'], data['Growth'], color='red', marker='o', linewidth=2, markersize=8)\nax2.set_ylabel('Growth Rate', color='red')\nax2.tick_params(axis='y', labelcolor='red')\nax2.grid(False)\n\nplt.title('Sales and Growth Rate by Month')\nplt.tight_layout()\nplt.show()", "difficulty": "hard", "tags": ["seaborn", "barplot", "dual axis", "matplotlib"]}
{"id": "statistics_011", "category": "statistics", "question": "How to compute the Shapiro-Wilk test for normality?", "code": "from scipy.stats import shapiro\nimport numpy as np\n\n# Generate normal and non-normal data\nnormal_data = np.random.normal(0, 1, 100)\nnon_normal_data = np.random.exponential(1, 100)\n\n# Test for normality\nstat_norm, p_norm = shapiro(normal_data)\nstat_non, p_non = shapiro(non_normal_data)\n\nprint(\"Normal data:\")\nprint(f\"  Shapiro-Wilk statistic: {stat_norm:.4f}\")\nprint(f\"  P-value: {p_norm:.4f}\")\nprint(f\"  Is normal? {p_norm > 0.05}\")\n\nprint(\"\\nNon-normal (exponential) data:\")\nprint(f\"  Shapiro-Wilk statistic: {stat_non:.4f}\")\nprint(f\"  P-value: {p_non:.4f}\")\nprint(f\"  Is normal? {p_non > 0.05}\")", "difficulty": "medium", "tags": ["scipy", "shapiro-wilk", "normality test", "statistics"]}
{"id": "data_cleaning_006", "category": "data-cleaning", "question": "How to remove outliers using the IQR method?", "code": "import pandas as pd\nimport numpy as np\n\n# Create data with outliers\ndata = {'Values': [10, 12, 13, 15, 12, 14, 100, 11, 13, 12, 10, 9, 8, 110, 13, 12]}\ndf = pd.DataFrame(data)\n\n# Calculate IQR\nQ1 = df['Values'].quantile(0.25)\nQ3 = df['Values'].quantile(0.75)\nIQR = Q3 - Q1\n\n# Define bounds\nlower_bound = Q1 - 1.5 * IQR\nupper_bound = Q3 + 1.5 * IQR\n\nprint(f\"Q1: {Q1}, Q3: {Q3}, IQR: {IQR}\")\nprint(f\"Lower bound: {lower_bound}, Upper bound: {upper_bound}\")\n\n# Filter outliers\ndf_filtered = df[(df['Values'] >= lower_bound) & (df['Values'] <= upper_bound)]\nprint(f\"\\nOriginal shape: {df.shape}\")\nprint(f\"Filtered shape: {df_filtered.shape}\")\nprint(\"\\nRemoved values:\", set(df['Values']) - set(df_filtered['Values']))", "difficulty": "medium", "tags": ["pandas", "outliers", "IQR", "data cleaning"]}
{"id": "array_ops_007", "category": "array-ops", "question": "How to compute the eigenvalues and eigenvectors of a matrix?", "code": "import numpy as np\n\n# Create a symmetric matrix\nmatrix = np.array([[4, 2, 1],\n                   [2, 5, 3],\n                   [1, 3, 6]])\n\n# Compute eigenvalues and eigenvectors\neigenvalues, eigenvectors = np.linalg.eig(matrix)\n\nprint(\"Matrix:\")\nprint(matrix)\nprint(\"\\nEigenvalues:\")\nprint(eigenvalues)\nprint(\"\\nEigenvectors (columns):\")\nprint(eigenvectors)\n\n# Verify: matrix * eigenvector = eigenvalue * eigenvector\nprint(\"\\nVerification for first eigenvector:\")\nidx = 0\nleft_side = np.dot(matrix, eigenvectors[:, idx])\nright_side = eigenvalues[idx] * eigenvectors[:, idx]\nprint(\"Matrix * v:\", left_side)\nprint(\" * v:\", right_side)\nprint(\"Close?:\", np.allclose(left_side, right_side))", "difficulty": "hard", "tags": ["numpy", "linear algebra", "eigenvalues", "eigenvectors"]}
{"id": "scatter_plot_006", "category": "scatter-plot", "question": "How to create a scatter plot with a colorbar and size variation (bubble plot)?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nnp.random.seed(0)\nn = 50\nx = np.random.randn(n)\ny = np.random.randn(n)\ncolors = np.random.rand(n)\nsizes = 100 * np.random.rand(n)\n\nplt.scatter(x, y, c=colors, s=sizes, alpha=0.7, cmap='viridis', edgecolor='black')\nplt.colorbar(label='Color value')\nplt.title('Bubble Plot with Color and Size Variation')\nplt.xlabel('X')\nplt.ylabel('Y')\nplt.grid(True, alpha=0.3)\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "scatter", "bubble plot", "colorbar"]}
{"id": "countplot_006", "category": "countplot", "question": "How to create a countplot with ordered bars by count?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\n\ndata = pd.DataFrame({\n    'Category': ['B', 'A', 'C', 'B', 'A', 'A', 'C', 'B', 'A', 'C', 'C', 'B']\n})\n\n# Get order by frequency\norder = data['Category'].value_counts().index\n\nsns.countplot(x='Category', data=data, order=order, palette='Set3')\nplt.title('Countplot Ordered by Frequency')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "countplot", "ordering", "value_counts"]}
{"id": "grouping_aggregation_006", "category": "grouping-aggregation", "question": "How to calculate percentage within each group?", "code": "import pandas as pd\n\n# Sales data\ndf = pd.DataFrame({\n    'Region': ['North', 'North', 'South', 'South', 'North', 'South'],\n    'Product': ['A', 'B', 'A', 'B', 'A', 'B'],\n    'Sales': [100, 150, 200, 120, 180, 90]\n})\n\n# Calculate percentage of total sales within each region\ndf['Pct_of_Region'] = df.groupby('Region')['Sales'].transform(lambda x: x / x.sum() * 100)\nprint(df)", "difficulty": "medium", "tags": ["pandas", "groupby", "transform", "percentage"]}
{"id": "missing_values_006", "category": "missing-values", "question": "How to count missing values per column and their percentage?", "code": "import pandas as pd\nimport numpy as np\n\ndf = pd.DataFrame({\n    'A': [1, np.nan, 3, np.nan, 5],\n    'B': [np.nan, 2, 4, np.nan, 10],\n    'C': [5, 6, np.nan, 8, 9],\n    'D': [1, 2, 3, 4, 5]\n})\n\n# Calculate missing values\nmissing_counts = df.isnull().sum()\nmissing_pct = (df.isnull().sum() / len(df)) * 100\n\nmissing_df = pd.DataFrame({\n    'Missing_Count': missing_counts,\n    'Missing_Pct': missing_pct\n})\n\nprint(\"Missing values summary:\")\nprint(missing_df)", "difficulty": "easy", "tags": ["pandas", "missing values", "isnull", "percentage"]}
{"id": "vectorization_006", "category": "vectorization", "question": "How to compute the sigmoid function element-wise on an array?", "code": "import numpy as np\n\ndef sigmoid(x):\n    return 1 / (1 + np.exp(-x))\n\n# Test on array\nx = np.array([-2, -1, 0, 1, 2])\nresult = sigmoid(x)\nprint(f\"Input: {x}\")\nprint(f\"Sigmoid: {result}\")", "difficulty": "easy", "tags": ["numpy", "sigmoid", "vectorization", "mathematical functions"]}
{"id": "histogram_006", "category": "histogram", "question": "How to create a histogram with log scale on both axes?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\n# Generate data with heavy tail\ndata = np.random.exponential(scale=2.0, size=1000)\n\nplt.hist(data, bins=50, edgecolor='black', alpha=0.7)\nplt.yscale('log')\nplt.xscale('log')\nplt.title('Histogram with Log-Log Scale')\nplt.xlabel('Value (log scale)')\nplt.ylabel('Frequency (log scale)')\nplt.grid(True, alpha=0.3, which='both')\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "histogram", "log scale", "loglog"]}
{"id": "boxplot_006", "category": "boxplot", "question": "How to create a boxplot with mean markers?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\n# Generate data for three groups\ngroup1 = np.random.normal(100, 15, 50)\ngroup2 = np.random.normal(110, 20, 50)\ngroup3 = np.random.normal(90, 10, 50)\n\ndata = [group1, group2, group3]\nlabels = ['Group 1', 'Group 2', 'Group 3']\n\nfig, ax = plt.subplots()\nbox = ax.boxplot(data, labels=labels, patch_artist=True,\n                 boxprops=dict(facecolor='lightblue', alpha=0.7))\n\n# Add mean markers\nmeans = [np.mean(g) for g in data]\nax.scatter(range(1, len(means)+1), means, marker='D', color='red', s=100, zorder=3, label='Mean')\n\nax.set_title('Boxplot with Mean Markers')\nax.set_ylabel('Value')\nax.legend()\nax.grid(True, alpha=0.3)\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "boxplot", "mean", "scatter"]}
{"id": "interpolation_006", "category": "interpolation", "question": "How to perform monotonic cubic interpolation?", "code": "from scipy import interpolate\nimport numpy as np\nimport matplotlib.pyplot as plt\n\n# Data that should be monotonic\nx = np.array([0, 1, 2, 3, 4, 5])\ny = np.array([0, 2, 3, 3.5, 3.8, 4.0])  # Monotonically increasing\n\n# PCHIP (Piecewise Cubic Hermite Interpolating Polynomial) preserves monotonicity\npchip = interpolate.PchipInterpolator(x, y)\n\n# Evaluate on finer grid\nx_new = np.linspace(0, 5, 100)\ny_new = pchip(x_new)\n\nplt.plot(x, y, 'o', label='Data points')\nplt.plot(x_new, y_new, '-', label='PCHIP interpolation')\nplt.title('Monotonic Cubic Interpolation (PCHIP)')\nplt.xlabel('X')\nplt.ylabel('Y')\nplt.legend()\nplt.grid(True, alpha=0.3)\nplt.show()", "difficulty": "medium", "tags": ["scipy", "interpolation", "pchip", "monotonic"]}
{"id": "merging_joining_006", "category": "merging-joining", "question": "How to merge DataFrames with different column names for the join key?", "code": "import pandas as pd\n\ndf1 = pd.DataFrame({\n    'ID': [1, 2, 3, 4],\n    'Name': ['Alice', 'Bob', 'Charlie', 'David']\n})\n\ndf2 = pd.DataFrame({\n    'EmpID': [1, 2, 5],\n    'Salary': [50000, 60000, 70000]\n})\n\n# Merge with left_on and right_on\nresult = pd.merge(df1, df2, left_on='ID', right_on='EmpID', how='left')\nprint(result)", "difficulty": "medium", "tags": ["pandas", "merge", "left_on", "right_on"]}
{"id": "random_generation_006", "category": "random-generation", "question": "How to generate random samples from a uniform distribution?", "code": "import numpy as np\n\n# Generate 10 random numbers uniformly distributed between 0 and 1\nuniform_0_1 = np.random.rand(10)\nprint(\"Uniform [0, 1):\", uniform_0_1)\n\n# Generate 10 random numbers uniformly distributed between 5 and 15\nuniform_5_15 = np.random.uniform(low=5, high=15, size=10)\nprint(\"\\nUniform [5, 15):\", uniform_5_15)", "difficulty": "easy", "tags": ["numpy", "random", "uniform distribution"]}
{"id": "bar_plot_006", "category": "bar-plot", "question": "How to create a bar plot with hatched patterns?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\ncategories = ['A', 'B', 'C', 'D', 'E']\nvalues = [25, 40, 30, 35, 20]\npatterns = ['/', '\\\\', '|', '-', '+']\ncolors = ['lightblue', 'lightgreen', 'lightcoral', 'plum', 'khaki']\n\nbars = plt.bar(categories, values, color=colors, edgecolor='black', linewidth=1.5)\n\n# Apply hatch patterns\nfor bar, pattern in zip(bars, patterns):\n    bar.set_hatch(pattern)\n\nplt.title('Bar Plot with Hatch Patterns')\nplt.ylabel('Value')\nplt.grid(True, alpha=0.3, axis='y')\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "bar", "hatch", "patterns"]}
{"id": "violinplot_006", "category": "violinplot", "question": "How to create a violin plot with inner stick plot showing all observations?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\ndata = pd.DataFrame({\n    'Group': ['A']*30 + ['B']*30,\n    'Value': np.concatenate([np.random.normal(10, 2, 30), np.random.normal(15, 3, 30)])\n})\n\nsns.violinplot(x='Group', y='Value', data=data, inner='stick', palette='Set2')\nplt.title('Violin Plot with Inner Stick Plot')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "violinplot", "inner", "stick"]}
{"id": "datetime_processing_006", "category": "datetime-processing", "question": "How to resample time series data to different frequencies?", "code": "import pandas as pd\nimport numpy as np\n\n# Create daily time series\nidx = pd.date_range('2023-01-01', periods=30, freq='D')\ndf = pd.DataFrame({\n    'Date': idx,\n    'Value': np.random.randn(30).cumsum() + 100\n}).set_index('Date')\n\n# Resample to weekly mean\nweekly = df.resample('W').mean()\nprint(\"Weekly resampled (mean):\")\nprint(weekly.head())\n\n# Resample to monthly sum\nmonthly = df.resample('M').sum()\nprint(\"\\nMonthly resampled (sum):\")\nprint(monthly)", "difficulty": "medium", "tags": ["pandas", "datetime", "resample", "time series"]}
{"id": "file_loading_savings_006", "category": "file-loading-savings", "question": "How to write a DataFrame to CSV with specific formatting?", "code": "import pandas as pd\nimport numpy as np\n\n# Create sample DataFrame\ndf = pd.DataFrame({\n    'Name': ['Alice', 'Bob', 'Charlie'],\n    'Score': [85.5, 92.0, 78.3],\n    'Date': pd.to_datetime(['2023-01-15', '2023-02-20', '2023-03-10'])\n})\n\n# Write to CSV with specific options\n# df.to_csv('output.csv', index=False, float_format='%.2f', date_format='%Y-%m-%d')\n\n# For demonstration, write to string buffer\nfrom io import StringIO\noutput = StringIO()\ndf.to_csv(output, index=False, float_format='%.2f', date_format='%Y-%m-%d')\nprint(\"CSV output:\")\nprint(output.getvalue())", "difficulty": "medium", "tags": ["pandas", "csv", "export", "formatting"]}
{"id": "categorical_encoding_006", "category": "categorical-encoding", "question": "How to create binary (dummy) variables from a categorical column?", "code": "import pandas as pd\n\n# Create DataFrame with categorical column\ndf = pd.DataFrame({\n    'Color': ['Red', 'Blue', 'Green', 'Blue', 'Red', 'Green']\n})\n\n# Create dummy variables (same as one-hot encoding)\ndummies = pd.get_dummies(df['Color'], prefix='Color')\nprint(\"Original DataFrame:\")\nprint(df)\nprint(\"\\nDummy variables:\")\nprint(dummies)\n\n# Concatenate with original if needed\ndf_encoded = pd.concat([df, dummies], axis=1)\nprint(\"\\nConcatenated DataFrame:\")\nprint(df_encoded)", "difficulty": "easy", "tags": ["pandas", "get_dummies", "one-hot encoding", "categorical"]}
{"id": "broadcasting_006", "category": "broadcasting", "question": "How to compute outer product of two vectors?", "code": "import numpy as np\n\n# Two vectors\na = np.array([1, 2, 3])\nb = np.array([4, 5, 6, 7])\n\n# Outer product (3x4 matrix)\nouter = np.outer(a, b)\nprint(\"Vector a:\", a)\nprint(\"Vector b:\", b)\nprint(\"\\nOuter product a  b:\")\nprint(outer)\nprint(\"Shape:\", outer.shape)", "difficulty": "medium", "tags": ["numpy", "outer product", "linear algebra", "broadcasting"]}
{"id": "subplots_006", "category": "subplots", "question": "How to create a figure with subplots of different sizes using subplot_mosaic?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\nfig, axd = plt.subplot_mosaic(\n    [\n        ['line', 'line', 'scatter'],\n        ['hist', 'hist', 'scatter'],\n        ['bar', 'bar', 'bar']\n    ],\n    figsize=(12, 8),\n    constrained_layout=True\n)\n\n# Line plot\nx = np.linspace(0, 10, 100)\naxd['line'].plot(x, np.sin(x), 'b-')\naxd['line'].set_title('Line Plot')\naxd['line'].grid(True, alpha=0.3)\n\n# Scatter plot\naxd['scatter'].scatter(np.random.rand(50), np.random.rand(50), c='red', alpha=0.6)\naxd['scatter'].set_title('Scatter Plot')\naxd['scatter'].grid(True, alpha=0.3)\n\n# Histogram\naxd['hist'].hist(np.random.randn(1000), bins=30, edgecolor='black', alpha=0.7)\naxd['hist'].set_title('Histogram')\naxd['hist'].grid(True, alpha=0.3)\n\n# Bar plot\naxd['bar'].bar(['A', 'B', 'C', 'D'], [25, 40, 30, 35], color='green', alpha=0.7)\naxd['bar'].set_title('Bar Plot')\naxd['bar'].grid(True, alpha=0.3, axis='y')\n\nplt.suptitle('Figure with subplot_mosaic Layout', fontsize=14)\nplt.show()", "difficulty": "hard", "tags": ["matplotlib", "subplots", "subplot_mosaic", "layout"]}
{"id": "jointplot_006", "category": "jointplot", "question": "How to create a jointplot with hexagonal binning for large datasets?", "code": "import seaborn as sns\nimport numpy as np\n\n# Generate large dataset\nnp.random.seed(0)\nx = np.random.randn(10000)\ny = 0.7*x + np.random.randn(10000)*0.5\n\ng = sns.jointplot(x=x, y=y, kind='hex', height=7, color='purple')\ng.fig.suptitle('Hexagonal Binning for Large Dataset (10k points)')\ng.ax_joint.grid(True, alpha=0.3)\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "jointplot", "hexbin", "large data"]}
{"id": "signal_processing_006", "category": "signal-processing", "question": "How to apply a median filter to remove noise from a signal?", "code": "from scipy import signal\nimport numpy as np\nimport matplotlib.pyplot as plt\n\n# Generate noisy signal\nt = np.linspace(0, 10, 500)\nsig_clean = np.sin(t)\nsig_noisy = sig_clean + 0.5*np.random.randn(len(t))\n\n# Apply median filter\nwindow_size = 5\nsig_filtered = signal.medfilt(sig_noisy, kernel_size=window_size)\n\nplt.figure(figsize=(10, 4))\nplt.plot(t, sig_noisy, alpha=0.5, label='Noisy signal')\nplt.plot(t, sig_filtered, 'r', linewidth=2, label=f'Median filtered (window={window_size})')\nplt.plot(t, sig_clean, 'g--', linewidth=1, label='Original clean signal')\nplt.title('Median Filter for Noise Reduction')\nplt.xlabel('Time')\nplt.ylabel('Amplitude')\nplt.legend()\nplt.grid(True, alpha=0.3)\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["scipy", "signal processing", "median filter", "noise reduction"]}
{"id": "creating_features_006", "category": "creating-features", "question": "How to create features by extracting parts of a string column?", "code": "import pandas as pd\n\n# Create DataFrame with string column\ndf = pd.DataFrame({\n    'ID': ['A-001-X', 'B-002-Y', 'C-003-Z', 'D-004-X', 'E-005-Y']\n})\n\n# Extract parts using string methods\ndf['Prefix'] = df['ID'].str.split('-').str[0]\ndf['Number'] = df['ID'].str.split('-').str[1].astype(int)\ndf['Suffix'] = df['ID'].str.split('-').str[2]\n\ndf['StartsWith_A'] = df['ID'].str.startswith('A').astype(int)\ndf['Contains_X'] = df['ID'].str.contains('X').astype(int)\n\nprint(df)", "difficulty": "easy", "tags": ["pandas", "string manipulation", "feature engineering"]}
{"id": "statistics_012", "category": "statistics", "question": "How to compute the Kruskal-Wallis H-test (non-parametric ANOVA)?", "code": "from scipy.stats import kruskal\nimport numpy as np\n\n# Generate three groups of data\ngroup1 = np.random.exponential(scale=2.0, size=30)\ngroup2 = np.random.exponential(scale=3.0, size=30)\ngroup3 = np.random.exponential(scale=2.5, size=30)\n\n# Perform Kruskal-Wallis test\nstatistic, p_value = kruskal(group1, group2, group3)\nprint(f\"Kruskal-Wallis H-statistic: {statistic:.4f}\")\nprint(f\"P-value: {p_value:.4f}\")\nif p_value < 0.05:\n    print(\"Significant difference between groups (p < 0.05)\")\nelse:\n    print(\"No significant difference between groups\")", "difficulty": "medium", "tags": ["scipy", "kruskal-wallis", "non-parametric", "statistics"]}
{"id": "heatmap_006", "category": "heatmap", "question": "How to create a heatmap with categorical annotations?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport pandas as pd\n\n# Generate data\nnp.random.seed(0)\ndata = np.random.rand(5, 6)\n\n# Create categorical annotations\nannotations = pd.DataFrame(\n    np.random.choice(['Low', 'Med', 'High'], size=(5, 6)),\n    columns=[f'Col{i+1}' for i in range(6)],\n    index=[f'Row{i+1}' for i in range(5)]\n)\n\nplt.figure(figsize=(10, 8))\nsns.heatmap(data, annot=annotations, fmt='', cmap='YlOrRd', \n            cbar_kws={'label': 'Numeric Value'})\nplt.title('Heatmap with Categorical Annotations')\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "heatmap", "categorical", "annotations"]}
{"id": "annotations_006", "category": "annotations", "question": "How to add a table of data below a plot?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\n# Create plot\nx = np.arange(5)\ny = np.array([10, 20, 15, 25, 30])\nplt.bar(x, y, color='skyblue', edgecolor='black')\nplt.title('Sales Data with Summary Table')\nplt.ylabel('Sales ($1000)')\nplt.xticks(x, ['Q1', 'Q2', 'Q3', 'Q4', 'Q5'])\nplt.grid(True, alpha=0.3, axis='y')\n\n# Create table data\ntable_data = [\n    ['Quarter', 'Sales'],\n    ['Q1', '10k'],\n    ['Q2', '20k'],\n    ['Q3', '15k'],\n    ['Q4', '25k'],\n    ['Q5', '30k']\n]\n\n# Add table\nplt.table(cellText=table_data[1:], colLabels=table_data[0],\n          cellLoc='center', loc='bottom', bbox=[0.1, -0.5, 0.8, 0.3])\n\nplt.subplots_adjust(left=0.2, bottom=0.4)  # Adjust layout for table\nplt.show()", "difficulty": "hard", "tags": ["matplotlib", "table", "annotation", "layout"]}
{"id": "pairplot_006", "category": "pairplot", "question": "How to create a pairplot with regression and kernel density on diagonal?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\nnp.random.seed(0)\ndf = pd.DataFrame(np.random.randn(200, 4), columns=['A', 'B', 'C', 'D'])\n# Add some correlation\ndf['B'] = df['A'] * 0.6 + np.random.randn(200) * 0.4\n\nsns.pairplot(df, kind='reg', diag_kind='kde',\n             plot_kws={'scatter_kws': {'alpha': 0.3}, 'line_kws': {'color': 'red'}},\n             diag_kws={'fill': True})\nplt.suptitle('Pairplot with Regression and KDE', y=1.02)\nplt.tight_layout()\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "pairplot", "regression", "kde"]}
{"id": "optimization_006", "category": "optimization", "question": "How to find the minimum of a function with constraints using scipy?", "code": "from scipy.optimize import minimize\nimport numpy as np\n\n# Define objective function\ndef objective(x):\n    return x[0]**2 + x[1]**2 + x[2]**2\n\n# Define constraints\ncons = (\n    {'type': 'ineq', 'fun': lambda x: x[0] + x[1] - 2},  # x + y >= 2\n    {'type': 'eq', 'fun': lambda x: x[0] + x[1] + x[2] - 5}  # x + y + z = 5\n)\n\n# Bounds\nbounds = [(0, None), (0, None), (0, None)]\n\n# Initial guess\nx0 = [1, 1, 1]\n\n# Solve optimization problem\nresult = minimize(objective, x0, method='SLSQP', bounds=bounds, constraints=cons)\n\nprint(f\"Optimal solution: x={result.x[0]:.4f}, y={result.x[1]:.4f}, z={result.x[2]:.4f}\")\nprint(f\"Minimum value: {result.fun:.4f}\")\nprint(f\"Success: {result.success}\")\nprint(f\"Message: {result.message}\")", "difficulty": "hard", "tags": ["scipy", "optimization", "constraints", "minimize"]}
{"id": "styling_006", "category": "styling", "question": "How to customize the color cycle in matplotlib plots?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\n\n# Set custom color cycle\ncustom_colors = ['#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FFEAA7']\nplt.rcParams['axes.prop_cycle'] = plt.cycler(color=custom_colors)\n\nx = np.linspace(0, 10, 100)\n\n# Multiple lines with custom color cycle\nfor i in range(5):\n    plt.plot(x, np.sin(x + i*0.5), label=f'Line {i+1}', linewidth=2)\n\nplt.title('Plot with Custom Color Cycle')\nplt.xlabel('X')\nplt.ylabel('Y')\nplt.legend()\nplt.grid(True, alpha=0.3)\nplt.show()\n\n# Reset to default\nplt.rcParams.update(plt.rcParamsDefault)", "difficulty": "medium", "tags": ["matplotlib", "styling", "color cycle", "rcParams"]}
{"id": "scatterplot_006", "category": "scatterplot", "question": "How to create a scatter plot with a regression line and confidence interval using seaborn?", "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\nnp.random.seed(0)\ndf = pd.DataFrame({\n    'X': np.random.randn(100) * 2 + 5,\n    'Y': 2.5 * (np.random.randn(100) * 2 + 5) + np.random.randn(100) * 3\n})\n\nplt.figure(figsize=(8,6))\nsns.regplot(x='X', y='Y', data=df, \n            scatter_kws={'alpha':0.5, 's':40},\n            line_kws={'color':'red', 'linewidth':2},\n            ci=95)  # 95% confidence interval\nplt.title('Scatter Plot with Regression Line and 95% CI')\nplt.grid(True, alpha=0.3)\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "regplot", "regression", "confidence interval"]}
{"id": "pandas_basics_007", "category": "pandas-basics", "question": "How to select rows by index?", "code": "import pandas as pd\ndf = pd.DataFrame({'A': [1,2,3], 'B': [4,5,6]})\nprint(df.iloc[0])  # First row\nprint(df.loc[0])   # Same for default index", "difficulty": "easy", "tags": ["pandas", "iloc", "loc", "selection"]}
{"id": "numpy_basics_007", "category": "numpy-basics", "question": "How to create a diagonal matrix from a 1D array?", "code": "import numpy as np\narr = np.array([1,2,3,4])\ndiag_matrix = np.diag(arr)\nprint(diag_matrix)", "difficulty": "easy", "tags": ["numpy", "diag", "matrix"]}
{"id": "line_plot_007", "category": "line-plot", "question": "How to add a horizontal line to a plot?", "code": "import matplotlib.pyplot as plt\nplt.plot([1,2,3], [4,5,6])\nplt.axhline(y=5, color='r', linestyle='--')\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "axhline", "horizontal line"]}
{"id": "barplot_007", "category": "barplot", "question": "How to change bar colors in seaborn barplot?", "code": "import seaborn as sns\nimport pandas as pd\ndf = pd.DataFrame({'x': ['A','B','C'], 'y': [1,2,3]})\nsns.barplot(x='x', y='y', data=df, palette='Set2')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "barplot", "palette"]}
{"id": "statistics_013", "category": "statistics", "question": "How to calculate Spearman correlation?", "code": "from scipy.stats import spearmanr\nimport numpy as np\nx = np.array([1,2,3,4,5])\ny = np.array([2,4,1,3,5])\ncorr, p = spearmanr(x, y)\nprint(f\"Spearman : {corr:.3f}, p={p:.3f}\")", "difficulty": "medium", "tags": ["scipy", "spearman", "correlation"]}
{"id": "data_cleaning_007", "category": "data-cleaning", "question": "How to convert string to lowercase?", "code": "import pandas as pd\ndf = pd.DataFrame({'Text': ['Hello', 'WORLD', 'Python']})\ndf['Text_lower'] = df['Text'].str.lower()\nprint(df)", "difficulty": "easy", "tags": ["pandas", "string", "lowercase"]}
{"id": "array_ops_008", "category": "array-ops", "question": "How to stack arrays vertically?", "code": "import numpy as np\na = np.array([1,2,3])\nb = np.array([4,5,6])\nstacked = np.vstack([a,b])\nprint(stacked)", "difficulty": "easy", "tags": ["numpy", "vstack", "stack"]}
{"id": "scatter_plot_007", "category": "scatter-plot", "question": "How to change marker type in scatter plot?", "code": "import matplotlib.pyplot as plt\nplt.scatter([1,2,3], [4,5,6], marker='^', s=100)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "scatter", "marker"]}
{"id": "countplot_007", "category": "countplot", "question": "How to set bar colors in countplot?", "code": "import seaborn as sns\nimport pandas as pd\ndf = pd.DataFrame({'cat': ['A','B','A','C','B']})\nsns.countplot(x='cat', data=df, color='skyblue')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "countplot", "color"]}
{"id": "grouping_aggregation_007", "category": "grouping-aggregation", "question": "How to get first value in each group?", "code": "import pandas as pd\ndf = pd.DataFrame({'g': ['A','A','B','B'], 'v': [1,2,3,4]})\nfirst = df.groupby('g')['v'].first()\nprint(first)", "difficulty": "easy", "tags": ["pandas", "groupby", "first"]}
{"id": "missing_values_007", "category": "missing-values", "question": "How to fill forward then backward?", "code": "import pandas as pd\nimport numpy as np\ndf = pd.Series([1, np.nan, np.nan, 4, np.nan])\nfilled = df.ffill().bfill()\nprint(filled)", "difficulty": "easy", "tags": ["pandas", "ffill", "bfill", "missing"]}
{"id": "vectorization_007", "category": "vectorization", "question": "How to compute absolute values element-wise?", "code": "import numpy as np\narr = np.array([-1, 2, -3, 4])\nabs_arr = np.abs(arr)\nprint(abs_arr)", "difficulty": "easy", "tags": ["numpy", "abs", "absolute"]}
{"id": "histogram_007", "category": "histogram", "question": "How to set histogram bin edges manually?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\ndata = np.random.randn(100)\nbins = [-3, -2, -1, 0, 1, 2, 3]\nplt.hist(data, bins=bins)\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "histogram", "bins"]}
{"id": "boxplot_007", "category": "boxplot", "question": "How to set y-axis limits in boxplot?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\ndata = [np.random.randn(50), np.random.randn(50)]\nplt.boxplot(data)\nplt.ylim(-5,5)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "boxplot", "ylim"]}
{"id": "interpolation_007", "category": "interpolation", "question": "How to extrapolate beyond data range?", "code": "from scipy import interpolate\nimport numpy as np\nx = [0,1,2,3]\ny = [0,1,4,9]\nf = interpolate.interp1d(x, y, fill_value='extrapolate')\nprint(f(4))  # Extrapolated", "difficulty": "medium", "tags": ["scipy", "interpolation", "extrapolation"]}
{"id": "merging_joining_007", "category": "merging-joining", "question": "How to merge with index?", "code": "import pandas as pd\ndf1 = pd.DataFrame({'A': [1,2]}, index=['x','y'])\ndf2 = pd.DataFrame({'B': [3,4]}, index=['x','y'])\nresult = df1.merge(df2, left_index=True, right_index=True)\nprint(result)", "difficulty": "medium", "tags": ["pandas", "merge", "index"]}
{"id": "random_generation_007", "category": "random-generation", "question": "How to generate random choice from list?", "code": "import numpy as np\nitems = ['A','B','C','D']\nchoice = np.random.choice(items, size=5)\nprint(choice)", "difficulty": "easy", "tags": ["numpy", "random", "choice"]}
{"id": "bar_plot_007", "category": "bar-plot", "question": "How to create a bar chart with value labels?", "code": "import matplotlib.pyplot as plt\nbars = plt.bar(['A','B','C'], [10,20,15])\nfor bar in bars:\n    height = bar.get_height()\n    plt.text(bar.get_x() + bar.get_width()/2., height, f'{height}', ha='center')\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "bar", "annotation"]}
{"id": "violinplot_007", "category": "violinplot", "question": "How to set violin plot scale?", "code": "import seaborn as sns\nimport pandas as pd\ndf = pd.DataFrame({'g': ['A']*50+['B']*50, 'v': list(range(100))})\nsns.violinplot(x='g', y='v', data=df, scale='width')\nplt.show()", "difficulty": "medium", "tags": ["seaborn", "violinplot", "scale"]}
{"id": "datetime_processing_007", "category": "datetime-processing", "question": "How to format datetime as string?", "code": "import pandas as pd\ndates = pd.to_datetime(['2023-01-01', '2023-02-01'])\nformatted = dates.strftime('%Y/%m/%d')\nprint(formatted)", "difficulty": "easy", "tags": ["pandas", "datetime", "strftime"]}
{"id": "file_loading_savings_007", "category": "file-loading-savings", "question": "How to read JSON file?", "code": "import pandas as pd\nimport json\nfrom io import StringIO\njson_data = '[{\"a\":1,\"b\":2},{\"a\":3,\"b\":4}]'\ndf = pd.read_json(StringIO(json_data))\nprint(df)", "difficulty": "easy", "tags": ["pandas", "json", "read"]}
{"id": "categorical_encoding_007", "category": "categorical-encoding", "question": "How to map categories to integers?", "code": "import pandas as pd\ndf = pd.DataFrame({'cat': ['low','med','high','med']})\nmapping = {'low':0, 'med':1, 'high':2}\ndf['encoded'] = df['cat'].map(mapping)\nprint(df)", "difficulty": "easy", "tags": ["pandas", "map", "encoding"]}
{"id": "broadcasting_007", "category": "broadcasting", "question": "How to compare array with scalar?", "code": "import numpy as np\narr = np.array([1,5,3,8,2])\nmask = arr > 3\nprint(mask)", "difficulty": "easy", "tags": ["numpy", "comparison", "broadcasting"]}
{"id": "subplots_007", "category": "subplots", "question": "How to add title to each subplot?", "code": "import matplotlib.pyplot as plt\nfig, (ax1, ax2) = plt.subplots(1,2)\nax1.plot([1,2,3])\nax1.set_title('Plot 1')\nax2.scatter([1,2,3],[4,5,6])\nax2.set_title('Plot 2')\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "subplots", "title"]}
{"id": "jointplot_007", "category": "jointplot", "question": "How to set jointplot height?", "code": "import seaborn as sns\nimport numpy as np\nx, y = np.random.randn(2, 100)\ng = sns.jointplot(x=x, y=y, height=8)\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "jointplot", "size"]}
{"id": "signal_processing_007", "category": "signal-processing", "question": "How to compute convolution?", "code": "from scipy import signal\nimport numpy as np\na = [1,2,3]\nb = [0,1,0.5]\nconv = signal.convolve(a, b, mode='full')\nprint(conv)", "difficulty": "medium", "tags": ["scipy", "convolution", "signal"]}
{"id": "creating_features_007", "category": "creating-features", "question": "How to extract month from date?", "code": "import pandas as pd\ndf = pd.DataFrame({'date': pd.date_range('2023-01-01', periods=3, freq='M')})\ndf['month'] = df['date'].dt.month\nprint(df)", "difficulty": "easy", "tags": ["pandas", "datetime", "month"]}
{"id": "statistics_014", "category": "statistics", "question": "How to compute percentile?", "code": "import numpy as np\ndata = np.array([1,2,3,4,5,6,7,8,9,10])\npct = np.percentile(data, [25,50,75])\nprint(pct)", "difficulty": "easy", "tags": ["numpy", "percentile", "statistics"]}
{"id": "heatmap_007", "category": "heatmap", "question": "How to set heatmap figure size?", "code": "import seaborn as sns\nimport numpy as np\ndata = np.random.rand(5,5)\nplt.figure(figsize=(8,6))\nsns.heatmap(data)\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "heatmap", "figure size"]}
{"id": "annotations_007", "category": "annotations", "question": "How to add text to plot?", "code": "import matplotlib.pyplot as plt\nplt.plot([1,2,3],[4,5,6])\nplt.text(2, 5, 'Important Point', fontsize=12)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "text", "annotation"]}
{"id": "pairplot_007", "category": "pairplot", "question": "How to change pairplot marker size?", "code": "import seaborn as sns\nimport pandas as pd\ndf = pd.DataFrame(np.random.randn(100,3), columns=['A','B','C'])\nsns.pairplot(df, plot_kws={'s': 20})\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "pairplot", "marker size"]}
{"id": "optimization_007", "category": "optimization", "question": "How to find function root?", "code": "from scipy.optimize import fsolve\nimport numpy as np\nf = lambda x: x**2 - 4\nroot = fsolve(f, 3)\nprint(root)", "difficulty": "medium", "tags": ["scipy", "fsolve", "root"]}
{"id": "styling_007", "category": "styling", "question": "How to set plot title font size?", "code": "import matplotlib.pyplot as plt\nplt.plot([1,2,3])\nplt.title('My Plot', fontsize=16)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "title", "fontsize"]}
{"id": "scatterplot_007", "category": "scatterplot", "question": "How to set alpha transparency in seaborn scatter?", "code": "import seaborn as sns\nimport pandas as pd\ndf = pd.DataFrame({'x': [1,2,3], 'y': [4,5,6]})\nsns.scatterplot(data=df, x='x', y='y', alpha=0.5)\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "scatterplot", "alpha"]}
{"id": "pandas_basics_008", "category": "pandas-basics", "question": "How to reset index?", "code": "import pandas as pd\ndf = pd.DataFrame({'A': [1,2,3]}, index=['x','y','z'])\ndf_reset = df.reset_index()\nprint(df_reset)", "difficulty": "easy", "tags": ["pandas", "reset_index"]}
{"id": "numpy_basics_008", "category": "numpy-basics", "question": "How to calculate array mean?", "code": "import numpy as np\narr = np.array([1,2,3,4,5])\nprint(arr.mean())", "difficulty": "easy", "tags": ["numpy", "mean", "statistics"]}
{"id": "line_plot_008", "category": "line-plot", "question": "How to add vertical line?", "code": "import matplotlib.pyplot as plt\nplt.plot([1,2,3],[4,5,6])\nplt.axvline(x=2, color='r', linestyle=':')\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "axvline", "vertical line"]}
{"id": "barplot_008", "category": "barplot", "question": "How to set bar width?", "code": "import seaborn as sns\nimport pandas as pd\ndf = pd.DataFrame({'x': ['A','B'], 'y': [10,20]})\nsns.barplot(x='x', y='y', data=df, width=0.5)\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "barplot", "width"]}
{"id": "statistics_015", "category": "statistics", "question": "How to compute Z-scores?", "code": "from scipy.stats import zscore\nimport numpy as np\ndata = np.array([1,2,3,4,5])\nzscores = zscore(data)\nprint(zscores)", "difficulty": "easy", "tags": ["scipy", "zscore", "standardization"]}
{"id": "data_cleaning_008", "category": "data-cleaning", "question": "How to strip whitespace from strings?", "code": "import pandas as pd\ndf = pd.DataFrame({'text': ['  hello ', 'world  ', '  python  ']})\ndf['clean'] = df['text'].str.strip()\nprint(df)", "difficulty": "easy", "tags": ["pandas", "string", "strip"]}
{"id": "array_ops_009", "category": "array-ops", "question": "How to flatten array?", "code": "import numpy as np\narr = np.array([[1,2],[3,4]])\nflat = arr.flatten()\nprint(flat)", "difficulty": "easy", "tags": ["numpy", "flatten", "array"]}
{"id": "scatter_plot_008", "category": "scatter-plot", "question": "How to set edge color of markers?", "code": "import matplotlib.pyplot as plt\nplt.scatter([1,2,3],[4,5,6], edgecolor='black', linewidth=1)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "scatter", "edgecolor"]}
{"id": "countplot_008", "category": "countplot", "question": "How to change axis labels?", "code": "import seaborn as sns\nimport pandas as pd\ndf = pd.DataFrame({'category': ['A','B','A']})\nax = sns.countplot(x='category', data=df)\nax.set_xlabel('Category Type')\nax.set_ylabel('Count')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "countplot", "labels"]}
{"id": "grouping_aggregation_008", "category": "grouping-aggregation", "question": "How to count group sizes?", "code": "import pandas as pd\ndf = pd.DataFrame({'g': ['A','A','B','B','A'], 'v': [1,2,3,4,5]})\ncounts = df.groupby('g').size()\nprint(counts)", "difficulty": "easy", "tags": ["pandas", "groupby", "size"]}
{"id": "missing_values_008", "category": "missing-values", "question": "How to drop columns with NaN?", "code": "import pandas as pd\nimport numpy as np\ndf = pd.DataFrame({'A': [1,np.nan,3], 'B': [4,5,6]})\ndf_dropped = df.dropna(axis=1)\nprint(df_dropped)", "difficulty": "easy", "tags": ["pandas", "dropna", "columns"]}
{"id": "vectorization_008", "category": "vectorization", "question": "How to compute exponential?", "code": "import numpy as np\narr = np.array([0,1,2])\nexp_arr = np.exp(arr)\nprint(exp_arr)", "difficulty": "easy", "tags": ["numpy", "exp", "exponential"]}
{"id": "histogram_008", "category": "histogram", "question": "How to change histogram color?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\ndata = np.random.randn(100)\nplt.hist(data, color='green', alpha=0.7)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "histogram", "color"]}
{"id": "boxplot_008", "category": "boxplot", "question": "How to change box color?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\ndata = [np.random.randn(50)]\nplt.boxplot(data, boxprops=dict(facecolor='lightblue'))\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "boxplot", "color"]}
{"id": "interpolation_008", "category": "interpolation", "question": "How to use nearest neighbor interpolation?", "code": "from scipy import interpolate\nimport numpy as np\nx = [0,1,2,3]\ny = [0,1,4,9]\nf = interpolate.interp1d(x, y, kind='nearest')\nprint(f(1.8))", "difficulty": "easy", "tags": ["scipy", "interpolation", "nearest"]}
{"id": "merging_joining_008", "category": "merging-joining", "question": "How to concatenate horizontally?", "code": "import pandas as pd\ndf1 = pd.DataFrame({'A': [1,2]})\ndf2 = pd.DataFrame({'B': [3,4]})\nresult = pd.concat([df1, df2], axis=1)\nprint(result)", "difficulty": "easy", "tags": ["pandas", "concat", "axis=1"]}
{"id": "random_generation_008", "category": "random-generation", "question": "How to generate binomial random numbers?", "code": "import numpy as np\nbinomial = np.random.binomial(n=10, p=0.5, size=5)\nprint(binomial)", "difficulty": "medium", "tags": ["numpy", "binomial", "random"]}
{"id": "bar_plot_008", "category": "bar-plot", "question": "How to create horizontal bar chart?", "code": "import matplotlib.pyplot as plt\nplt.barh(['A','B','C'], [10,20,15])\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "barh", "horizontal"]}
{"id": "violinplot_008", "category": "violinplot", "question": "How to remove inner plot?", "code": "import seaborn as sns\nimport pandas as pd\ndf = pd.DataFrame({'g': ['A']*50, 'v': range(50)})\nsns.violinplot(x='g', y='v', data=df, inner=None)\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "violinplot", "inner"]}
{"id": "datetime_processing_008", "category": "datetime-processing", "question": "How to add days to date?", "code": "import pandas as pd\nfrom datetime import timedelta\ndate = pd.Timestamp('2023-01-01')\nnew_date = date + timedelta(days=7)\nprint(new_date)", "difficulty": "easy", "tags": ["pandas", "datetime", "timedelta"]}
{"id": "file_loading_savings_008", "category": "file-loading-savings", "question": "How to write JSON file?", "code": "import pandas as pd\ndf = pd.DataFrame({'A': [1,2], 'B': [3,4]})\ndf.to_json('data.json', orient='records')", "difficulty": "easy", "tags": ["pandas", "json", "export"]}
{"id": "categorical_encoding_008", "category": "categorical-encoding", "question": "How to find unique categories?", "code": "import pandas as pd\ndf = pd.DataFrame({'cat': ['A','B','A','C','B']})\nunique = df['cat'].unique()\nprint(unique)", "difficulty": "easy", "tags": ["pandas", "unique", "categorical"]}
{"id": "broadcasting_008", "category": "broadcasting", "question": "How to multiply array by scalar?", "code": "import numpy as np\narr = np.array([1,2,3])\nresult = arr * 10\nprint(result)", "difficulty": "easy", "tags": ["numpy", "multiplication", "scalar"]}
{"id": "subplots_008", "category": "subplots", "question": "How to remove space between subplots?", "code": "import matplotlib.pyplot as plt\nfig, axes = plt.subplots(1,2)\nplt.tight_layout(pad=0)\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "subplots", "tight_layout"]}
{"id": "jointplot_008", "category": "jointplot", "question": "How to add regression line to jointplot?", "code": "import seaborn as sns\nimport numpy as np\nx, y = np.random.randn(2, 100)\ng = sns.jointplot(x=x, y=y, kind='reg')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "jointplot", "reg"]}
{"id": "signal_processing_008", "category": "signal-processing", "question": "How to find peaks in signal?", "code": "from scipy.signal import find_peaks\nimport numpy as np\nx = np.array([0,1,3,2,1,2,3,5,3,1])\npeaks, _ = find_peaks(x, height=2)\nprint(peaks)", "difficulty": "medium", "tags": ["scipy", "peaks", "signal"]}
{"id": "creating_features_008", "category": "creating-features", "question": "How to calculate day of year?", "code": "import pandas as pd\ndates = pd.to_datetime(['2023-01-15', '2023-06-30'])\nday_of_year = dates.dayofyear\nprint(day_of_year)", "difficulty": "easy", "tags": ["pandas", "datetime", "dayofyear"]}
{"id": "statistics_016", "category": "statistics", "question": "How to calculate geometric mean?", "code": "from scipy.stats import gmean\nimport numpy as np\ndata = np.array([1,2,3,4,5])\ngm = gmean(data)\nprint(gm)", "difficulty": "medium", "tags": ["scipy", "gmean", "statistics"]}
{"id": "heatmap_008", "category": "heatmap", "question": "How to rotate y-axis labels?", "code": "import seaborn as sns\nimport numpy as np\ndata = np.random.rand(5,5)\nax = sns.heatmap(data)\nax.set_yticklabels(ax.get_yticklabels(), rotation=0)\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "heatmap", "rotation"]}
{"id": "annotations_008", "category": "annotations", "question": "How to add arrow with text?", "code": "import matplotlib.pyplot as plt\nplt.plot([1,2,3],[4,5,6])\nplt.annotate('Peak', xy=(2,5), xytext=(1,6), arrowprops=dict(arrowstyle='->'))\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "annotate", "arrow"]}
{"id": "pairplot_008", "category": "pairplot", "question": "How to change diagonal plot type?", "code": "import seaborn as sns\nimport pandas as pd\ndf = pd.DataFrame(np.random.randn(100,3), columns=['A','B','C'])\nsns.pairplot(df, diag_kind='hist')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "pairplot", "diag_kind"]}
{"id": "optimization_008", "category": "optimization", "question": "How to minimize with bounds?", "code": "from scipy.optimize import minimize\nimport numpy as np\nf = lambda x: (x[0]-3)**2 + (x[1]-5)**2\nbounds = [(0,10), (0,10)]\nres = minimize(f, [0,0], bounds=bounds)\nprint(res.x)", "difficulty": "hard", "tags": ["scipy", "minimize", "bounds"]}
{"id": "styling_008", "category": "styling", "question": "How to set background color?", "code": "import matplotlib.pyplot as plt\nfig, ax = plt.subplots()\nax.set_facecolor('lightgray')\nax.plot([1,2,3])\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "facecolor", "background"]}
{"id": "scatterplot_008", "category": "scatterplot", "question": "How to set point sizes by variable?", "code": "import seaborn as sns\nimport pandas as pd\ndf = pd.DataFrame({'x':[1,2,3], 'y':[4,5,6], 'size':[10,50,100]})\nsns.scatterplot(data=df, x='x', y='y', size='size')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "scatterplot", "size"]}
{"id": "pandas_basics_009", "category": "pandas-basics", "question": "How to set index column?", "code": "import pandas as pd\ndf = pd.DataFrame({'A': [1,2,3], 'B': [4,5,6]})\ndf.set_index('A', inplace=True)\nprint(df)", "difficulty": "easy", "tags": ["pandas", "set_index"]}
{"id": "numpy_basics_009", "category": "numpy-basics", "question": "How to compute array median?", "code": "import numpy as np\narr = np.array([1,2,3,4,5])\nprint(np.median(arr))", "difficulty": "easy", "tags": ["numpy", "median", "statistics"]}
{"id": "line_plot_009", "category": "line-plot", "question": "How to set line style?", "code": "import matplotlib.pyplot as plt\nplt.plot([1,2,3], linestyle='--', linewidth=2)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "linestyle", "linewidth"]}
{"id": "barplot_009", "category": "barplot", "question": "How to set bar edge color?", "code": "import seaborn as sns\nimport pandas as pd\ndf = pd.DataFrame({'x': ['A','B'], 'y': [10,20]})\nsns.barplot(x='x', y='y', data=df, edgecolor='black', linewidth=2)\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "barplot", "edgecolor"]}
{"id": "statistics_017", "category": "statistics", "question": "How to compute Kendall's tau?", "code": "from scipy.stats import kendalltau\nimport numpy as np\nx = np.array([1,2,3,4,5])\ny = np.array([2,4,1,3,5])\ntau, p = kendalltau(x, y)\nprint(f\": {tau:.3f}, p={p:.3f}\")", "difficulty": "medium", "tags": ["scipy", "kendalltau", "correlation"]}
{"id": "data_cleaning_009", "category": "data-cleaning", "question": "How to replace values?", "code": "import pandas as pd\ndf = pd.DataFrame({'A': [1,2,3,4,5]})\ndf['A'] = df['A'].replace(3, 99)\nprint(df)", "difficulty": "easy", "tags": ["pandas", "replace", "values"]}
{"id": "array_ops_010", "category": "array-ops", "question": "How to compute array standard deviation?", "code": "import numpy as np\narr = np.array([1,2,3,4,5])\nprint(arr.std())", "difficulty": "easy", "tags": ["numpy", "std", "standard deviation"]}
{"id": "scatter_plot_009", "category": "scatter-plot", "question": "How to use colormap in scatter?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\nx = np.random.rand(50)\ny = np.random.rand(50)\nc = np.random.rand(50)\nplt.scatter(x, y, c=c, cmap='viridis')\nplt.colorbar()\nplt.show()", "difficulty": "medium", "tags": ["matplotlib", "scatter", "colormap"]}
{"id": "countplot_009", "category": "countplot", "question": "How to set figure title?", "code": "import seaborn as sns\nimport pandas as pd\ndf = pd.DataFrame({'cat': ['A','B','A','C','B']})\nax = sns.countplot(x='cat', data=df)\nax.set_title('Category Counts')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "countplot", "title"]}
{"id": "grouping_aggregation_009", "category": "grouping-aggregation", "question": "How to get last value in group?", "code": "import pandas as pd\ndf = pd.DataFrame({'g': ['A','A','B','B'], 'v': [1,2,3,4]})\nlast = df.groupby('g')['v'].last()\nprint(last)", "difficulty": "easy", "tags": ["pandas", "groupby", "last"]}
{"id": "missing_values_009", "category": "missing-values", "question": "How to check if any value is NaN?", "code": "import pandas as pd\nimport numpy as np\ndf = pd.DataFrame({'A': [1, np.nan, 3]})\nprint(df.isnull().any().any())", "difficulty": "easy", "tags": ["pandas", "isnull", "any"]}
{"id": "vectorization_009", "category": "vectorization", "question": "How to compute natural log?", "code": "import numpy as np\narr = np.array([1, np.e, np.e**2])\nlog_arr = np.log(arr)\nprint(log_arr)", "difficulty": "easy", "tags": ["numpy", "log", "logarithm"]}
{"id": "histogram_009", "category": "histogram", "question": "How to set number of bins?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\ndata = np.random.randn(1000)\nplt.hist(data, bins=50)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "histogram", "bins"]}
{"id": "boxplot_009", "category": "boxplot", "question": "How to show outliers?", "code": "import matplotlib.pyplot as plt\nimport numpy as np\ndata = [np.random.randn(50)]\nplt.boxplot(data, showfliers=True)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "boxplot", "outliers"]}
{"id": "interpolation_009", "category": "interpolation", "question": "How to use quadratic interpolation?", "code": "from scipy import interpolate\nimport numpy as np\nx = [0,1,2,3]\ny = [0,1,4,9]\nf = interpolate.interp1d(x, y, kind='quadratic')\nprint(f(1.5))", "difficulty": "medium", "tags": ["scipy", "interpolation", "quadratic"]}
{"id": "merging_joining_009", "category": "merging-joining", "question": "How to merge with suffix for overlapping columns?", "code": "import pandas as pd\ndf1 = pd.DataFrame({'key': [1,2], 'value': ['A','B']})\ndf2 = pd.DataFrame({'key': [1,2], 'value': ['C','D']})\nresult = pd.merge(df1, df2, on='key', suffixes=('_left', '_right'))\nprint(result)", "difficulty": "medium", "tags": ["pandas", "merge", "suffixes"]}
{"id": "random_generation_009", "category": "random-generation", "question": "How to generate Poisson random numbers?", "code": "import numpy as np\npoisson = np.random.poisson(lam=5, size=10)\nprint(poisson)", "difficulty": "medium", "tags": ["numpy", "poisson", "random"]}
{"id": "bar_plot_009", "category": "bar-plot", "question": "How to set bar colors individually?", "code": "import matplotlib.pyplot as plt\ncolors = ['red', 'green', 'blue']\nplt.bar(['A','B','C'], [10,20,15], color=colors)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "bar", "color"]}
{"id": "violinplot_009", "category": "violinplot", "question": "How to set color palette?", "code": "import seaborn as sns\nimport pandas as pd\ndf = pd.DataFrame({'g': ['A']*25+['B']*25, 'v': range(50)})\nsns.violinplot(x='g', y='v', data=df, palette='Set2')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "violinplot", "palette"]}
{"id": "datetime_processing_009", "category": "datetime-processing", "question": "How to extract hour from datetime?", "code": "import pandas as pd\ndates = pd.to_datetime(['2023-01-01 14:30', '2023-01-01 18:45'])\nhour = dates.hour\nprint(hour)", "difficulty": "easy", "tags": ["pandas", "datetime", "hour"]}
{"id": "file_loading_savings_009", "category": "file-loading-savings", "question": "How to read Excel file?", "code": "import pandas as pd\n# df = pd.read_excel('file.xlsx')\nprint(\"Use: pd.read_excel('file.xlsx')\")", "difficulty": "easy", "tags": ["pandas", "excel", "read"]}
{"id": "categorical_encoding_009", "category": "categorical-encoding", "question": "How to count category frequencies?", "code": "import pandas as pd\ndf = pd.DataFrame({'cat': ['A','B','A','C','B','A']})\ncounts = df['cat'].value_counts()\nprint(counts)", "difficulty": "easy", "tags": ["pandas", "value_counts", "categorical"]}
{"id": "broadcasting_009", "category": "broadcasting", "question": "How to divide array by scalar?", "code": "import numpy as np\narr = np.array([10,20,30])\nresult = arr / 10\nprint(result)", "difficulty": "easy", "tags": ["numpy", "division", "scalar"]}
{"id": "subplots_009", "category": "subplots", "question": "How to save figure?", "code": "import matplotlib.pyplot as plt\nplt.plot([1,2,3])\nplt.savefig('plot.png', dpi=300, bbox_inches='tight')\nplt.close()", "difficulty": "easy", "tags": ["matplotlib", "savefig", "export"]}
{"id": "jointplot_009", "category": "jointplot", "question": "How to set axis labels?", "code": "import seaborn as sns\nimport numpy as np\nx, y = np.random.randn(2, 100)\ng = sns.jointplot(x=x, y=y)\ng.ax_joint.set_xlabel('X Variable')\ng.ax_joint.set_ylabel('Y Variable')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "jointplot", "labels"]}
{"id": "signal_processing_009", "category": "signal-processing", "question": "How to apply Hilbert transform?", "code": "from scipy.signal import hilbert\nimport numpy as np\nsignal = np.array([1,2,3,4,3,2,1])\nanalytic = hilbert(signal)\nprint(analytic[:3])", "difficulty": "hard", "tags": ["scipy", "hilbert", "signal"]}
{"id": "creating_features_009", "category": "creating-features", "question": "How to create indicator for weekend?", "code": "import pandas as pd\ndates = pd.to_datetime(['2023-01-14', '2023-01-15', '2023-01-16'])\nis_weekend = dates.dayofweek >= 5\nprint(is_weekend)", "difficulty": "easy", "tags": ["pandas", "datetime", "weekend"]}
{"id": "statistics_018", "category": "statistics", "question": "How to compute harmonic mean?", "code": "from scipy.stats import hmean\nimport numpy as np\ndata = np.array([1,2,3,4,5])\nhm = hmean(data)\nprint(hm)", "difficulty": "medium", "tags": ["scipy", "hmean", "statistics"]}
{"id": "heatmap_009", "category": "heatmap", "question": "How to set annotation format?", "code": "import seaborn as sns\nimport numpy as np\ndata = np.random.rand(3,3)\nsns.heatmap(data, annot=True, fmt='.2f')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "heatmap", "fmt"]}
{"id": "annotations_009", "category": "annotations", "question": "How to add legend?", "code": "import matplotlib.pyplot as plt\nplt.plot([1,2,3], label='Line 1')\nplt.plot([3,2,1], label='Line 2')\nplt.legend()\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "legend"]}
{"id": "pairplot_009", "category": "pairplot", "question": "How to set corner plots only?", "code": "import seaborn as sns\nimport pandas as pd\ndf = pd.DataFrame(np.random.randn(100,4), columns=['A','B','C','D'])\nsns.pairplot(df, corner=True)\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "pairplot", "corner"]}
{"id": "optimization_009", "category": "optimization", "question": "How to find global minimum with basinhopping?", "code": "from scipy.optimize import basinhopping\nimport numpy as np\nf = lambda x: np.cos(2*np.pi*x).sum()\nx0 = [1,1]\nres = basinhopping(f, x0, niter=10)\nprint(res.x)", "difficulty": "hard", "tags": ["scipy", "basinhopping", "global optimization"]}
{"id": "styling_009", "category": "styling", "question": "How to set grid style?", "code": "import matplotlib.pyplot as plt\nplt.plot([1,2,3])\nplt.grid(True, linestyle=':', alpha=0.5)\nplt.show()", "difficulty": "easy", "tags": ["matplotlib", "grid", "styling"]}
{"id": "scatterplot_009", "category": "scatterplot", "question": "How to set marker style?", "code": "import seaborn as sns\nimport pandas as pd\ndf = pd.DataFrame({'x':[1,2,3], 'y':[4,5,6], 'type':['A','B','A']})\nsns.scatterplot(data=df, x='x', y='y', style='type')\nplt.show()", "difficulty": "easy", "tags": ["seaborn", "scatterplot", "style"]}
{"id": "pandas_plot_001", "category": "lineplot", "question": "How to create a basic line plot in pandas?", "code": "import pandas as pd\nimport matplotlib.pyplot as plt\ndf = pd.DataFrame({'x':[1,2,3], 'y':[4,5,6]})\ndf.plot()\nplt.show()", "difficulty": "easy", "tags": ["pandas", "lineplot"]}
{"id": "pandas_plot_002", "category": "scatterplot", "question": "How to create a scatter plot?", "code": "import pandas as pd\nimport matplotlib.pyplot as plt\ndf = pd.DataFrame({'x':[1,2,3], 'y':[4,5,6]})\ndf.plot.scatter(x='x', y='y')\nplt.show()", "difficulty": "easy", "tags": ["pandas", "scatterplot"]}
{"id": "pandas_plot_004", "category": "histogram", "question": "How to create a histogram?", "code": "import pandas as pd\nimport matplotlib.pyplot as plt\ndf = pd.DataFrame({'data':[1,2,2,3,3,3,4,4,5]})\ndf.plot.hist(bins=5, alpha=0.7)\nplt.show()", "difficulty": "easy", "tags": ["pandas", "histogram"]}
{"id": "pandas_plot_008", "category": "hexbin", "question": "How to create a hexbin plot?", "code": "import pandas as pd\nimport matplotlib.pyplot as plt\nimport numpy as np\ndf = pd.DataFrame({'x':np.random.randn(1000), 'y':np.random.randn(1000)})\ndf.plot.hexbin(x='x', y='y', gridsize=20)\nplt.show()", "difficulty": "medium", "tags": ["pandas", "hexbin"]}
{"id": "pandas_plot_003", "category": "barplot", "question": "How to create a bar chart?", "code": "import pandas as pd\nimport matplotlib.pyplot as plt\ndf = pd.DataFrame({'category':['A','B','C'], 'values':[10,20,15]})\ndf.plot.bar(x='category', y='values')\nplt.show()", "difficulty": "easy", "tags": ["pandas", "barplot"]}
{"id": "pandas_plot_014", "category": "histogram", "question": "How to plot stacked histogram?", "code": "import pandas as pd\nimport matplotlib.pyplot as plt\ndf = pd.DataFrame({'A':[1,2,3,4], 'B':[2,3,4,5], 'C':[3,4,5,6]})\ndf.plot.hist(stacked=True, alpha=0.7)\nplt.show()", "difficulty": "medium", "tags": ["pandas", "histogram", "stacked"]}
{"id": "scipy_advanced_001", "category": "optimization", "question": "How to perform global optimization with nonlinear constraints using differential evolution?", "code": "import numpy as np\nfrom scipy.optimize import differential_evolution, NonlinearConstraint\n\n# Complex objective with multiple local minima\ndef objective(x):\n    return -(x[0]*np.sin(4*np.pi*x[0]) - x[1]*np.sin(4*np.pi*x[1] + np.pi) + 1)\n\n# Nonlinear constraint\ndef constraint_func(x):\n  return np.array([x[0]**2 + x[1]**2, x[0] - x[1]])\n\nconstraint = NonlinearConstraint(constraint_func, [0.5, -1], [2.0, 0.5])\n\n# Bounds for the optimization\nbounds = [(-2, 2), (-2, 2)]\n\n# Global optimization with constraints\nresult = differential_evolution(objective, bounds, constraints=constraint,\n                               strategy='best1bin', maxiter=1000,\n  popsize=15, mutation=(0.5, 1.5),\n recombination=0.7, seed=42,\n updating='deferred', workers=-1)\nprint(f'Optimal solution: {result.x}')\nprint(f'Optimal value: {result.fun}')\nprint(f'Success: {result.success}')", "difficulty": "hard", "tags": ["scipy", "optimization", "differential_evolution", "constraints"]}
{"id": "scipy_medium_001", "category": "optimization", "question": "How to solve constrained nonlinear optimization with multiple constraints using SLSQP?", "code": "import numpy as np\nfrom scipy.optimize import minimize\nfrom scipy.optimize import Bounds, LinearConstraint, NonlinearConstraint\n\ndef objective(x):\n    return (x[0] - 1)**2 + (x[1] - 2.5)**2 + np.exp(-x[2]**2)\n\ndef nonlinear_constraint1(x):\n    return x[0]**2 + x[1]**2 + x[2]**2 - 5\n\ndef nonlinear_constraint2(x):\n    return np.sin(x[0]) + np.cos(x[1]) - x[2]\n\n# Define constraints\nlinear_constraint = LinearConstraint([[1, 1, 0], [0, 1, 1]], \n [1, -2], [3, 2])\nnonlinear_constraint = NonlinearConstraint(\n    lambda x: [nonlinear_constraint1(x), nonlinear_constraint2(x)], \n    [0, -1], [np.inf, 1]\n)\nbounds = Bounds([-1, -2, -3], [4, 5, 6])\n\n# Initial guess\nx0 = [0.5, 1.5, 0.0]\n\n# Solve using SLSQP method\nresult = minimize(objective, x0, method='SLSQP',\n  bounds=bounds,\n   constraints=[linear_constraint, nonlinear_constraint],\n options={'maxiter': 1000, 'ftol': 1e-9})\n\nprint(f'Optimal solution: {result.x}')\nprint(f'Objective value: {result.fun:.6f}')\nprint(f'Success: {result.success}')\nprint(f'Number of iterations: {result.nit}')", "difficulty": "medium", "tags": ["scipy", "optimization", "constraints", "nonlinear"]}
{"id": "scipy_medium_002", "category": "signal", "question": "How to filter and detect peaks in ECG signal?", "code": "from scipy.signal import butter, filtfilt, find_peaks\nimport numpy as np\n\n# Generate ECG-like signal\nt = np.linspace(0, 5, 1000)\necg = np.sin(2*np.pi*1.2*t) + 0.5*np.sin(2*np.pi*5*t)\necg_noisy = ecg + 0.3*np.random.randn(len(t))\n\n# Design bandpass filter\nfs = 200\nnyq = 0.5*fs\nlow, high = 0.5/nyq, 40/nyq\nb, a = butter(4, [low, high], btype='band')\necg_filtered = filtfilt(b, a, ecg_noisy)\n\n# Detect R-peaks\npeaks, properties = find_peaks(ecg_filtered, \n height=0.8, \n  distance=fs*0.6)\nprint(f'Detected {len(peaks)} peaks')\nprint(f'Peak heights: {properties[\"peak_heights\"]}')", "difficulty": "medium", "tags": ["scipy", "signal", "filtering", "peak_detection", "ECG"]}